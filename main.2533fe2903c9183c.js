"use strict";(self.webpackChunkToDo=self.webpackChunkToDo||[]).push([[179],{2011:(ut,Ce,F)=>{F.d(Ce,{Dh:()=>de,GT:()=>ye,cc:()=>je,on:()=>Ie,pX:()=>le,xv:()=>he});var c=F(5e3),B=F(127);ut=F.hmd(ut);const P=["ngOnDestroy"],le=(X,Ee,$e,Ve={})=>new Proxy(X,{get:(De,ge)=>$e.runOutsideAngular(()=>{var ue;if(X[ge])return(null===(ue=null==Ve?void 0:Ve.spy)||void 0===ue?void 0:ue.get)&&Ve.spy.get(ge,X[ge]),X[ge];if(P.indexOf(ge)>-1)return()=>{};const Fe=Ee.toPromise().then(Q=>{const Be=Q&&Q[ge];return"function"==typeof Be?Be.bind(Q):Be&&Be.then?Be.then(Y=>$e.run(()=>Y)):$e.run(()=>Be)});return new Proxy(()=>{},{get:(Q,Be)=>Fe[Be],apply:(Q,Be,Y)=>Fe.then(se=>{var te;const oe=se&&se(...Y);return(null===(te=null==Ve?void 0:Ve.spy)||void 0===te?void 0:te.apply)&&Ve.spy.apply(ge,Y,oe),oe})})})}),ye=(X,Ee)=>{Ee.forEach($e=>{Object.getOwnPropertyNames($e.prototype||$e).forEach(Ve=>{Object.defineProperty(X.prototype,Ve,Object.getOwnPropertyDescriptor($e.prototype||$e,Ve))})})};class ve{constructor(Ee){return Ee}}const de=new c.OlP("angularfire2.app.options"),he=new c.OlP("angularfire2.app.name");function Ie(X,Ee,$e){const De="object"==typeof $e&&$e||{};De.name=De.name||"string"==typeof $e&&$e||"[DEFAULT]";const ue=B.Z.apps.filter(Fe=>Fe&&Fe.name===De.name)[0]||Ee.runOutsideAngular(()=>B.Z.initializeApp(X,De));try{JSON.stringify(X)!==JSON.stringify(ue.options)&&z("error",`${ue.name} Firebase App already initialized with different options${ut.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Fe){}return new ve(ue)}const z=(X,...Ee)=>{(0,c.X6Q)()&&"undefined"!=typeof console&&console[X](...Ee)};function je(X,Ee,$e,Ve,De){const[,ge,ue]=globalThis.\u0275AngularfireInstanceCache.find(Fe=>Fe[0]===X)||[];if(ge)return function Ae(X,Ee){try{return X.toString()===Ee.toString()}catch($e){return X===Ee}}(De,ue)||(Se("error",`${Ee} was already initialized on the ${$e} Firebase App with different settings.${Re?" You may need to reload as Firebase is not HMR aware.":""}`),Se("warn",{is:De,was:ue})),ge;{const Fe=Ve();return globalThis.\u0275AngularfireInstanceCache.push([X,Fe,De]),Fe}}const Re=!!ut.hot,Se=(X,...Ee)=>{(0,c.X6Q)()&&"undefined"!=typeof console&&console[X](...Ee)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},573:(ut,Ce,F)=>{F.d(Ce,{$:()=>pf,A:()=>$,E:()=>Ot,G:()=>Ai,I:()=>ns,K:()=>N,L:()=>df,M:()=>tg,N:()=>Ua,P:()=>Ic,Q:()=>ic,R:()=>bg,T:()=>Er,U:()=>Wo,V:()=>ig,W:()=>Ob,X:()=>ai,Y:()=>lc,Z:()=>Ti,_:()=>rs,a:()=>Xo,a0:()=>sg,a1:()=>og,a2:()=>_e,a3:()=>ag,a4:()=>hc,a5:()=>Dr,a6:()=>Uu,a7:()=>Pb,a8:()=>mf,a9:()=>ss,aA:()=>hs,aB:()=>ra,aC:()=>rn,aG:()=>Ls,aJ:()=>ja,aa:()=>Qo,ab:()=>lg,ae:()=>Hu,af:()=>ug,ag:()=>$u,aj:()=>ff,ak:()=>pg,am:()=>qu,an:()=>_c,ao:()=>ln,ap:()=>Y,aq:()=>vt,ar:()=>Ue,as:()=>Ve,at:()=>kc,au:()=>ol,av:()=>De,aw:()=>Q,ax:()=>te,ay:()=>G,az:()=>fs,b:()=>bn,c:()=>Df,d:()=>If,e:()=>gI,f:()=>Tf,g:()=>Mf,h:()=>Ag,i:()=>Ja,j:()=>xf,k:()=>ua,l:()=>Mn,m:()=>Ng,o:()=>he,r:()=>xi,s:()=>Us,u:()=>cs,z:()=>Ae});var c=F(5861),B=F(2090),P=F(9681),le=F(655),ye=F(1877),ve=F(4859);const he={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},$={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Ae=function K(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Re=function je(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Se=new B.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ee=new ye.Yd("@firebase/auth");function $e(b,...m){Ee.logLevel<=ye.in.ERROR&&Ee.error(`Auth (${P.SDK_VERSION}): ${b}`,...m)}function Ve(b,...m){throw Fe(b,...m)}function De(b,...m){return Fe(b,...m)}function ge(b,m,_){const C=Object.assign(Object.assign({},Re()),{[m]:_});return new B.LL("auth","Firebase",C).create(m,{appName:b.name})}function ue(b,m,_){if(!(m instanceof _))throw _.name!==m.constructor.name&&Ve(b,"argument-error"),ge(b,"argument-error",`Type of ${m.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Fe(b,...m){if("string"!=typeof b){const _=m[0],C=[...m.slice(1)];return C[0]&&(C[0].appName=b.name),b._errorFactory.create(_,...C)}return Se.create(b,...m)}function Q(b,m,..._){if(!b)throw Fe(m,..._)}function Be(b){const m="INTERNAL ASSERTION FAILED: "+b;throw $e(m),new Error(m)}function Y(b,m){b||Be(m)}const se=new Map;function te(b){Y(b instanceof Function,"Expected a class definition");let m=se.get(b);return m?(Y(m instanceof b,"Instance stored in cache mismatched with class"),m):(m=new b,se.set(b,m),m)}function ee(){var b;return"undefined"!=typeof self&&(null===(b=self.location)||void 0===b?void 0:b.href)||""}function _t(){return"http:"===qt()||"https:"===qt()}function qt(){var b;return"undefined"!=typeof self&&(null===(b=self.location)||void 0===b?void 0:b.protocol)||null}class st{constructor(m,_){this.shortDelay=m,this.longDelay=_,Y(_>m,"Short delay should be less than long delay!"),this.isMobile=(0,B.uI)()||(0,B.b$)()}get(){return function Fn(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(_t()||(0,B.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function _n(b,m){Y(b.emulator,"Emulator should always be set here");const{url:_}=b.emulator;return m?`${_}${m.startsWith("/")?m.slice(1):m}`:_}class pn{static initialize(m,_,C){this.fetchImpl=m,_&&(this.headersImpl=_),C&&(this.responseImpl=C)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Be("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Be("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Be("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const gr={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Yt=new st(3e4,6e4);function zt(b,m){return b.tenantId&&!m.tenantId?Object.assign(Object.assign({},m),{tenantId:b.tenantId}):m}function Zt(b,m,_,C){return yn.apply(this,arguments)}function yn(){return(yn=(0,c.Z)(function*(b,m,_,C,S={}){return _r(b,S,(0,c.Z)(function*(){let k={},Z={};C&&("GET"===m?Z=C:k={body:JSON.stringify(C)});const me=(0,B.xO)(Object.assign({key:b.config.apiKey},Z)).slice(1),Qe=yield b._getAdditionalHeaders();return Qe["Content-Type"]="application/json",b.languageCode&&(Qe["X-Firebase-Locale"]=b.languageCode),pn.fetch()(sr(b,b.config.apiHost,_,me),Object.assign({method:m,headers:Qe,referrerPolicy:"no-referrer"},k))}))})).apply(this,arguments)}function _r(b,m,_){return Ei.apply(this,arguments)}function Ei(){return(Ei=(0,c.Z)(function*(b,m,_){b._canInitEmulator=!1;const C=Object.assign(Object.assign({},gr),m);try{const S=new yr(b),k=yield Promise.race([_(),S.promise]);S.clearNetworkTimeout();const Z=yield k.json();if("needConfirmation"in Z)throw Di(b,"account-exists-with-different-credential",Z);if(k.ok&&!("errorMessage"in Z))return Z;{const me=k.ok?Z.errorMessage:Z.error.message,[Qe,ct]=me.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Qe)throw Di(b,"credential-already-in-use",Z);if("EMAIL_EXISTS"===Qe)throw Di(b,"email-already-in-use",Z);const At=C[Qe]||Qe.toLowerCase().replace(/[_\s]+/g,"-");if(ct)throw ge(b,At,ct);Ve(b,At)}}catch(S){if(S instanceof B.ZR)throw S;Ve(b,"network-request-failed")}})).apply(this,arguments)}function gi(b,m,_,C){return Vr.apply(this,arguments)}function Vr(){return(Vr=(0,c.Z)(function*(b,m,_,C,S={}){const k=yield Zt(b,m,_,C,S);return"mfaPendingCredential"in k&&Ve(b,"multi-factor-auth-required",{_serverResponse:k}),k})).apply(this,arguments)}function sr(b,m,_,C){const S=`${m}${_}?${C}`;return b.config.emulator?_n(b.config,S):`${b.config.apiScheme}://${S}`}class yr{constructor(m){this.auth=m,this.timer=null,this.promise=new Promise((_,C)=>{this.timer=setTimeout(()=>C(De(this.auth,"network-request-failed")),Yt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Di(b,m,_){const C={appName:b.name};_.email&&(C.email=_.email),_.phoneNumber&&(C.phoneNumber=_.phoneNumber);const S=De(b,m,C);return S.customData._tokenResponse=_,S}function at(){return(at=(0,c.Z)(function*(b,m){return Zt(b,"POST","/v1/accounts:delete",m)})).apply(this,arguments)}function ji(b,m){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,c.Z)(function*(b,m){return Zt(b,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function Xt(b,m){return ri.apply(this,arguments)}function ri(){return(ri=(0,c.Z)(function*(b,m){return Zt(b,"POST","/v1/accounts:lookup",m)})).apply(this,arguments)}function Br(b){if(b)try{const m=new Date(Number(b));if(!isNaN(m.getTime()))return m.toUTCString()}catch(m){}}function Ii(){return(Ii=(0,c.Z)(function*(b,m=!1){const _=(0,B.m9)(b),C=yield _.getIdToken(m),S=Rt(C);Q(S&&S.exp&&S.auth_time&&S.iat,_.auth,"internal-error");const k="object"==typeof S.firebase?S.firebase:void 0,Z=null==k?void 0:k.sign_in_provider;return{claims:S,token:C,authTime:Br(ro(S.auth_time)),issuedAtTime:Br(ro(S.iat)),expirationTime:Br(ro(S.exp)),signInProvider:Z||null,signInSecondFactor:(null==k?void 0:k.sign_in_second_factor)||null}})).apply(this,arguments)}function ro(b){return 1e3*Number(b)}function Rt(b){const[m,_,C]=b.split(".");if(void 0===m||void 0===_||void 0===C)return $e("JWT malformed, contained fewer than 3 sections"),null;try{const S=(0,B.tV)(_);return S?JSON.parse(S):($e("Failed to decode base64 JWT payload"),null)}catch(S){return $e("Caught error parsing JWT payload as JSON",S),null}}function Ye(b,m){return vr.apply(this,arguments)}function vr(){return(vr=(0,c.Z)(function*(b,m,_=!1){if(_)return m;try{return yield m}catch(C){throw C instanceof B.ZR&&ts(C)&&b.auth.currentUser===b&&(yield b.auth.signOut()),C}})).apply(this,arguments)}function ts({code:b}){return"auth/user-disabled"===b||"auth/user-token-expired"===b}class Lt{constructor(m){this.user=m,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(m){var _;if(m){const C=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),C}{this.errorBackoff=3e4;const S=(null!==(_=this.user.stsTokenManager.expirationTime)&&void 0!==_?_:0)-Date.now()-3e5;return Math.max(0,S)}}schedule(m=!1){var _=this;if(!this.isRunning)return;const C=this.getInterval(m);this.timerId=setTimeout((0,c.Z)(function*(){yield _.iteration()}),C)}iteration(){var m=this;return(0,c.Z)(function*(){try{yield m.user.getIdToken(!0)}catch(_){return void("auth/network-request-failed"===_.code&&m.schedule(!0))}m.schedule()})()}}class Ur{constructor(m,_){this.createdAt=m,this.lastLoginAt=_,this._initializeTime()}_initializeTime(){this.lastSignInTime=Br(this.lastLoginAt),this.creationTime=Br(this.createdAt)}_copy(m){this.createdAt=m.createdAt,this.lastLoginAt=m.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Cn(b){return nn.apply(this,arguments)}function nn(){return(nn=(0,c.Z)(function*(b){var m;const _=b.auth,C=yield b.getIdToken(),S=yield Ye(b,Xt(_,{idToken:C}));Q(null==S?void 0:S.users.length,_,"internal-error");const k=S.users[0];b._notifyReloadListener(k);const Z=(null===(m=k.providerUserInfo)||void 0===m?void 0:m.length)?Pe(k.providerUserInfo):[],me=Bt(b.providerData,Z),At=!!b.isAnonymous&&!(b.email&&k.passwordHash||(null==me?void 0:me.length)),gn={uid:k.localId,displayName:k.displayName||null,photoURL:k.photoUrl||null,email:k.email||null,emailVerified:k.emailVerified||!1,phoneNumber:k.phoneNumber||null,tenantId:k.tenantId||null,providerData:me,metadata:new Ur(k.createdAt,k.lastLoginAt),isAnonymous:At};Object.assign(b,gn)})).apply(this,arguments)}function Vn(){return(Vn=(0,c.Z)(function*(b){const m=(0,B.m9)(b);yield Cn(m),yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)})).apply(this,arguments)}function Bt(b,m){return[...b.filter(C=>!m.some(S=>S.providerId===C.providerId)),...m]}function Pe(b){return b.map(m=>{var{providerId:_}=m,C=(0,le._T)(m,["providerId"]);return{providerId:_,uid:C.rawId||"",displayName:C.displayName||null,email:C.email||null,phoneNumber:C.phoneNumber||null,photoURL:C.photoUrl||null}})}function ze(){return(ze=(0,c.Z)(function*(b,m){const _=yield _r(b,{},(0,c.Z)(function*(){const C=(0,B.xO)({grant_type:"refresh_token",refresh_token:m}).slice(1),{tokenApiHost:S,apiKey:k}=b.config,Z=sr(b,S,"/v1/token",`key=${k}`),me=yield b._getAdditionalHeaders();return me["Content-Type"]="application/x-www-form-urlencoded",pn.fetch()(Z,{method:"POST",headers:me,body:C})}));return{accessToken:_.access_token,expiresIn:_.expires_in,refreshToken:_.refresh_token}})).apply(this,arguments)}class rt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(m){Q(m.idToken,"internal-error"),Q(void 0!==m.idToken,"internal-error"),Q(void 0!==m.refreshToken,"internal-error");const _="expiresIn"in m&&void 0!==m.expiresIn?Number(m.expiresIn):function ot(b){const m=Rt(b);return Q(m,"internal-error"),Q(void 0!==m.exp,"internal-error"),Q(void 0!==m.iat,"internal-error"),Number(m.exp)-Number(m.iat)}(m.idToken);this.updateTokensAndExpiration(m.idToken,m.refreshToken,_)}getToken(m,_=!1){var C=this;return(0,c.Z)(function*(){return Q(!C.accessToken||C.refreshToken,m,"user-token-expired"),_||!C.accessToken||C.isExpired?C.refreshToken?(yield C.refresh(m,C.refreshToken),C.accessToken):null:C.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(m,_){var C=this;return(0,c.Z)(function*(){const{accessToken:S,refreshToken:k,expiresIn:Z}=yield function pe(b,m){return ze.apply(this,arguments)}(m,_);C.updateTokensAndExpiration(S,k,Number(Z))})()}updateTokensAndExpiration(m,_,C){this.refreshToken=_||null,this.accessToken=m||null,this.expirationTime=Date.now()+1e3*C}static fromJSON(m,_){const{refreshToken:C,accessToken:S,expirationTime:k}=_,Z=new rt;return C&&(Q("string"==typeof C,"internal-error",{appName:m}),Z.refreshToken=C),S&&(Q("string"==typeof S,"internal-error",{appName:m}),Z.accessToken=S),k&&(Q("number"==typeof k,"internal-error",{appName:m}),Z.expirationTime=k),Z}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(m){this.accessToken=m.accessToken,this.refreshToken=m.refreshToken,this.expirationTime=m.expirationTime}_clone(){return Object.assign(new rt,this.toJSON())}_performRefresh(){return Be("not implemented")}}function kt(b,m){Q("string"==typeof b||void 0===b,"internal-error",{appName:m})}class xt{constructor(m){var{uid:_,auth:C,stsTokenManager:S}=m,k=(0,le._T)(m,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Lt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=_,this.auth=C,this.stsTokenManager=S,this.accessToken=S.accessToken,this.displayName=k.displayName||null,this.email=k.email||null,this.emailVerified=k.emailVerified||!1,this.phoneNumber=k.phoneNumber||null,this.photoURL=k.photoURL||null,this.isAnonymous=k.isAnonymous||!1,this.tenantId=k.tenantId||null,this.providerData=k.providerData?[...k.providerData]:[],this.metadata=new Ur(k.createdAt||void 0,k.lastLoginAt||void 0)}getIdToken(m){var _=this;return(0,c.Z)(function*(){const C=yield Ye(_,_.stsTokenManager.getToken(_.auth,m));return Q(C,_.auth,"internal-error"),_.accessToken!==C&&(_.accessToken=C,yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)),C})()}getIdTokenResult(m){return function An(b){return Ii.apply(this,arguments)}(this,m)}reload(){return function lt(b){return Vn.apply(this,arguments)}(this)}_assign(m){this!==m&&(Q(this.uid===m.uid,this.auth,"internal-error"),this.displayName=m.displayName,this.photoURL=m.photoURL,this.email=m.email,this.emailVerified=m.emailVerified,this.phoneNumber=m.phoneNumber,this.isAnonymous=m.isAnonymous,this.tenantId=m.tenantId,this.providerData=m.providerData.map(_=>Object.assign({},_)),this.metadata._copy(m.metadata),this.stsTokenManager._assign(m.stsTokenManager))}_clone(m){return new xt(Object.assign(Object.assign({},this),{auth:m,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(m){Q(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=m,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(m){this.reloadListener?this.reloadListener(m):this.reloadUserInfo=m}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(m,_=!1){var C=this;return(0,c.Z)(function*(){let S=!1;m.idToken&&m.idToken!==C.stsTokenManager.accessToken&&(C.stsTokenManager.updateFromServerResponse(m),S=!0),_&&(yield Cn(C)),yield C.auth._persistUserIfCurrent(C),S&&C.auth._notifyListenersIfCurrent(C)})()}delete(){var m=this;return(0,c.Z)(function*(){const _=yield m.getIdToken();return yield Ye(m,function io(b,m){return at.apply(this,arguments)}(m.auth,{idToken:_})),m.stsTokenManager.clearRefreshToken(),m.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(m=>Object.assign({},m)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(m,_){var C,S,k,Z,me,Qe,ct,At;const gn=null!==(C=_.displayName)&&void 0!==C?C:void 0,zr=null!==(S=_.email)&&void 0!==S?S:void 0,Io=null!==(k=_.phoneNumber)&&void 0!==k?k:void 0,ul=null!==(Z=_.photoURL)&&void 0!==Z?Z:void 0,da=null!==(me=_.tenantId)&&void 0!==me?me:void 0,dl=null!==(Qe=_._redirectEventId)&&void 0!==Qe?Qe:void 0,Lf=null!==(ct=_.createdAt)&&void 0!==ct?ct:void 0,Bg=null!==(At=_.lastLoginAt)&&void 0!==At?At:void 0,{uid:hl,emailVerified:Gs,isAnonymous:Vf,providerData:Rc,stsTokenManager:Bf}=_;Q(hl&&Bf,m,"internal-error");const bd=rt.fromJSON(this.name,Bf);Q("string"==typeof hl,m,"internal-error"),kt(gn,m.name),kt(zr,m.name),Q("boolean"==typeof Gs,m,"internal-error"),Q("boolean"==typeof Vf,m,"internal-error"),kt(Io,m.name),kt(ul,m.name),kt(da,m.name),kt(dl,m.name),kt(Lf,m.name),kt(Bg,m.name);const ha=new xt({uid:hl,auth:m,email:zr,emailVerified:Gs,displayName:gn,isAnonymous:Vf,photoURL:ul,phoneNumber:Io,tenantId:da,stsTokenManager:bd,createdAt:Lf,lastLoginAt:Bg});return Rc&&Array.isArray(Rc)&&(ha.providerData=Rc.map(Ug=>Object.assign({},Ug))),dl&&(ha._redirectEventId=dl),ha}static _fromIdTokenResponse(m,_,C=!1){return(0,c.Z)(function*(){const S=new rt;S.updateFromServerResponse(_);const k=new xt({uid:_.localId,auth:m,stsTokenManager:S,isAnonymous:C});return yield Cn(k),k})()}}const N=(()=>{class b{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,c.Z)(function*(){return!0})()}_set(_,C){var S=this;return(0,c.Z)(function*(){S.storage[_]=C})()}_get(_){var C=this;return(0,c.Z)(function*(){const S=C.storage[_];return void 0===S?null:S})()}_remove(_){var C=this;return(0,c.Z)(function*(){delete C.storage[_]})()}_addListener(_,C){}_removeListener(_,C){}}return b.type="NONE",b})();function G(b,m,_){return`firebase:${b}:${m}:${_}`}class re{constructor(m,_,C){this.persistence=m,this.auth=_,this.userKey=C;const{config:S,name:k}=this.auth;this.fullUserKey=G(this.userKey,S.apiKey,k),this.fullPersistenceKey=G("persistence",S.apiKey,k),this.boundEventHandler=_._onStorageEvent.bind(_),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(m){return this.persistence._set(this.fullUserKey,m.toJSON())}getCurrentUser(){var m=this;return(0,c.Z)(function*(){const _=yield m.persistence._get(m.fullUserKey);return _?xt._fromJSON(m.auth,_):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(m){var _=this;return(0,c.Z)(function*(){if(_.persistence===m)return;const C=yield _.getCurrentUser();return yield _.removeCurrentUser(),_.persistence=m,C?_.setCurrentUser(C):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(m,_,C="authUser"){return(0,c.Z)(function*(){if(!_.length)return new re(te(N),m,C);const S=(yield Promise.all(_.map(function(){var ct=(0,c.Z)(function*(At){if(yield At._isAvailable())return At});return function(At){return ct.apply(this,arguments)}}()))).filter(ct=>ct);let k=S[0]||te(N);const Z=G(C,m.config.apiKey,m.name);let me=null;for(const ct of _)try{const At=yield ct._get(Z);if(At){const gn=xt._fromJSON(m,At);ct!==k&&(me=gn),k=ct;break}}catch(At){}const Qe=S.filter(ct=>ct._shouldAllowMigration);return k._shouldAllowMigration&&Qe.length?(k=Qe[0],me&&(yield k._set(Z,me.toJSON())),yield Promise.all(_.map(function(){var ct=(0,c.Z)(function*(At){if(At!==k)try{yield At._remove(Z)}catch(gn){}});return function(At){return ct.apply(this,arguments)}}())),new re(k,m,C)):new re(k,m,C)})()}}function M(b){const m=b.toLowerCase();if(m.includes("opera/")||m.includes("opr/")||m.includes("opios/"))return"Opera";if(ke(m))return"IEMobile";if(m.includes("msie")||m.includes("trident/"))return"IE";if(m.includes("edge/"))return"Edge";if(O(m))return"Firefox";if(m.includes("silk/"))return"Silk";if(mt(m))return"Blackberry";if(We(m))return"Webos";if(L(m))return"Safari";if((m.includes("chrome/")||ne(m))&&!m.includes("edge/"))return"Chrome";if(Ue(m))return"Android";{const C=b.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==C?void 0:C.length))return C[1]}return"Other"}function O(b=(0,B.z$)()){return/firefox\//i.test(b)}function L(b=(0,B.z$)()){const m=b.toLowerCase();return m.includes("safari/")&&!m.includes("chrome/")&&!m.includes("crios/")&&!m.includes("android")}function ne(b=(0,B.z$)()){return/crios\//i.test(b)}function ke(b=(0,B.z$)()){return/iemobile/i.test(b)}function Ue(b=(0,B.z$)()){return/android/i.test(b)}function mt(b=(0,B.z$)()){return/blackberry/i.test(b)}function We(b=(0,B.z$)()){return/webos/i.test(b)}function vt(b=(0,B.z$)()){return/iphone|ipad|ipod/i.test(b)}function ln(b=(0,B.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(b)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(b)}function oi(b=(0,B.z$)()){return vt(b)||Ue(b)||We(b)||mt(b)||/windows phone/i.test(b)||ke(b)}function Wn(b,m=[]){let _;switch(b){case"Browser":_=M((0,B.z$)());break;case"Worker":_=`${M((0,B.z$)())}-${b}`;break;default:_=b}const C=m.length?m.join(","):"FirebaseCore-web";return`${_}/JsCore/${P.SDK_VERSION}/${C}`}class xu{constructor(m,_,C){this.app=m,this.heartbeatServiceProvider=_,this.config=C,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Le(this),this.idTokenSubscription=new Le(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Se,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=m.name,this.clientVersion=C.sdkClientVersion}_initializeWithPersistence(m,_){var C=this;return _&&(this._popupRedirectResolver=te(_)),this._initializationPromise=this.queue((0,c.Z)(function*(){var S,k;if(!C._deleted&&(C.persistenceManager=yield re.create(C,m),!C._deleted)){if(null===(S=C._popupRedirectResolver)||void 0===S?void 0:S._shouldInitProactively)try{yield C._popupRedirectResolver._initialize(C)}catch(Z){}yield C.initializeCurrentUser(_),C.lastNotifiedUid=(null===(k=C.currentUser)||void 0===k?void 0:k.uid)||null,!C._deleted&&(C._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var m=this;return(0,c.Z)(function*(){if(m._deleted)return;const _=yield m.assertedPersistence.getCurrentUser();if(m.currentUser||_){if(m.currentUser&&_&&m.currentUser.uid===_.uid)return m._currentUser._assign(_),void(yield m.currentUser.getIdToken());yield m._updateCurrentUser(_)}})()}initializeCurrentUser(m){var _=this;return(0,c.Z)(function*(){var C;let S=yield _.assertedPersistence.getCurrentUser();if(m&&_.config.authDomain){yield _.getOrInitRedirectPersistenceManager();const k=null===(C=_.redirectUser)||void 0===C?void 0:C._redirectEventId,Z=null==S?void 0:S._redirectEventId,me=yield _.tryRedirectSignIn(m);(!k||k===Z)&&(null==me?void 0:me.user)&&(S=me.user)}return S?S._redirectEventId?(Q(_._popupRedirectResolver,_,"argument-error"),yield _.getOrInitRedirectPersistenceManager(),_.redirectUser&&_.redirectUser._redirectEventId===S._redirectEventId?_.directlySetCurrentUser(S):_.reloadAndSetCurrentUserOrClear(S)):_.reloadAndSetCurrentUserOrClear(S):_.directlySetCurrentUser(null)})()}tryRedirectSignIn(m){var _=this;return(0,c.Z)(function*(){let C=null;try{C=yield _._popupRedirectResolver._completeRedirectFn(_,m,!0)}catch(S){yield _._setRedirectUser(null)}return C})()}reloadAndSetCurrentUserOrClear(m){var _=this;return(0,c.Z)(function*(){try{yield Cn(m)}catch(C){if("auth/network-request-failed"!==C.code)return _.directlySetCurrentUser(null)}return _.directlySetCurrentUser(m)})()}useDeviceLanguage(){this.languageCode=function it(){if("undefined"==typeof navigator)return null;const b=navigator;return b.languages&&b.languages[0]||b.language||null}()}_delete(){var m=this;return(0,c.Z)(function*(){m._deleted=!0})()}updateCurrentUser(m){var _=this;return(0,c.Z)(function*(){const C=m?(0,B.m9)(m):null;return C&&Q(C.auth.config.apiKey===_.config.apiKey,_,"invalid-user-token"),_._updateCurrentUser(C&&C._clone(_))})()}_updateCurrentUser(m){var _=this;return(0,c.Z)(function*(){if(!_._deleted)return m&&Q(_.tenantId===m.tenantId,_,"tenant-id-mismatch"),_.queue((0,c.Z)(function*(){yield _.directlySetCurrentUser(m),_.notifyAuthListeners()}))})()}signOut(){var m=this;return(0,c.Z)(function*(){return(m.redirectPersistenceManager||m._popupRedirectResolver)&&(yield m._setRedirectUser(null)),m._updateCurrentUser(null)})()}setPersistence(m){var _=this;return this.queue((0,c.Z)(function*(){yield _.assertedPersistence.setPersistence(te(m))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(m){this._errorFactory=new B.LL("auth","Firebase",m())}onAuthStateChanged(m,_,C){return this.registerStateListener(this.authStateSubscription,m,_,C)}onIdTokenChanged(m,_,C){return this.registerStateListener(this.idTokenSubscription,m,_,C)}toJSON(){var m;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(m=this._currentUser)||void 0===m?void 0:m.toJSON()}}_setRedirectUser(m,_){var C=this;return(0,c.Z)(function*(){const S=yield C.getOrInitRedirectPersistenceManager(_);return null===m?S.removeCurrentUser():S.setCurrentUser(m)})()}getOrInitRedirectPersistenceManager(m){var _=this;return(0,c.Z)(function*(){if(!_.redirectPersistenceManager){const C=m&&te(m)||_._popupRedirectResolver;Q(C,_,"argument-error"),_.redirectPersistenceManager=yield re.create(_,[te(C._redirectPersistence)],"redirectUser"),_.redirectUser=yield _.redirectPersistenceManager.getCurrentUser()}return _.redirectPersistenceManager})()}_redirectUserForId(m){var _=this;return(0,c.Z)(function*(){var C,S;return _._isInitialized&&(yield _.queue((0,c.Z)(function*(){}))),(null===(C=_._currentUser)||void 0===C?void 0:C._redirectEventId)===m?_._currentUser:(null===(S=_.redirectUser)||void 0===S?void 0:S._redirectEventId)===m?_.redirectUser:null})()}_persistUserIfCurrent(m){var _=this;return(0,c.Z)(function*(){if(m===_.currentUser)return _.queue((0,c.Z)(function*(){return _.directlySetCurrentUser(m)}))})()}_notifyListenersIfCurrent(m){m===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var m,_;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const C=null!==(_=null===(m=this.currentUser)||void 0===m?void 0:m.uid)&&void 0!==_?_:null;this.lastNotifiedUid!==C&&(this.lastNotifiedUid=C,this.authStateSubscription.next(this.currentUser))}registerStateListener(m,_,C,S){if(this._deleted)return()=>{};const k="function"==typeof _?_:_.next.bind(_),Z=this._isInitialized?Promise.resolve():this._initializationPromise;return Q(Z,this,"internal-error"),Z.then(()=>k(this.currentUser)),"function"==typeof _?m.addObserver(_,C,S):m.addObserver(_)}directlySetCurrentUser(m){var _=this;return(0,c.Z)(function*(){_.currentUser&&_.currentUser!==m&&(_._currentUser._stopProactiveRefresh(),m&&_.isProactiveRefreshEnabled&&m._startProactiveRefresh()),_.currentUser=m,m?yield _.assertedPersistence.setCurrentUser(m):yield _.assertedPersistence.removeCurrentUser()})()}queue(m){return this.operations=this.operations.then(m,m),this.operations}get assertedPersistence(){return Q(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(m){!m||this.frameworks.includes(m)||(this.frameworks.push(m),this.frameworks.sort(),this.clientVersion=Wn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var m=this;return(0,c.Z)(function*(){var _;const C={"X-Client-Version":m.clientVersion};m.app.options.appId&&(C["X-Firebase-gmpid"]=m.app.options.appId);const S=yield null===(_=m.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getHeartbeatsHeader();return S&&(C["X-Firebase-Client"]=S),C})()}}function rn(b){return(0,B.m9)(b)}class Le{constructor(m){this.auth=m,this.observer=null,this.addObserver=(0,B.ne)(_=>this.observer=_)}get next(){return Q(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Ot(b,m,_){const C=rn(b);Q(C._canInitEmulator,C,"emulator-config-failed"),Q(/^https?:\/\//.test(m),C,"invalid-emulator-scheme");const S=!!(null==_?void 0:_.disableWarnings),k=sn(m),{host:Z,port:me}=function Hi(b){const m=sn(b),_=/(\/\/)?([^?#/]+)/.exec(b.substr(m.length));if(!_)return{host:"",port:null};const C=_[2].split("@").pop()||"",S=/^(\[[^\]]+\])(:|$)/.exec(C);if(S){const k=S[1];return{host:k,port:xs(C.substr(k.length+1))}}{const[k,Z]=C.split(":");return{host:k,port:xs(Z)}}}(m);C.config.emulator={url:`${k}//${Z}${null===me?"":`:${me}`}/`},C.settings.appVerificationDisabledForTesting=!0,C.emulatorConfig=Object.freeze({host:Z,port:me,protocol:k.replace(":",""),options:Object.freeze({disableWarnings:S})}),S||function jn(){function b(){const m=document.createElement("p"),_=m.style;m.innerText="Running in emulator mode. Do not use with production credentials.",_.position="fixed",_.width="100%",_.backgroundColor="#ffffff",_.border=".1em solid #000000",_.color="#b50000",_.bottom="0px",_.left="0px",_.margin="0px",_.zIndex="10000",_.textAlign="center",m.classList.add("firebase-emulator-warning"),document.body.appendChild(m)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",b):b())}()}function sn(b){const m=b.indexOf(":");return m<0?"":b.substr(0,m+1)}function xs(b){if(!b)return null;const m=Number(b);return isNaN(m)?null:m}class Ai{constructor(m,_){this.providerId=m,this.signInMethod=_}toJSON(){return Be("not implemented")}_getIdTokenResponse(m){return Be("not implemented")}_linkToIdToken(m,_){return Be("not implemented")}_getReauthenticationResolver(m){return Be("not implemented")}}function dn(b,m){return ks.apply(this,arguments)}function ks(){return(ks=(0,c.Z)(function*(b,m){return Zt(b,"POST","/v1/accounts:resetPassword",zt(b,m))})).apply(this,arguments)}function so(b,m){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,c.Z)(function*(b,m){return Zt(b,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function Xl(b,m){return wr.apply(this,arguments)}function wr(){return(wr=(0,c.Z)(function*(b,m){return Zt(b,"POST","/v1/accounts:update",zt(b,m))})).apply(this,arguments)}function Rs(){return(Rs=(0,c.Z)(function*(b,m){return gi(b,"POST","/v1/accounts:signInWithPassword",zt(b,m))})).apply(this,arguments)}function Sn(b,m){return Os.apply(this,arguments)}function Os(){return(Os=(0,c.Z)(function*(b,m){return Zt(b,"POST","/v1/accounts:sendOobCode",zt(b,m))})).apply(this,arguments)}function Va(b,m){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,c.Z)(function*(b,m){return Sn(b,m)})).apply(this,arguments)}function on(b,m){return ec.apply(this,arguments)}function ec(){return(ec=(0,c.Z)(function*(b,m){return Sn(b,m)})).apply(this,arguments)}function Ru(b,m){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,c.Z)(function*(b,m){return Sn(b,m)})).apply(this,arguments)}function Si(b,m){return zo.apply(this,arguments)}function zo(){return(zo=(0,c.Z)(function*(b,m){return Sn(b,m)})).apply(this,arguments)}function oo(){return(oo=(0,c.Z)(function*(b,m){return gi(b,"POST","/v1/accounts:signInWithEmailLink",zt(b,m))})).apply(this,arguments)}function Pu(){return(Pu=(0,c.Z)(function*(b,m){return gi(b,"POST","/v1/accounts:signInWithEmailLink",zt(b,m))})).apply(this,arguments)}class tc extends Ai{constructor(m,_,C,S=null){super("password",C),this._email=m,this._password=_,this._tenantId=S}static _fromEmailAndPassword(m,_){return new tc(m,_,"password")}static _fromEmailAndCode(m,_,C=null){return new tc(m,_,"emailLink",C)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(m){const _="string"==typeof m?JSON.parse(m):m;if((null==_?void 0:_.email)&&(null==_?void 0:_.password)){if("password"===_.signInMethod)return this._fromEmailAndPassword(_.email,_.password);if("emailLink"===_.signInMethod)return this._fromEmailAndCode(_.email,_.password,_.tenantId)}return null}_getIdTokenResponse(m){var _=this;return(0,c.Z)(function*(){switch(_.signInMethod){case"password":return function ku(b,m){return Rs.apply(this,arguments)}(m,{returnSecureToken:!0,email:_._email,password:_._password});case"emailLink":return function Ou(b,m){return oo.apply(this,arguments)}(m,{email:_._email,oobCode:_._password});default:Ve(m,"internal-error")}})()}_linkToIdToken(m,_){var C=this;return(0,c.Z)(function*(){switch(C.signInMethod){case"password":return so(m,{idToken:_,returnSecureToken:!0,email:C._email,password:C._password});case"emailLink":return function Cr(b,m){return Pu.apply(this,arguments)}(m,{idToken:_,email:C._email,oobCode:C._password});default:Ve(m,"internal-error")}})()}_getReauthenticationResolver(m){return this._getIdTokenResponse(m)}}function Ps(b,m){return $i.apply(this,arguments)}function $i(){return($i=(0,c.Z)(function*(b,m){return gi(b,"POST","/v1/accounts:signInWithIdp",zt(b,m))})).apply(this,arguments)}class ns extends Ai{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(m){const _=new ns(m.providerId,m.signInMethod);return m.idToken||m.accessToken?(m.idToken&&(_.idToken=m.idToken),m.accessToken&&(_.accessToken=m.accessToken),m.nonce&&!m.pendingToken&&(_.nonce=m.nonce),m.pendingToken&&(_.pendingToken=m.pendingToken)):m.oauthToken&&m.oauthTokenSecret?(_.accessToken=m.oauthToken,_.secret=m.oauthTokenSecret):Ve("argument-error"),_}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(m){const _="string"==typeof m?JSON.parse(m):m,{providerId:C,signInMethod:S}=_,k=(0,le._T)(_,["providerId","signInMethod"]);if(!C||!S)return null;const Z=new ns(C,S);return Z.idToken=k.idToken||void 0,Z.accessToken=k.accessToken||void 0,Z.secret=k.secret,Z.nonce=k.nonce,Z.pendingToken=k.pendingToken||null,Z}_getIdTokenResponse(m){return Ps(m,this.buildRequest())}_linkToIdToken(m,_){const C=this.buildRequest();return C.idToken=_,Ps(m,C)}_getReauthenticationResolver(m){const _=this.buildRequest();return _.autoCreate=!1,Ps(m,_)}buildRequest(){const m={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)m.pendingToken=this.pendingToken;else{const _={};this.idToken&&(_.id_token=this.idToken),this.accessToken&&(_.access_token=this.accessToken),this.secret&&(_.oauth_token_secret=this.secret),_.providerId=this.providerId,this.nonce&&!this.pendingToken&&(_.nonce=this.nonce),m.postBody=(0,B.xO)(_)}return m}}function Ab(b,m){return af.apply(this,arguments)}function af(){return(af=(0,c.Z)(function*(b,m){return Zt(b,"POST","/v1/accounts:sendVerificationCode",zt(b,m))})).apply(this,arguments)}function lf(){return(lf=(0,c.Z)(function*(b,m){return gi(b,"POST","/v1/accounts:signInWithPhoneNumber",zt(b,m))})).apply(this,arguments)}function cf(){return(cf=(0,c.Z)(function*(b,m){const _=yield gi(b,"POST","/v1/accounts:signInWithPhoneNumber",zt(b,m));if(_.temporaryProof)throw Di(b,"account-exists-with-different-credential",_);return _})).apply(this,arguments)}const Mb={USER_NOT_FOUND:"user-not-found"};function nc(){return(nc=(0,c.Z)(function*(b,m){return gi(b,"POST","/v1/accounts:signInWithPhoneNumber",zt(b,Object.assign(Object.assign({},m),{operation:"REAUTH"})),Mb)})).apply(this,arguments)}class Go extends Ai{constructor(m){super("phone","phone"),this.params=m}static _fromVerification(m,_){return new Go({verificationId:m,verificationCode:_})}static _fromTokenResponse(m,_){return new Go({phoneNumber:m,temporaryProof:_})}_getIdTokenResponse(m){return function Sb(b,m){return lf.apply(this,arguments)}(m,this._makeVerificationRequest())}_linkToIdToken(m,_){return function Tb(b,m){return cf.apply(this,arguments)}(m,Object.assign({idToken:_},this._makeVerificationRequest()))}_getReauthenticationResolver(m){return function xb(b,m){return nc.apply(this,arguments)}(m,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:m,phoneNumber:_,verificationId:C,verificationCode:S}=this.params;return m&&_?{temporaryProof:m,phoneNumber:_}:{sessionInfo:C,code:S}}toJSON(){const m={providerId:this.providerId};return this.params.phoneNumber&&(m.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(m.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(m.verificationCode=this.params.verificationCode),this.params.verificationId&&(m.verificationId=this.params.verificationId),m}static fromJSON(m){"string"==typeof m&&(m=JSON.parse(m));const{verificationId:_,verificationCode:C,phoneNumber:S,temporaryProof:k}=m;return C||_||S||k?new Go({verificationId:_,verificationCode:C,phoneNumber:S,temporaryProof:k}):null}}class qo{constructor(m){var _,C,S,k,Z,me;const Qe=(0,B.zd)((0,B.pd)(m)),ct=null!==(_=Qe.apiKey)&&void 0!==_?_:null,At=null!==(C=Qe.oobCode)&&void 0!==C?C:null,gn=function kb(b){switch(b){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(S=Qe.mode)&&void 0!==S?S:null);Q(ct&&At&&gn,"argument-error"),this.apiKey=ct,this.operation=gn,this.code=At,this.continueUrl=null!==(k=Qe.continueUrl)&&void 0!==k?k:null,this.languageCode=null!==(Z=Qe.languageCode)&&void 0!==Z?Z:null,this.tenantId=null!==(me=Qe.tenantId)&&void 0!==me?me:null}static parseLink(m){const _=function Rb(b){const m=(0,B.zd)((0,B.pd)(b)).link,_=m?(0,B.zd)((0,B.pd)(m)).deep_link_id:null,C=(0,B.zd)((0,B.pd)(b)).deep_link_id;return(C?(0,B.zd)((0,B.pd)(C)).link:null)||C||_||m||b}(m);try{return new qo(_)}catch(C){return null}}}let df=(()=>{class b{constructor(){this.providerId=b.PROVIDER_ID}static credential(_,C){return tc._fromEmailAndPassword(_,C)}static credentialWithLink(_,C){const S=qo.parseLink(C);return Q(S,"argument-error"),tc._fromEmailAndCode(_,S.code,S.tenantId)}}return b.PROVIDER_ID="password",b.EMAIL_PASSWORD_SIGN_IN_METHOD="password",b.EMAIL_LINK_SIGN_IN_METHOD="emailLink",b})();class is{constructor(m){this.providerId=m,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(m){this.defaultLanguageCode=m}setCustomParameters(m){return this.customParameters=m,this}getCustomParameters(){return this.customParameters}}class Ba extends is{constructor(){super(...arguments),this.scopes=[]}addScope(m){return this.scopes.includes(m)||this.scopes.push(m),this}getScopes(){return[...this.scopes]}}class Er extends Ba{static credentialFromJSON(m){const _="string"==typeof m?JSON.parse(m):m;return Q("providerId"in _&&"signInMethod"in _,"argument-error"),ns._fromParams(_)}credential(m){return this._credential(Object.assign(Object.assign({},m),{nonce:m.rawNonce}))}_credential(m){return Q(m.idToken||m.accessToken,"argument-error"),ns._fromParams(Object.assign(Object.assign({},m),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(m){return Er.oauthCredentialFromTaggedObject(m)}static credentialFromError(m){return Er.oauthCredentialFromTaggedObject(m.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:_,oauthAccessToken:C,oauthTokenSecret:S,pendingToken:k,nonce:Z,providerId:me}=m;if(!C&&!S&&!_&&!k||!me)return null;try{return new Er(me)._credential({idToken:_,accessToken:C,nonce:Z,pendingToken:k})}catch(Qe){return null}}}let tg=(()=>{class b extends Ba{constructor(){super("facebook.com")}static credential(_){return ns._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.FACEBOOK_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return b.credential(_.oauthAccessToken)}catch(C){return null}}}return b.FACEBOOK_SIGN_IN_METHOD="facebook.com",b.PROVIDER_ID="facebook.com",b})(),Ua=(()=>{class b extends Ba{constructor(){super("google.com"),this.addScope("profile")}static credential(_,C){return ns._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GOOGLE_SIGN_IN_METHOD,idToken:_,accessToken:C})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:C,oauthAccessToken:S}=_;if(!C&&!S)return null;try{return b.credential(C,S)}catch(k){return null}}}return b.GOOGLE_SIGN_IN_METHOD="google.com",b.PROVIDER_ID="google.com",b})(),ic=(()=>{class b extends Ba{constructor(){super("github.com")}static credential(_){return ns._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GITHUB_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return b.credential(_.oauthAccessToken)}catch(C){return null}}}return b.GITHUB_SIGN_IN_METHOD="github.com",b.PROVIDER_ID="github.com",b})();class ja extends Ai{constructor(m,_){super(m,m),this.pendingToken=_}_getIdTokenResponse(m){return Ps(m,this.buildRequest())}_linkToIdToken(m,_){const C=this.buildRequest();return C.idToken=_,Ps(m,C)}_getReauthenticationResolver(m){const _=this.buildRequest();return _.autoCreate=!1,Ps(m,_)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(m){const _="string"==typeof m?JSON.parse(m):m,{providerId:C,signInMethod:S,pendingToken:k}=_;return C&&S&&k&&C===S?new ja(C,k):null}static _create(m,_){return new ja(m,_)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Wo extends is{constructor(m){Q(m.startsWith("saml."),"argument-error"),super(m)}static credentialFromResult(m){return Wo.samlCredentialFromTaggedObject(m)}static credentialFromError(m){return Wo.samlCredentialFromTaggedObject(m.customData||{})}static credentialFromJSON(m){const _=ja.fromJSON(m);return Q(_,"argument-error"),_}static samlCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{pendingToken:_,providerId:C}=m;if(!_||!C)return null;try{return ja._create(C,_)}catch(S){return null}}}let ig=(()=>{class b extends Ba{constructor(){super("twitter.com")}static credential(_,C){return ns._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.TWITTER_SIGN_IN_METHOD,oauthToken:_,oauthTokenSecret:C})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthAccessToken:C,oauthTokenSecret:S}=_;if(!C||!S)return null;try{return b.credential(C,S)}catch(k){return null}}}return b.TWITTER_SIGN_IN_METHOD="twitter.com",b.PROVIDER_ID="twitter.com",b})();function rc(b,m){return Fu.apply(this,arguments)}function Fu(){return(Fu=(0,c.Z)(function*(b,m){return gi(b,"POST","/v1/accounts:signUp",zt(b,m))})).apply(this,arguments)}class mn{constructor(m){this.user=m.user,this.providerId=m.providerId,this._tokenResponse=m._tokenResponse,this.operationType=m.operationType}static _fromIdTokenResponse(m,_,C,S=!1){return(0,c.Z)(function*(){const k=yield xt._fromIdTokenResponse(m,C,S),Z=Ha(C);return new mn({user:k,providerId:Z,_tokenResponse:C,operationType:_})})()}static _forOperation(m,_,C){return(0,c.Z)(function*(){yield m._updateTokensIfNecessary(C,!0);const S=Ha(C);return new mn({user:m,providerId:S,_tokenResponse:C,operationType:_})})()}}function Ha(b){return b.providerId?b.providerId:"phoneNumber"in b?"phone":null}function Ob(b){return sc.apply(this,arguments)}function sc(){return(sc=(0,c.Z)(function*(b){var m;const _=rn(b);if(yield _._initializationPromise,null===(m=_.currentUser)||void 0===m?void 0:m.isAnonymous)return new mn({user:_.currentUser,providerId:null,operationType:"signIn"});const C=yield rc(_,{returnSecureToken:!0}),S=yield mn._fromIdTokenResponse(_,"signIn",C,!0);return yield _._updateCurrentUser(S.user),S})).apply(this,arguments)}class Nu extends B.ZR{constructor(m,_,C,S){var k;super(_.code,_.message),this.operationType=C,this.user=S,Object.setPrototypeOf(this,Nu.prototype),this.customData={appName:m.name,tenantId:null!==(k=m.tenantId)&&void 0!==k?k:void 0,_serverResponse:_.customData._serverResponse,operationType:C}}static _fromErrorAndOperation(m,_,C,S){return new Nu(m,_,C,S)}}function hf(b,m,_,C){return("reauthenticate"===m?_._getReauthenticationResolver(b):_._getIdTokenResponse(b)).catch(k=>{throw"auth/multi-factor-auth-required"===k.code?Nu._fromErrorAndOperation(b,k,m,C):k})}function oc(b){return new Set(b.map(({providerId:m})=>m).filter(m=>!!m))}function ff(b,m){return $a.apply(this,arguments)}function $a(){return($a=(0,c.Z)(function*(b,m){const _=(0,B.m9)(b);yield za(!0,_,m);const{providerUserInfo:C}=yield ji(_.auth,{idToken:yield _.getIdToken(),deleteProvider:[m]}),S=oc(C||[]);return _.providerData=_.providerData.filter(k=>S.has(k.providerId)),S.has("phone")||(_.phoneNumber=null),yield _.auth._persistUserIfCurrent(_),_})).apply(this,arguments)}function rg(b,m){return hn.apply(this,arguments)}function hn(){return(hn=(0,c.Z)(function*(b,m,_=!1){const C=yield Ye(b,m._linkToIdToken(b.auth,yield b.getIdToken()),_);return mn._forOperation(b,"link",C)})).apply(this,arguments)}function za(b,m,_){return Ga.apply(this,arguments)}function Ga(){return(Ga=(0,c.Z)(function*(b,m,_){yield Cn(m);const S=!1===b?"provider-already-linked":"no-such-provider";Q(oc(m.providerData).has(_)===b,m.auth,S)})).apply(this,arguments)}function cn(b,m){return Lu.apply(this,arguments)}function Lu(){return(Lu=(0,c.Z)(function*(b,m,_=!1){const{auth:C}=b,S="reauthenticate";try{const k=yield Ye(b,hf(C,S,m,b),_);Q(k.idToken,C,"internal-error");const Z=Rt(k.idToken);Q(Z,C,"internal-error");const{sub:me}=Z;return Q(b.uid===me,C,"user-mismatch"),mn._forOperation(b,S,k)}catch(k){throw"auth/user-not-found"===(null==k?void 0:k.code)&&Ve(C,"user-mismatch"),k}})).apply(this,arguments)}function ac(b,m){return Yo.apply(this,arguments)}function Yo(){return(Yo=(0,c.Z)(function*(b,m,_=!1){const C="signIn",S=yield hf(b,C,m),k=yield mn._fromIdTokenResponse(b,C,S);return _||(yield b._updateCurrentUser(k.user)),k})).apply(this,arguments)}function ai(b,m){return Vu.apply(this,arguments)}function Vu(){return(Vu=(0,c.Z)(function*(b,m){return ac(rn(b),m)})).apply(this,arguments)}function lc(b,m){return jr.apply(this,arguments)}function jr(){return(jr=(0,c.Z)(function*(b,m){const _=(0,B.m9)(b);return yield za(!1,_,m.providerId),rg(_,m)})).apply(this,arguments)}function Ti(b,m){return lo.apply(this,arguments)}function lo(){return(lo=(0,c.Z)(function*(b,m){return cn((0,B.m9)(b),m)})).apply(this,arguments)}function Zo(b,m){return cc.apply(this,arguments)}function cc(){return(cc=(0,c.Z)(function*(b,m){return gi(b,"POST","/v1/accounts:signInWithCustomToken",zt(b,m))})).apply(this,arguments)}function rs(b,m){return Fs.apply(this,arguments)}function Fs(){return(Fs=(0,c.Z)(function*(b,m){const _=rn(b),C=yield Zo(_,{token:m,returnSecureToken:!0}),S=yield mn._fromIdTokenResponse(_,"signIn",C);return yield _._updateCurrentUser(S.user),S})).apply(this,arguments)}class co{constructor(m,_){this.factorId=m,this.uid=_.mfaEnrollmentId,this.enrollmentTime=new Date(_.enrolledAt).toUTCString(),this.displayName=_.displayName}static _fromServerResponse(m,_){return"phoneInfo"in _?ft._fromServerResponse(m,_):Ve(m,"internal-error")}}class ft extends co{constructor(m){super("phone",m),this.phoneNumber=m.phoneInfo}static _fromServerResponse(m,_){return new ft(_)}}function qa(b,m,_){var C;Q((null===(C=_.url)||void 0===C?void 0:C.length)>0,b,"invalid-continue-uri"),Q(void 0===_.dynamicLinkDomain||_.dynamicLinkDomain.length>0,b,"invalid-dynamic-link-domain"),m.continueUrl=_.url,m.dynamicLinkDomain=_.dynamicLinkDomain,m.canHandleCodeInApp=_.handleCodeInApp,_.iOS&&(Q(_.iOS.bundleId.length>0,b,"missing-ios-bundle-id"),m.iOSBundleId=_.iOS.bundleId),_.android&&(Q(_.android.packageName.length>0,b,"missing-android-pkg-name"),m.androidInstallApp=_.android.installApp,m.androidMinimumVersionCode=_.android.minimumVersion,m.androidPackageName=_.android.packageName)}function pf(b,m,_){return uc.apply(this,arguments)}function uc(){return(uc=(0,c.Z)(function*(b,m,_){const C=(0,B.m9)(b),S={requestType:"PASSWORD_RESET",email:m};_&&qa(C,S,_),yield on(C,S)})).apply(this,arguments)}function sg(b,m,_){return dc.apply(this,arguments)}function dc(){return(dc=(0,c.Z)(function*(b,m,_){yield dn((0,B.m9)(b),{oobCode:m,newPassword:_})})).apply(this,arguments)}function og(b,m){return Bu.apply(this,arguments)}function Bu(){return(Bu=(0,c.Z)(function*(b,m){yield Xl((0,B.m9)(b),{oobCode:m})})).apply(this,arguments)}function _e(b,m){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,c.Z)(function*(b,m){const _=(0,B.m9)(b),C=yield dn(_,{oobCode:m}),S=C.requestType;switch(Q(S,_,"internal-error"),S){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Q(C.newEmail,_,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Q(C.mfaInfo,_,"internal-error");default:Q(C.email,_,"internal-error")}let k=null;return C.mfaInfo&&(k=co._fromServerResponse(rn(_),C.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.newEmail:C.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.email:C.newEmail)||null,multiFactorInfo:k},operation:S}})).apply(this,arguments)}function ag(b,m){return fn.apply(this,arguments)}function fn(){return(fn=(0,c.Z)(function*(b,m){const{data:_}=yield _e((0,B.m9)(b),m);return _.email})).apply(this,arguments)}function hc(b,m,_){return uo.apply(this,arguments)}function uo(){return(uo=(0,c.Z)(function*(b,m,_){const C=rn(b),S=yield rc(C,{returnSecureToken:!0,email:m,password:_}),k=yield mn._fromIdTokenResponse(C,"signIn",S);return yield C._updateCurrentUser(k.user),k})).apply(this,arguments)}function Dr(b,m,_){return ai((0,B.m9)(b),df.credential(m,_))}function Uu(b,m,_){return Wa.apply(this,arguments)}function Wa(){return(Wa=(0,c.Z)(function*(b,m,_){const C=(0,B.m9)(b),S={requestType:"EMAIL_SIGNIN",email:m};Q(_.handleCodeInApp,C,"argument-error"),_&&qa(C,S,_),yield Ru(C,S)})).apply(this,arguments)}function Pb(b,m){const _=qo.parseLink(m);return"EMAIL_SIGNIN"===(null==_?void 0:_.operation)}function mf(b,m,_){return Ko.apply(this,arguments)}function Ko(){return(Ko=(0,c.Z)(function*(b,m,_){const C=(0,B.m9)(b),S=df.credentialWithLink(m,_||ee());return Q(S._tenantId===(C.tenantId||null),C,"tenant-id-mismatch"),ai(C,S)})).apply(this,arguments)}function fc(b,m){return $n.apply(this,arguments)}function $n(){return($n=(0,c.Z)(function*(b,m){return Zt(b,"POST","/v1/accounts:createAuthUri",zt(b,m))})).apply(this,arguments)}function ss(b,m){return pc.apply(this,arguments)}function pc(){return(pc=(0,c.Z)(function*(b,m){const C={identifier:m,continueUri:_t()?ee():"http://localhost"},{signinMethods:S}=yield fc((0,B.m9)(b),C);return S||[]})).apply(this,arguments)}function Qo(b,m){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,c.Z)(function*(b,m){const _=(0,B.m9)(b),S={requestType:"VERIFY_EMAIL",idToken:yield b.getIdToken()};m&&qa(_.auth,S,m);const{email:k}=yield Va(_.auth,S);k!==b.email&&(yield b.reload())})).apply(this,arguments)}function lg(b,m,_){return mc.apply(this,arguments)}function mc(){return(mc=(0,c.Z)(function*(b,m,_){const C=(0,B.m9)(b),k={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield b.getIdToken(),newEmail:m};_&&qa(C.auth,k,_);const{email:Z}=yield Si(C.auth,k);Z!==b.email&&(yield b.reload())})).apply(this,arguments)}function cg(b,m){return ju.apply(this,arguments)}function ju(){return(ju=(0,c.Z)(function*(b,m){return Zt(b,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function Hu(b,m){return Jo.apply(this,arguments)}function Jo(){return(Jo=(0,c.Z)(function*(b,{displayName:m,photoURL:_}){if(void 0===m&&void 0===_)return;const C=(0,B.m9)(b),k={idToken:yield C.getIdToken(),displayName:m,photoUrl:_,returnSecureToken:!0},Z=yield Ye(C,cg(C.auth,k));C.displayName=Z.displayName||null,C.photoURL=Z.photoUrl||null;const me=C.providerData.find(({providerId:Qe})=>"password"===Qe);me&&(me.displayName=C.displayName,me.photoURL=C.photoURL),yield C._updateTokensIfNecessary(Z)})).apply(this,arguments)}function ug(b,m){return dg((0,B.m9)(b),m,null)}function $u(b,m){return dg((0,B.m9)(b),null,m)}function dg(b,m,_){return zu.apply(this,arguments)}function zu(){return(zu=(0,c.Z)(function*(b,m,_){const{auth:C}=b,k={idToken:yield b.getIdToken(),returnSecureToken:!0};m&&(k.email=m),_&&(k.password=_);const Z=yield Ye(b,so(C,k));yield b._updateTokensIfNecessary(Z,!0)})).apply(this,arguments)}class ho{constructor(m,_,C={}){this.isNewUser=m,this.providerId=_,this.profile=C}}class Gu extends ho{constructor(m,_,C,S){super(m,_,C),this.username=S}}class hg extends ho{constructor(m,_){super(m,"facebook.com",_)}}class fg extends Gu{constructor(m,_){super(m,"github.com",_,"string"==typeof(null==_?void 0:_.login)?null==_?void 0:_.login:null)}}class Ya extends ho{constructor(m,_){super(m,"google.com",_)}}class Ns extends Gu{constructor(m,_,C){super(m,"twitter.com",_,C)}}function pg(b){const{user:m,_tokenResponse:_}=b;return m.isAnonymous&&!_?{providerId:null,isNewUser:!1,profile:null}:function gc(b){var m,_;if(!b)return null;const{providerId:C}=b,S=b.rawUserInfo?JSON.parse(b.rawUserInfo):{},k=b.isNewUser||"identitytoolkit#SignupNewUserResponse"===b.kind;if(!C&&(null==b?void 0:b.idToken)){const Z=null===(_=null===(m=Rt(b.idToken))||void 0===m?void 0:m.firebase)||void 0===_?void 0:_.sign_in_provider;if(Z)return new ho(k,"anonymous"!==Z&&"custom"!==Z?Z:null)}if(!C)return null;switch(C){case"facebook.com":return new hg(k,S);case"github.com":return new fg(k,S);case"google.com":return new Ya(k,S);case"twitter.com":return new Ns(k,S,b.screenName||null);case"custom":case"anonymous":return new ho(k,null);default:return new ho(k,C,S)}}(_)}class fo{constructor(m,_){this.type=m,this.credential=_}static _fromIdtoken(m){return new fo("enroll",m)}static _fromMfaPendingCredential(m){return new fo("signin",m)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(m){var _,C;if(null==m?void 0:m.multiFactorSession){if(null===(_=m.multiFactorSession)||void 0===_?void 0:_.pendingCredential)return fo._fromMfaPendingCredential(m.multiFactorSession.pendingCredential);if(null===(C=m.multiFactorSession)||void 0===C?void 0:C.idToken)return fo._fromIdtoken(m.multiFactorSession.idToken)}return null}}class Za{constructor(m,_,C){this.session=m,this.hints=_,this.signInResolver=C}static _fromError(m,_){const C=rn(m),S=_.customData._serverResponse,k=(S.mfaInfo||[]).map(me=>co._fromServerResponse(C,me));Q(S.mfaPendingCredential,C,"internal-error");const Z=fo._fromMfaPendingCredential(S.mfaPendingCredential);return new Za(Z,k,function(){var me=(0,c.Z)(function*(Qe){const ct=yield Qe._process(C,Z);delete S.mfaInfo,delete S.mfaPendingCredential;const At=Object.assign(Object.assign({},S),{idToken:ct.idToken,refreshToken:ct.refreshToken});switch(_.operationType){case"signIn":const gn=yield mn._fromIdTokenResponse(C,_.operationType,At);return yield C._updateCurrentUser(gn.user),gn;case"reauthenticate":return Q(_.user,C,"internal-error"),mn._forOperation(_.user,_.operationType,At);default:Ve(C,"internal-error")}});return function(Qe){return me.apply(this,arguments)}}())}resolveSignIn(m){var _=this;return(0,c.Z)(function*(){return _.signInResolver(m)})()}}function qu(b,m){var _;const C=(0,B.m9)(b),S=m;return Q(m.customData.operationType,C,"argument-error"),Q(null===(_=S.customData._serverResponse)||void 0===_?void 0:_.mfaPendingCredential,C,"argument-error"),Za._fromError(C,S)}function Wu(b,m){return Zt(b,"POST","/v2/accounts/mfaEnrollment:start",zt(b,m))}class _f{constructor(m){this.user=m,this.enrolledFactors=[],m._onReload(_=>{_.mfaInfo&&(this.enrolledFactors=_.mfaInfo.map(C=>co._fromServerResponse(m.auth,C)))})}static _fromUser(m){return new _f(m)}getSession(){var m=this;return(0,c.Z)(function*(){return fo._fromIdtoken(yield m.user.getIdToken())})()}enroll(m,_){var C=this;return(0,c.Z)(function*(){const S=m,k=yield C.getSession(),Z=yield Ye(C.user,S._process(C.user.auth,k,_));return yield C.user._updateTokensIfNecessary(Z),C.user.reload()})()}unenroll(m){var _=this;return(0,c.Z)(function*(){const C="string"==typeof m?m:m.uid,S=yield _.user.getIdToken(),k=yield Ye(_.user,function mg(b,m){return Zt(b,"POST","/v2/accounts/mfaEnrollment:withdraw",zt(b,m))}(_.user.auth,{idToken:S,mfaEnrollmentId:C}));_.enrolledFactors=_.enrolledFactors.filter(({uid:Z})=>Z!==C),yield _.user._updateTokensIfNecessary(k);try{yield _.user.reload()}catch(Z){if("auth/user-token-expired"!==Z.code)throw Z}})()}}const as=new WeakMap;function _c(b){const m=(0,B.m9)(b);return as.has(m)||as.set(m,_f._fromUser(m)),as.get(m)}const Zu="__sak";class gg{constructor(m,_){this.storageRetriever=m,this.type=_}_isAvailable(){try{return this.storage?(this.storage.setItem(Zu,"1"),this.storage.removeItem(Zu),Promise.resolve(!0)):Promise.resolve(!1)}catch(m){return Promise.resolve(!1)}}_set(m,_){return this.storage.setItem(m,JSON.stringify(_)),Promise.resolve()}_get(m){const _=this.storage.getItem(m);return Promise.resolve(_?JSON.parse(_):null)}_remove(m){return this.storage.removeItem(m),Promise.resolve()}get storage(){return this.storageRetriever()}}const bn=(()=>{class b extends gg{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(_,C)=>this.onStorageEvent(_,C),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function yc(){const b=(0,B.z$)();return L(b)||vt(b)}()&&function br(){try{return!(!window||window===window.top)}catch(b){return!1}}(),this.fallbackToPolling=oi(),this._shouldAllowMigration=!0}forAllChangedKeys(_){for(const C of Object.keys(this.listeners)){const S=this.storage.getItem(C),k=this.localCache[C];S!==k&&_(C,k,S)}}onStorageEvent(_,C=!1){if(!_.key)return void this.forAllChangedKeys((me,Qe,ct)=>{this.notifyListeners(me,ct)});const S=_.key;if(C?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const me=this.storage.getItem(S);if(_.newValue!==me)null!==_.newValue?this.storage.setItem(S,_.newValue):this.storage.removeItem(S);else if(this.localCache[S]===_.newValue&&!C)return}const k=()=>{const me=this.storage.getItem(S);!C&&this.localCache[S]===me||this.notifyListeners(S,me)},Z=this.storage.getItem(S);!function Vt(){return(0,B.w1)()&&10===document.documentMode}()||Z===_.newValue||_.newValue===_.oldValue?k():setTimeout(k,10)}notifyListeners(_,C){this.localCache[_]=C;const S=this.listeners[_];if(S)for(const k of Array.from(S))k(C&&JSON.parse(C))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((_,C,S)=>{this.onStorageEvent(new StorageEvent("storage",{key:_,oldValue:C,newValue:S}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(_,C){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[_]||(this.listeners[_]=new Set,this.localCache[_]=this.storage.getItem(_)),this.listeners[_].add(C)}_removeListener(_,C){this.listeners[_]&&(this.listeners[_].delete(C),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(_,C){var S=()=>super._set,k=this;return(0,c.Z)(function*(){yield S().call(k,_,C),k.localCache[_]=JSON.stringify(C)})()}_get(_){var C=()=>super._get,S=this;return(0,c.Z)(function*(){const k=yield C().call(S,_);return S.localCache[_]=JSON.stringify(k),k})()}_remove(_){var C=()=>super._remove,S=this;return(0,c.Z)(function*(){yield C().call(S,_),delete S.localCache[_]})()}}return b.type="LOCAL",b})(),Xo=(()=>{class b extends gg{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(_,C){}_removeListener(_,C){}}return b.type="SESSION",b})();let Ku=(()=>{class b{constructor(_){this.eventTarget=_,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(_){const C=this.receivers.find(k=>k.isListeningto(_));if(C)return C;const S=new b(_);return this.receivers.push(S),S}isListeningto(_){return this.eventTarget===_}handleEvent(_){var C=this;return(0,c.Z)(function*(){const S=_,{eventId:k,eventType:Z,data:me}=S.data,Qe=C.handlersMap[Z];if(!(null==Qe?void 0:Qe.size))return;S.ports[0].postMessage({status:"ack",eventId:k,eventType:Z});const ct=Array.from(Qe).map(function(){var gn=(0,c.Z)(function*(zr){return zr(S.origin,me)});return function(zr){return gn.apply(this,arguments)}}()),At=yield function vf(b){return Promise.all(b.map(function(){var m=(0,c.Z)(function*(_){try{return{fulfilled:!0,value:yield _}}catch(C){return{fulfilled:!1,reason:C}}});return function(_){return m.apply(this,arguments)}}()))}(ct);S.ports[0].postMessage({status:"done",eventId:k,eventType:Z,response:At})})()}_subscribe(_,C){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[_]||(this.handlersMap[_]=new Set),this.handlersMap[_].add(C)}_unsubscribe(_,C){this.handlersMap[_]&&C&&this.handlersMap[_].delete(C),(!C||0===this.handlersMap[_].size)&&delete this.handlersMap[_],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return b.receivers=[],b})();function Ls(b="",m=10){let _="";for(let C=0;C<m;C++)_+=Math.floor(10*Math.random());return b+_}class Qu{constructor(m){this.target=m,this.handlers=new Set}removeMessageHandler(m){m.messageChannel&&(m.messageChannel.port1.removeEventListener("message",m.onMessage),m.messageChannel.port1.close()),this.handlers.delete(m)}_send(m,_,C=50){var S=this;return(0,c.Z)(function*(){const k="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!k)throw new Error("connection_unavailable");let Z,me;return new Promise((Qe,ct)=>{const At=Ls("",20);k.port1.start();const gn=setTimeout(()=>{ct(new Error("unsupported_event"))},C);me={messageChannel:k,onMessage(zr){const Io=zr;if(Io.data.eventId===At)switch(Io.data.status){case"ack":clearTimeout(gn),Z=setTimeout(()=>{ct(new Error("timeout"))},3e3);break;case"done":clearTimeout(Z),Qe(Io.data.response);break;default:clearTimeout(gn),clearTimeout(Z),ct(new Error("invalid_response"))}}},S.handlers.add(me),k.port1.addEventListener("message",me.onMessage),S.target.postMessage({eventType:m,eventId:At,data:_},[k.port2])}).finally(()=>{me&&S.removeMessageHandler(me)})})()}}function Tn(){return window}function Vs(){return void 0!==Tn().WorkerGlobalScope&&"function"==typeof Tn().importScripts}function wt(){return(wt=(0,c.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(b){return null}})).apply(this,arguments)}const Ka="firebaseLocalStorageDb",bc="firebaseLocalStorage",Xu="fbase_key";class _i{constructor(m){this.request=m}toPromise(){return new Promise((m,_)=>{this.request.addEventListener("success",()=>{m(this.request.result)}),this.request.addEventListener("error",()=>{_(this.request.error)})})}}function Zn(b,m){return b.transaction([bc],m?"readwrite":"readonly").objectStore(bc)}function po(){const b=indexedDB.open(Ka,1);return new Promise((m,_)=>{b.addEventListener("error",()=>{_(b.error)}),b.addEventListener("upgradeneeded",()=>{const C=b.result;try{C.createObjectStore(bc,{keyPath:Xu})}catch(S){_(S)}}),b.addEventListener("success",(0,c.Z)(function*(){const C=b.result;C.objectStoreNames.contains(bc)?m(C):(C.close(),yield function ed(){const b=indexedDB.deleteDatabase(Ka);return new _i(b).toPromise()}(),m(yield po()))}))})}function Qa(b,m,_){return td.apply(this,arguments)}function td(){return(td=(0,c.Z)(function*(b,m,_){const C=Zn(b,!0).put({[Xu]:m,value:_});return new _i(C).toPromise()})).apply(this,arguments)}function Bs(){return(Bs=(0,c.Z)(function*(b,m){const _=Zn(b,!1).get(m),C=yield new _i(_).toPromise();return void 0===C?null:C.value})).apply(this,arguments)}function Hr(b,m){const _=Zn(b,!0).delete(m);return new _i(_).toPromise()}const Ja=(()=>{class b{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var _=this;return(0,c.Z)(function*(){return _.db||(_.db=yield po()),_.db})()}_withRetries(_){var C=this;return(0,c.Z)(function*(){let S=0;for(;;)try{const k=yield C._openDb();return yield _(k)}catch(k){if(S++>3)throw k;C.db&&(C.db.close(),C.db=void 0)}})()}initializeServiceWorkerMessaging(){var _=this;return(0,c.Z)(function*(){return Vs()?_.initializeReceiver():_.initializeSender()})()}initializeReceiver(){var _=this;return(0,c.Z)(function*(){_.receiver=Ku._getInstance(function Vb(){return Vs()?self:null}()),_.receiver._subscribe("keyChanged",function(){var C=(0,c.Z)(function*(S,k){return{keyProcessed:(yield _._poll()).includes(k.key)}});return function(S,k){return C.apply(this,arguments)}}()),_.receiver._subscribe("ping",function(){var C=(0,c.Z)(function*(S,k){return["keyChanged"]});return function(S,k){return C.apply(this,arguments)}}())})()}initializeSender(){var _=this;return(0,c.Z)(function*(){var C,S;if(_.activeServiceWorker=yield function un(){return wt.apply(this,arguments)}(),!_.activeServiceWorker)return;_.sender=new Qu(_.activeServiceWorker);const k=yield _.sender._send("ping",{},800);!k||(null===(C=k[0])||void 0===C?void 0:C.fulfilled)&&(null===(S=k[0])||void 0===S?void 0:S.value.includes("keyChanged"))&&(_.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(_){var C=this;return(0,c.Z)(function*(){if(C.sender&&C.activeServiceWorker&&function vc(){var b;return(null===(b=null==navigator?void 0:navigator.serviceWorker)||void 0===b?void 0:b.controller)||null}()===C.activeServiceWorker)try{yield C.sender._send("keyChanged",{key:_},C.serviceWorkerReceiverAvailable?800:50)}catch(S){}})()}_isAvailable(){return(0,c.Z)(function*(){try{if(!indexedDB)return!1;const _=yield po();return yield Qa(_,Zu,"1"),yield Hr(_,Zu),!0}catch(_){}return!1})()}_withPendingWrite(_){var C=this;return(0,c.Z)(function*(){C.pendingWrites++;try{yield _()}finally{C.pendingWrites--}})()}_set(_,C){var S=this;return(0,c.Z)(function*(){return S._withPendingWrite((0,c.Z)(function*(){return yield S._withRetries(k=>Qa(k,_,C)),S.localCache[_]=C,S.notifyServiceWorker(_)}))})()}_get(_){var C=this;return(0,c.Z)(function*(){const S=yield C._withRetries(k=>function bf(b,m){return Bs.apply(this,arguments)}(k,_));return C.localCache[_]=S,S})()}_remove(_){var C=this;return(0,c.Z)(function*(){return C._withPendingWrite((0,c.Z)(function*(){return yield C._withRetries(S=>Hr(S,_)),delete C.localCache[_],C.notifyServiceWorker(_)}))})()}_poll(){var _=this;return(0,c.Z)(function*(){const C=yield _._withRetries(Z=>{const me=Zn(Z,!1).getAll();return new _i(me).toPromise()});if(!C)return[];if(0!==_.pendingWrites)return[];const S=[],k=new Set;for(const{fbase_key:Z,value:me}of C)k.add(Z),JSON.stringify(_.localCache[Z])!==JSON.stringify(me)&&(_.notifyListeners(Z,me),S.push(Z));for(const Z of Object.keys(_.localCache))_.localCache[Z]&&!k.has(Z)&&(_.notifyListeners(Z,null),S.push(Z));return S})()}notifyListeners(_,C){this.localCache[_]=C;const S=this.listeners[_];if(S)for(const k of Array.from(S))k(C)}startPolling(){var _=this;this.stopPolling(),this.pollTimer=setInterval((0,c.Z)(function*(){return _._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(_,C){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[_]||(this.listeners[_]=new Set,this._get(_)),this.listeners[_].add(C)}_removeListener(_,C){this.listeners[_]&&(this.listeners[_].delete(C),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return b.type="LOCAL",b})();function go(b,m){return Zt(b,"POST","/v2/accounts/mfaSignIn:start",zt(b,m))}function Xa(){return(Xa=(0,c.Z)(function*(b){return(yield Zt(b,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function wc(b){return new Promise((m,_)=>{const C=document.createElement("script");C.setAttribute("src",b),C.onload=m,C.onerror=S=>{const k=De("internal-error");k.customData=S,_(k)},C.type="text/javascript",C.charset="UTF-8",function _o(){var b,m;return null!==(m=null===(b=document.getElementsByTagName("head"))||void 0===b?void 0:b[0])&&void 0!==m?m:document}().appendChild(C)})}function el(b){return`__${b}${Math.floor(1e6*Math.random())}`}const ar=1e12;class vo{constructor(m){this.auth=m,this.counter=ar,this._widgets=new Map}render(m,_){const C=this.counter;return this._widgets.set(C,new rd(m,this.auth.name,_||{})),this.counter++,C}reset(m){var _;const C=m||ar;null===(_=this._widgets.get(C))||void 0===_||_.delete(),this._widgets.delete(C)}getResponse(m){var _;return(null===(_=this._widgets.get(m||ar))||void 0===_?void 0:_.getResponse())||""}execute(m){var _=this;return(0,c.Z)(function*(){var C;return null===(C=_._widgets.get(m||ar))||void 0===C||C.execute(),""})()}}class rd{constructor(m,_,C){this.params=C,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const S="string"==typeof m?document.getElementById(m):m;Q(S,"argument-error",{appName:_}),this.container=S,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Ec(b){const m=[],_="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let C=0;C<b;C++)m.push(_.charAt(Math.floor(Math.random()*_.length)));return m.join("")}(50);const{callback:m,"expired-callback":_}=this.params;if(m)try{m(this.responseToken)}catch(C){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,_)try{_()}catch(C){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const ls=el("rcb"),Bb=new st(3e4,6e4);class wn{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Tn().grecaptcha}load(m,_=""){return Q(function sd(b){return b.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(b)}(_),m,"argument-error"),this.shouldResolveImmediately(_)?Promise.resolve(Tn().grecaptcha):new Promise((C,S)=>{const k=Tn().setTimeout(()=>{S(De(m,"network-request-failed"))},Bb.get());Tn()[ls]=()=>{Tn().clearTimeout(k),delete Tn()[ls];const me=Tn().grecaptcha;if(!me)return void S(De(m,"internal-error"));const Qe=me.render;me.render=(ct,At)=>{const gn=Qe(ct,At);return this.counter++,gn},this.hostLanguage=_,C(me)},wc(`https://www.google.com/recaptcha/api.js??${(0,B.xO)({onload:ls,render:"explicit",hl:_})}`).catch(()=>{clearTimeout(k),S(De(m,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(m){return!!Tn().grecaptcha&&(m===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class yg{load(m){return(0,c.Z)(function*(){return new vo(m)})()}clearedOneInstance(){}}const od="recaptcha",vg={theme:"light",type:"image"};class bg{constructor(m,_=Object.assign({},vg),C){this.parameters=_,this.type=od,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=rn(C),this.isInvisible="invisible"===this.parameters.size,Q("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const S="string"==typeof m?document.getElementById(m):m;Q(S,this.auth,"argument-error"),this.container=S,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new yg:new wn,this.validateStartingState()}verify(){var m=this;return(0,c.Z)(function*(){m.assertNotDestroyed();const _=yield m.render(),C=m.getAssertedRecaptcha();return C.getResponse(_)||new Promise(k=>{const Z=me=>{!me||(m.tokenChangeListeners.delete(Z),k(me))};m.tokenChangeListeners.add(Z),m.isInvisible&&C.execute(_)})})()}render(){try{this.assertNotDestroyed()}catch(m){return Promise.reject(m)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(m=>{throw this.renderPromise=null,m})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(m=>{this.container.removeChild(m)})}validateStartingState(){Q(!this.parameters.sitekey,this.auth,"argument-error"),Q(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Q("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(m){return _=>{if(this.tokenChangeListeners.forEach(C=>C(_)),"function"==typeof m)m(_);else if("string"==typeof m){const C=Tn()[m];"function"==typeof C&&C(_)}}}assertNotDestroyed(){Q(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var m=this;return(0,c.Z)(function*(){if(yield m.init(),!m.widgetId){let _=m.container;if(!m.isInvisible){const C=document.createElement("div");_.appendChild(C),_=C}m.widgetId=m.getAssertedRecaptcha().render(_,m.parameters)}return m.widgetId})()}init(){var m=this;return(0,c.Z)(function*(){Q(_t()&&!Vs(),m.auth,"internal-error"),yield function wg(){let b=null;return new Promise(m=>{"complete"!==document.readyState?(b=()=>m(),window.addEventListener("load",b)):m()}).catch(m=>{throw b&&window.removeEventListener("load",b),m})}(),m.recaptcha=yield m._recaptchaLoader.load(m.auth,m.auth.languageCode||void 0);const _=yield function id(b){return Xa.apply(this,arguments)}(m.auth);Q(_,m.auth,"internal-error"),m.parameters.sitekey=_})()}getAssertedRecaptcha(){return Q(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Dc{constructor(m,_){this.verificationId=m,this.onConfirmation=_}confirm(m){const _=Go._fromVerification(this.verificationId,m);return this.onConfirmation(_)}}function Us(b,m,_){return ad.apply(this,arguments)}function ad(){return(ad=(0,c.Z)(function*(b,m,_){const C=rn(b),S=yield tl(C,m,(0,B.m9)(_));return new Dc(S,k=>ai(C,k))})).apply(this,arguments)}function Mn(b,m,_){return ea.apply(this,arguments)}function ea(){return(ea=(0,c.Z)(function*(b,m,_){const C=(0,B.m9)(b);yield za(!1,C,"phone");const S=yield tl(C.auth,m,(0,B.m9)(_));return new Dc(S,k=>lc(C,k))})).apply(this,arguments)}function xi(b,m,_){return li.apply(this,arguments)}function li(){return(li=(0,c.Z)(function*(b,m,_){const C=(0,B.m9)(b),S=yield tl(C.auth,m,(0,B.m9)(_));return new Dc(S,k=>Ti(C,k))})).apply(this,arguments)}function tl(b,m,_){return Gi.apply(this,arguments)}function Gi(){return(Gi=(0,c.Z)(function*(b,m,_){var C;const S=yield _.verify();try{let k;if(Q("string"==typeof S,b,"argument-error"),Q(_.type===od,b,"argument-error"),k="string"==typeof m?{phoneNumber:m}:m,"session"in k){const Z=k.session;if("phoneNumber"in k)return Q("enroll"===Z.type,b,"internal-error"),(yield Wu(b,{idToken:Z.credential,phoneEnrollmentInfo:{phoneNumber:k.phoneNumber,recaptchaToken:S}})).phoneSessionInfo.sessionInfo;{Q("signin"===Z.type,b,"internal-error");const me=(null===(C=k.multiFactorHint)||void 0===C?void 0:C.uid)||k.multiFactorUid;return Q(me,b,"missing-multi-factor-info"),(yield go(b,{mfaPendingCredential:Z.credential,mfaEnrollmentId:me,phoneSignInInfo:{recaptchaToken:S}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Z}=yield Ab(b,{phoneNumber:k.phoneNumber,recaptchaToken:S});return Z}}finally{_._reset()}})).apply(this,arguments)}function cs(b,m){return ta.apply(this,arguments)}function ta(){return(ta=(0,c.Z)(function*(b,m){yield rg((0,B.m9)(b),m)})).apply(this,arguments)}let Ic=(()=>{class b{constructor(_){this.providerId=b.PROVIDER_ID,this.auth=rn(_)}verifyPhoneNumber(_,C){return tl(this.auth,_,(0,B.m9)(C))}static credential(_,C){return Go._fromVerification(_,C)}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{phoneNumber:C,temporaryProof:S}=_;return C&&S?Go._fromTokenResponse(C,S):null}}return b.PROVIDER_ID="phone",b.PHONE_SIGN_IN_METHOD="phone",b})();function qi(b,m){return m?te(m):(Q(b._popupRedirectResolver,b,"argument-error"),b._popupRedirectResolver)}class bo extends Ai{constructor(m){super("custom","custom"),this.params=m}_getIdTokenResponse(m){return Ps(m,this._buildIdpRequest())}_linkToIdToken(m,_){return Ps(m,this._buildIdpRequest(_))}_getReauthenticationResolver(m){return Ps(m,this._buildIdpRequest())}_buildIdpRequest(m){const _={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return m&&(_.idToken=m),_}}function Cg(b){return ac(b.auth,new bo(b),b.bypassAuthState)}function ld(b){const{auth:m,user:_}=b;return Q(_,m,"internal-error"),cn(_,new bo(b),b.bypassAuthState)}function Ub(b){return Eg.apply(this,arguments)}function Eg(){return(Eg=(0,c.Z)(function*(b){const{auth:m,user:_}=b;return Q(_,m,"internal-error"),rg(_,new bo(b),b.bypassAuthState)})).apply(this,arguments)}class Ef{constructor(m,_,C,S,k=!1){this.auth=m,this.resolver=C,this.user=S,this.bypassAuthState=k,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(_)?_:[_]}execute(){var m=this;return new Promise(function(){var _=(0,c.Z)(function*(C,S){m.pendingPromise={resolve:C,reject:S};try{m.eventManager=yield m.resolver._initialize(m.auth),yield m.onExecution(),m.eventManager.registerConsumer(m)}catch(k){m.reject(k)}});return function(C,S){return _.apply(this,arguments)}}())}onAuthEvent(m){var _=this;return(0,c.Z)(function*(){const{urlResponse:C,sessionId:S,postBody:k,tenantId:Z,error:me,type:Qe}=m;if(me)return void _.reject(me);const ct={auth:_.auth,requestUri:C,sessionId:S,tenantId:Z||void 0,postBody:k||void 0,user:_.user,bypassAuthState:_.bypassAuthState};try{_.resolve(yield _.getIdpTask(Qe)(ct))}catch(At){_.reject(At)}})()}onError(m){this.reject(m)}getIdpTask(m){switch(m){case"signInViaPopup":case"signInViaRedirect":return Cg;case"linkViaPopup":case"linkViaRedirect":return Ub;case"reauthViaPopup":case"reauthViaRedirect":return ld;default:Ve(this.auth,"internal-error")}}resolve(m){Y(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(m),this.unregisterAndCleanUp()}reject(m){Y(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(m),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const lr=new st(2e3,1e4);function Df(b,m,_){return wo.apply(this,arguments)}function wo(){return(wo=(0,c.Z)(function*(b,m,_){const C=rn(b);ue(b,m,is);const S=qi(C,_);return new ud(C,"signInViaPopup",m,S).executeNotNull()})).apply(this,arguments)}function gI(b,m,_){return Ac.apply(this,arguments)}function Ac(){return(Ac=(0,c.Z)(function*(b,m,_){const C=(0,B.m9)(b);ue(C.auth,m,is);const S=qi(C.auth,_);return new ud(C.auth,"reauthViaPopup",m,S,C).executeNotNull()})).apply(this,arguments)}function If(b,m,_){return cd.apply(this,arguments)}function cd(){return(cd=(0,c.Z)(function*(b,m,_){const C=(0,B.m9)(b);ue(C.auth,m,is);const S=qi(C.auth,_);return new ud(C.auth,"linkViaPopup",m,S,C).executeNotNull()})).apply(this,arguments)}let ud=(()=>{class b extends Ef{constructor(_,C,S,k,Z){super(_,C,k,Z),this.provider=S,this.authWindow=null,this.pollId=null,b.currentPopupAction&&b.currentPopupAction.cancel(),b.currentPopupAction=this}executeNotNull(){var _=this;return(0,c.Z)(function*(){const C=yield _.execute();return Q(C,_.auth,"internal-error"),C})()}onExecution(){var _=this;return(0,c.Z)(function*(){Y(1===_.filter.length,"Popup operations only handle one event");const C=Ls();_.authWindow=yield _.resolver._openPopup(_.auth,_.provider,_.filter[0],C),_.authWindow.associatedEvent=C,_.resolver._originValidation(_.auth).catch(S=>{_.reject(S)}),_.resolver._isIframeWebStorageSupported(_.auth,S=>{S||_.reject(De(_.auth,"web-storage-unsupported"))}),_.pollUserCancellation()})()}get eventId(){var _;return(null===(_=this.authWindow)||void 0===_?void 0:_.associatedEvent)||null}cancel(){this.reject(De(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,b.currentPopupAction=null}pollUserCancellation(){const _=()=>{var C,S;this.pollId=(null===(S=null===(C=this.authWindow)||void 0===C?void 0:C.window)||void 0===S?void 0:S.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(De(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(_,lr.get())};_()}}return b.currentPopupAction=null,b})();const Co=new Map;class na extends Ef{constructor(m,_,C=!1){super(m,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],_,void 0,C),this.eventId=null}execute(){var m=()=>super.execute,_=this;return(0,c.Z)(function*(){let C=Co.get(_.auth._key());if(!C){try{const k=(yield function ia(b,m){return us.apply(this,arguments)}(_.resolver,_.auth))?yield m().call(_):null;C=()=>Promise.resolve(k)}catch(S){C=()=>Promise.reject(S)}Co.set(_.auth._key(),C)}return _.bypassAuthState||Co.set(_.auth._key(),()=>Promise.resolve(null)),C()})()}onAuthEvent(m){var _=()=>super.onAuthEvent,C=this;return(0,c.Z)(function*(){if("signInViaRedirect"===m.type)return _().call(C,m);if("unknown"!==m.type){if(m.eventId){const S=yield C.auth._redirectUserForId(m.eventId);if(S)return C.user=S,_().call(C,m);C.resolve(null)}}else C.resolve(null)})()}onExecution(){return(0,c.Z)(function*(){})()}cleanUp(){}}function us(){return(us=(0,c.Z)(function*(b,m){const _=Sf(m),C=nl(b);if(!(yield C._isAvailable()))return!1;const S="true"===(yield C._get(_));return yield C._remove(_),S})).apply(this,arguments)}function Af(b,m){return ds.apply(this,arguments)}function ds(){return(ds=(0,c.Z)(function*(b,m){return nl(b)._set(Sf(m),"true")})).apply(this,arguments)}function ra(){Co.clear()}function nl(b){return te(b._redirectPersistence)}function Sf(b){return G("pendingRedirect",b.config.apiKey,b.name)}function Tf(b,m,_){return function Ig(b,m,_){return il.apply(this,arguments)}(b,m,_)}function il(){return(il=(0,c.Z)(function*(b,m,_){const C=rn(b);ue(b,m,is);const S=qi(C,_);return yield Af(S,C),S._openRedirect(C,m,"signInViaRedirect")})).apply(this,arguments)}function Ag(b,m,_){return function Sc(b,m,_){return Tc.apply(this,arguments)}(b,m,_)}function Tc(){return(Tc=(0,c.Z)(function*(b,m,_){const C=(0,B.m9)(b);ue(C.auth,m,is);const S=qi(C.auth,_);yield Af(S,C.auth);const k=yield Sg(C);return S._openRedirect(C.auth,m,"reauthViaRedirect",k)})).apply(this,arguments)}function Mf(b,m,_){return function ci(b,m,_){return sa.apply(this,arguments)}(b,m,_)}function sa(){return(sa=(0,c.Z)(function*(b,m,_){const C=(0,B.m9)(b);ue(C.auth,m,is);const S=qi(C.auth,_);yield za(!1,C,m.providerId),yield Af(S,C.auth);const k=yield Sg(C);return S._openRedirect(C.auth,m,"linkViaRedirect",k)})).apply(this,arguments)}function xf(b,m){return oa.apply(this,arguments)}function oa(){return(oa=(0,c.Z)(function*(b,m){return yield rn(b)._initializationPromise,hs(b,m,!1)})).apply(this,arguments)}function hs(b,m){return rl.apply(this,arguments)}function rl(){return(rl=(0,c.Z)(function*(b,m,_=!1){const C=rn(b),S=qi(C,m),Z=yield new na(C,S,_).execute();return Z&&!_&&(delete Z.user._redirectEventId,yield C._persistUserIfCurrent(Z.user),yield C._setRedirectUser(null,m)),Z})).apply(this,arguments)}function Sg(b){return sl.apply(this,arguments)}function sl(){return(sl=(0,c.Z)(function*(b){const m=Ls(`${b.uid}:::`);return b._redirectEventId=m,yield b.auth._setRedirectUser(b),yield b.auth._persistUserIfCurrent(b),m})).apply(this,arguments)}class fs{constructor(m){this.auth=m,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(m){this.consumers.add(m),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,m)&&(this.sendToConsumer(this.queuedRedirectEvent,m),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(m){this.consumers.delete(m)}onEvent(m){if(this.hasEventBeenHandled(m))return!1;let _=!1;return this.consumers.forEach(C=>{this.isEventForConsumer(m,C)&&(_=!0,this.sendToConsumer(m,C),this.saveEventToCache(m))}),this.hasHandledPotentialRedirect||!function Tg(b){switch(b.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return $r(b);default:return!1}}(m)||(this.hasHandledPotentialRedirect=!0,_||(this.queuedRedirectEvent=m,_=!0)),_}sendToConsumer(m,_){var C;if(m.error&&!$r(m)){const S=(null===(C=m.error.code)||void 0===C?void 0:C.split("auth/")[1])||"internal-error";_.onError(De(this.auth,S))}else _.onAuthEvent(m)}isEventForConsumer(m,_){const C=null===_.eventId||!!m.eventId&&m.eventId===_.eventId;return _.filter.includes(m.type)&&C}hasEventBeenHandled(m){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Hs(m))}saveEventToCache(m){this.cachedEventUids.add(Hs(m)),this.lastProcessedEventTime=Date.now()}}function Hs(b){return[b.type,b.eventId,b.sessionId,b.tenantId].filter(m=>m).join("-")}function $r({type:b,error:m}){return"unknown"===b&&"auth/no-auth-event"===(null==m?void 0:m.code)}function ol(b){return aa.apply(this,arguments)}function aa(){return(aa=(0,c.Z)(function*(b,m={}){return Zt(b,"GET","/v1/projects",m)})).apply(this,arguments)}const la=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,dd=/^https?/;function xc(){return(xc=(0,c.Z)(function*(b){if(b.config.emulator)return;const{authorizedDomains:m}=yield ol(b);for(const _ of m)try{if($s(_))return}catch(C){}Ve(b,"unauthorized-domain")})).apply(this,arguments)}function $s(b){const m=ee(),{protocol:_,hostname:C}=new URL(m);if(b.startsWith("chrome-extension://")){const Z=new URL(b);return""===Z.hostname&&""===C?"chrome-extension:"===_&&b.replace("chrome-extension://","")===m.replace("chrome-extension://",""):"chrome-extension:"===_&&Z.hostname===C}if(!dd.test(_))return!1;if(la.test(b))return C===b;const S=b.replace(/\./g,"\\.");return new RegExp("^(.+\\."+S+"|"+S+")$","i").test(C)}const al=new st(3e4,6e4);function hd(){const b=Tn().___jsl;if(null==b?void 0:b.H)for(const m of Object.keys(b.H))if(b.H[m].r=b.H[m].r||[],b.H[m].L=b.H[m].L||[],b.H[m].r=[...b.H[m].L],b.CP)for(let _=0;_<b.CP.length;_++)b.CP[_]=null}let ca=null;function fd(b){return ca=ca||function Mg(b){return new Promise((m,_)=>{var C,S,k;function Z(){hd(),gapi.load("gapi.iframes",{callback:()=>{m(gapi.iframes.getContext())},ontimeout:()=>{hd(),_(De(b,"network-request-failed"))},timeout:al.get()})}if(null===(S=null===(C=Tn().gapi)||void 0===C?void 0:C.iframes)||void 0===S?void 0:S.Iframe)m(gapi.iframes.getContext());else{if(!(null===(k=Tn().gapi)||void 0===k?void 0:k.load)){const me=el("iframefcb");return Tn()[me]=()=>{gapi.load?Z():_(De(b,"network-request-failed"))},wc(`https://apis.google.com/js/api.js?onload=${me}`).catch(Qe=>_(Qe))}Z()}}).catch(m=>{throw ca=null,m})}(b),ca}const xg=new st(5e3,15e3),Rg={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},zs=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Eo(b){const m=b.config;Q(m.authDomain,b,"auth-domain-config-required");const _=m.emulator?_n(m,"emulator/auth/iframe"):`https://${b.config.authDomain}/__/auth/iframe`,C={apiKey:m.apiKey,appName:b.name,v:P.SDK_VERSION},S=zs.get(b.config.apiHost);S&&(C.eid=S);const k=b._getFrameworks();return k.length&&(C.fw=k.join(",")),`${_}?${(0,B.xO)(C).slice(1)}`}function kf(){return kf=(0,c.Z)(function*(b){const m=yield fd(b),_=Tn().gapi;return Q(_,b,"internal-error"),m.open({where:document.body,url:Eo(b),messageHandlersFilter:_.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Rg,dontclear:!0},C=>new Promise(function(){var S=(0,c.Z)(function*(k,Z){yield C.restyle({setHideOnLeave:!1});const me=De(b,"network-request-failed"),Qe=Tn().setTimeout(()=>{Z(me)},xg.get());function ct(){Tn().clearTimeout(Qe),k(C)}C.ping(ct).then(ct,()=>{Z(me)})});return function(k,Z){return S.apply(this,arguments)}}()))}),kf.apply(this,arguments)}const jb={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class yd{constructor(m){this.window=m,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(m){}}}function kc(b,m,_,C,S,k){Q(b.config.authDomain,b,"auth-domain-config-required"),Q(b.config.apiKey,b,"invalid-api-key");const Z={apiKey:b.config.apiKey,appName:b.name,authType:_,redirectUrl:C,v:P.SDK_VERSION,eventId:S};if(m instanceof is){m.setDefaultLanguage(b.languageCode),Z.providerId=m.providerId||"",(0,B.xb)(m.getCustomParameters())||(Z.customParameters=JSON.stringify(m.getCustomParameters()));for(const[Qe,ct]of Object.entries(k||{}))Z[Qe]=ct}if(m instanceof Ba){const Qe=m.getScopes().filter(ct=>""!==ct);Qe.length>0&&(Z.scopes=Qe.join(","))}b.tenantId&&(Z.tid=b.tenantId);const me=Z;for(const Qe of Object.keys(me))void 0===me[Qe]&&delete me[Qe];return`${function Fg({config:b}){return b.emulator?_n(b,"emulator/auth/handler"):`https://${b.authDomain}/__/auth/handler`}(b)}?${(0,B.xO)(me).slice(1)}`}const Rf="webStorageSupport",ua=class ps{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Xo,this._completeRedirectFn=hs}_openPopup(m,_,C,S){var k=this;return(0,c.Z)(function*(){var Z;Y(null===(Z=k.eventManagers[m._key()])||void 0===Z?void 0:Z.manager,"_initialize() not called before _openPopup()");const me=kc(m,_,C,ee(),S);return function vd(b,m,_,C=500,S=600){const k=Math.max((window.screen.availHeight-S)/2,0).toString(),Z=Math.max((window.screen.availWidth-C)/2,0).toString();let me="";const Qe=Object.assign(Object.assign({},jb),{width:C.toString(),height:S.toString(),top:k,left:Z}),ct=(0,B.z$)().toLowerCase();_&&(me=ne(ct)?"_blank":_),O(ct)&&(m=m||"http://localhost",Qe.scrollbars="yes");const At=Object.entries(Qe).reduce((zr,[Io,ul])=>`${zr}${Io}=${ul},`,"");if(function si(b=(0,B.z$)()){var m;return vt(b)&&!!(null===(m=window.navigator)||void 0===m?void 0:m.standalone)}(ct)&&"_self"!==me)return function ll(b,m){const _=document.createElement("a");_.href=b,_.target=m;const C=document.createEvent("MouseEvent");C.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),_.dispatchEvent(C)}(m||"",me),new yd(null);const gn=window.open(m||"",me,At);Q(gn,b,"popup-blocked");try{gn.focus()}catch(zr){}return new yd(gn)}(m,me,Ls())})()}_openRedirect(m,_,C,S){var k=this;return(0,c.Z)(function*(){return yield k._originValidation(m),function or(b){Tn().location.href=b}(kc(m,_,C,ee(),S)),new Promise(()=>{})})()}_initialize(m){const _=m._key();if(this.eventManagers[_]){const{manager:S,promise:k}=this.eventManagers[_];return S?Promise.resolve(S):(Y(k,"If manager is not set, promise should be"),k)}const C=this.initAndGetManager(m);return this.eventManagers[_]={promise:C},C.catch(()=>{delete this.eventManagers[_]}),C}initAndGetManager(m){var _=this;return(0,c.Z)(function*(){const C=yield function Do(b){return kf.apply(this,arguments)}(m),S=new fs(m);return C.register("authEvent",k=>(Q(null==k?void 0:k.authEvent,m,"invalid-auth-event"),{status:S.onEvent(k.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),_.eventManagers[m._key()]={manager:S},_.iframes[m._key()]=C,S})()}_isIframeWebStorageSupported(m,_){this.iframes[m._key()].send(Rf,{type:Rf},S=>{var k;const Z=null===(k=null==S?void 0:S[0])||void 0===k?void 0:k[Rf];void 0!==Z&&_(!!Z),Ve(m,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(m){const _=m._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function Mc(b){return xc.apply(this,arguments)}(m)),this.originValidationPromises[_]}get _shouldInitProactively(){return oi()||L()||vt()}};class Pf extends class Of{constructor(m){this.factorId=m}_process(m,_,C){switch(_.type){case"enroll":return this._finalizeEnroll(m,_.credential,C);case"signin":return this._finalizeSignIn(m,_.credential);default:return Be("unexpected MultiFactorSessionType")}}}{constructor(m){super("phone"),this.credential=m}static _fromCredential(m){return new Pf(m)}_finalizeEnroll(m,_,C){return function Yu(b,m){return Zt(b,"POST","/v2/accounts/mfaEnrollment:finalize",zt(b,m))}(m,{idToken:_,displayName:C,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(m,_){return function wf(b,m){return Zt(b,"POST","/v2/accounts/mfaSignIn:finalize",zt(b,m))}(m,{mfaPendingCredential:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Ng=(()=>{class b{constructor(){}static assertion(_){return Pf._fromCredential(_)}}return b.FACTOR_ID="phone",b})();var Ff="@firebase/auth",Lg="0.19.12";class Vg{constructor(m){this.auth=m,this.internalListeners=new Map}getUid(){var m;return this.assertAuthConfigured(),(null===(m=this.auth.currentUser)||void 0===m?void 0:m.uid)||null}getToken(m){var _=this;return(0,c.Z)(function*(){return _.assertAuthConfigured(),yield _.auth._initializationPromise,_.auth.currentUser?{accessToken:yield _.auth.currentUser.getIdToken(m)}:null})()}addAuthTokenListener(m){if(this.assertAuthConfigured(),this.internalListeners.has(m))return;const _=this.auth.onIdTokenChanged(C=>{var S;m((null===(S=C)||void 0===S?void 0:S.stsTokenManager.accessToken)||null)});this.internalListeners.set(m,_),this.updateProactiveRefresh()}removeAuthTokenListener(m){this.assertAuthConfigured();const _=this.internalListeners.get(m);!_||(this.internalListeners.delete(m),_(),this.updateProactiveRefresh())}assertAuthConfigured(){Q(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}!function cl(b){(0,P._registerComponent)(new ve.wA("auth",(m,{options:_})=>{const C=m.getProvider("app").getImmediate(),S=m.getProvider("heartbeat"),{apiKey:k,authDomain:Z}=C.options;return((me,Qe)=>{Q(k&&!k.includes(":"),"invalid-api-key",{appName:me.name}),Q(!(null==Z?void 0:Z.includes(":")),"argument-error",{appName:me.name});const ct={apiKey:k,authDomain:Z,clientPlatform:b,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Wn(b)},At=new xu(me,Qe,ct);return function Te(b,m){const _=(null==m?void 0:m.persistence)||[],C=(Array.isArray(_)?_:[_]).map(te);(null==m?void 0:m.errorMap)&&b._updateErrorMap(m.errorMap),b._initializeWithPersistence(C,null==m?void 0:m.popupRedirectResolver)}(At,_),At})(C,S)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((m,_,C)=>{m.getProvider("auth-internal").initialize()})),(0,P._registerComponent)(new ve.wA("auth-internal",m=>{const _=rn(m.getProvider("auth").getImmediate());return new Vg(_)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,P.registerVersion)(Ff,Lg,function Nf(b){switch(b){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(b)),(0,P.registerVersion)(Ff,Lg,"esm2017")}("Browser")},2090:(ut,Ce,F)=>{F.d(Ce,{$s:()=>Ur,BH:()=>Ae,G6:()=>Be,L:()=>Ie,LL:()=>_t,Lj:()=>kt,Mn:()=>Fe,Sg:()=>Re,UG:()=>Ee,US:()=>de,X3:()=>rt,ZB:()=>K,ZR:()=>ee,b$:()=>De,d:()=>ge,eu:()=>se,hl:()=>Y,jU:()=>$e,m9:()=>lt,ne:()=>at,pd:()=>Di,r3:()=>Zt,ru:()=>Ve,tV:()=>z,uI:()=>X,vZ:()=>gi,w1:()=>ue,xO:()=>sr,xb:()=>_r,z$:()=>Se,zI:()=>te,zd:()=>yr});var c=F(5861);const ye=function(j){const N=[];let G=0;for(let re=0;re<j.length;re++){let M=j.charCodeAt(re);M<128?N[G++]=M:M<2048?(N[G++]=M>>6|192,N[G++]=63&M|128):55296==(64512&M)&&re+1<j.length&&56320==(64512&j.charCodeAt(re+1))?(M=65536+((1023&M)<<10)+(1023&j.charCodeAt(++re)),N[G++]=M>>18|240,N[G++]=M>>12&63|128,N[G++]=M>>6&63|128,N[G++]=63&M|128):(N[G++]=M>>12|224,N[G++]=M>>6&63|128,N[G++]=63&M|128)}return N},de={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(j,N){if(!Array.isArray(j))throw Error("encodeByteArray takes an array as a parameter");this.init_();const G=N?this.byteToCharMapWebSafe_:this.byteToCharMap_,re=[];for(let M=0;M<j.length;M+=3){const O=j[M],L=M+1<j.length,ne=L?j[M+1]:0,ke=M+2<j.length,Ue=ke?j[M+2]:0;let vt=(15&ne)<<2|Ue>>6,ln=63&Ue;ke||(ln=64,L||(vt=64)),re.push(G[O>>2],G[(3&O)<<4|ne>>4],G[vt],G[ln])}return re.join("")},encodeString(j,N){return this.HAS_NATIVE_SUPPORT&&!N?btoa(j):this.encodeByteArray(ye(j),N)},decodeString(j,N){return this.HAS_NATIVE_SUPPORT&&!N?atob(j):function(j){const N=[];let G=0,re=0;for(;G<j.length;){const M=j[G++];if(M<128)N[re++]=String.fromCharCode(M);else if(M>191&&M<224){const O=j[G++];N[re++]=String.fromCharCode((31&M)<<6|63&O)}else if(M>239&&M<365){const ke=((7&M)<<18|(63&j[G++])<<12|(63&j[G++])<<6|63&j[G++])-65536;N[re++]=String.fromCharCode(55296+(ke>>10)),N[re++]=String.fromCharCode(56320+(1023&ke))}else{const O=j[G++],L=j[G++];N[re++]=String.fromCharCode((15&M)<<12|(63&O)<<6|63&L)}}return N.join("")}(this.decodeStringToByteArray(j,N))},decodeStringToByteArray(j,N){this.init_();const G=N?this.charToByteMapWebSafe_:this.charToByteMap_,re=[];for(let M=0;M<j.length;){const O=G[j.charAt(M++)],ne=M<j.length?G[j.charAt(M)]:0;++M;const Ue=M<j.length?G[j.charAt(M)]:64;++M;const We=M<j.length?G[j.charAt(M)]:64;if(++M,null==O||null==ne||null==Ue||null==We)throw Error();re.push(O<<2|ne>>4),64!==Ue&&(re.push(ne<<4&240|Ue>>2),64!==We&&re.push(Ue<<6&192|We))}return re},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let j=0;j<this.ENCODED_VALS.length;j++)this.byteToCharMap_[j]=this.ENCODED_VALS.charAt(j),this.charToByteMap_[this.byteToCharMap_[j]]=j,this.byteToCharMapWebSafe_[j]=this.ENCODED_VALS_WEBSAFE.charAt(j),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[j]]=j,j>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(j)]=j,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(j)]=j)}}},Ie=function(j){return function(j){const N=ye(j);return de.encodeByteArray(N,!0)}(j).replace(/\./g,"")},z=function(j){try{return de.decodeString(j,!0)}catch(N){console.error("base64Decode failed: ",N)}return null};function K(j,N){if(!(N instanceof Object))return N;switch(N.constructor){case Date:return new Date(N.getTime());case Object:void 0===j&&(j={});break;case Array:j=[];break;default:return N}for(const G in N)!N.hasOwnProperty(G)||!je(G)||(j[G]=K(j[G],N[G]));return j}function je(j){return"__proto__"!==j}class Ae{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((N,G)=>{this.resolve=N,this.reject=G})}wrapCallback(N){return(G,re)=>{G?this.reject(G):this.resolve(re),"function"==typeof N&&(this.promise.catch(()=>{}),1===N.length?N(G):N(G,re))}}}function Re(j,N){if(j.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const re=N||"demo-project",M=j.iat||0,O=j.sub||j.user_id;if(!O)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const L=Object.assign({iss:`https://securetoken.google.com/${re}`,aud:re,iat:M,exp:M+3600,auth_time:M,sub:O,user_id:O,firebase:{sign_in_provider:"custom",identities:{}}},j);return[Ie(JSON.stringify({alg:"none",type:"JWT"})),Ie(JSON.stringify(L)),""].join(".")}function Se(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function X(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Se())}function Ee(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(j){return!1}}function $e(){return"object"==typeof self&&self.self===self}function Ve(){const j="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof j&&void 0!==j.id}function De(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ge(){return Se().indexOf("Electron/")>=0}function ue(){const j=Se();return j.indexOf("MSIE ")>=0||j.indexOf("Trident/")>=0}function Fe(){return Se().indexOf("MSAppHost/")>=0}function Be(){return!Ee()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Y(){return"object"==typeof indexedDB}function se(){return new Promise((j,N)=>{try{let G=!0;const re="validate-browser-context-for-indexeddb-analytics-module",M=self.indexedDB.open(re);M.onsuccess=()=>{M.result.close(),G||self.indexedDB.deleteDatabase(re),j(!0)},M.onupgradeneeded=()=>{G=!1},M.onerror=()=>{var O;N((null===(O=M.error)||void 0===O?void 0:O.message)||"")}}catch(G){N(G)}})}function te(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class ee extends Error{constructor(N,G,re){super(G),this.code=N,this.customData=re,this.name="FirebaseError",Object.setPrototypeOf(this,ee.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,_t.prototype.create)}}class _t{constructor(N,G,re){this.service=N,this.serviceName=G,this.errors=re}create(N,...G){const re=G[0]||{},M=`${this.service}/${N}`,O=this.errors[N],L=O?function qt(j,N){return j.replace(Fn,(G,re)=>{const M=N[re];return null!=M?String(M):`<${re}?>`})}(O,re):"Error";return new ee(M,`${this.serviceName}: ${L} (${M}).`,re)}}const Fn=/\{\$([^}]+)}/g;function Zt(j,N){return Object.prototype.hasOwnProperty.call(j,N)}function _r(j){for(const N in j)if(Object.prototype.hasOwnProperty.call(j,N))return!1;return!0}function gi(j,N){if(j===N)return!0;const G=Object.keys(j),re=Object.keys(N);for(const M of G){if(!re.includes(M))return!1;const O=j[M],L=N[M];if(Vr(O)&&Vr(L)){if(!gi(O,L))return!1}else if(O!==L)return!1}for(const M of re)if(!G.includes(M))return!1;return!0}function Vr(j){return null!==j&&"object"==typeof j}function sr(j){const N=[];for(const[G,re]of Object.entries(j))Array.isArray(re)?re.forEach(M=>{N.push(encodeURIComponent(G)+"="+encodeURIComponent(M))}):N.push(encodeURIComponent(G)+"="+encodeURIComponent(re));return N.length?"&"+N.join("&"):""}function yr(j){const N={};return j.replace(/^\?/,"").split("&").forEach(re=>{if(re){const[M,O]=re.split("=");N[decodeURIComponent(M)]=decodeURIComponent(O)}}),N}function Di(j){const N=j.indexOf("?");if(!N)return"";const G=j.indexOf("#",N);return j.substring(N,G>0?G:void 0)}function at(j,N){const G=new ji(j,N);return G.subscribe.bind(G)}class ji{constructor(N,G){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=G,this.task.then(()=>{N(this)}).catch(re=>{this.error(re)})}next(N){this.forEachObserver(G=>{G.next(N)})}error(N){this.forEachObserver(G=>{G.error(N)}),this.close(N)}complete(){this.forEachObserver(N=>{N.complete()}),this.close()}subscribe(N,G,re){let M;if(void 0===N&&void 0===G&&void 0===re)throw new Error("Missing Observer.");M=function Xt(j,N){if("object"!=typeof j||null===j)return!1;for(const G of N)if(G in j&&"function"==typeof j[G])return!0;return!1}(N,["next","error","complete"])?N:{next:N,error:G,complete:re},void 0===M.next&&(M.next=ri),void 0===M.error&&(M.error=ri),void 0===M.complete&&(M.complete=ri);const O=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?M.error(this.finalError):M.complete()}catch(L){}}),this.observers.push(M),O}unsubscribeOne(N){void 0===this.observers||void 0===this.observers[N]||(delete this.observers[N],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(N){if(!this.finalized)for(let G=0;G<this.observers.length;G++)this.sendOne(G,N)}sendOne(N,G){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[N])try{G(this.observers[N])}catch(re){"undefined"!=typeof console&&console.error&&console.error(re)}})}close(N){this.finalized||(this.finalized=!0,void 0!==N&&(this.finalError=N),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ri(){}function Ur(j,N=1e3,G=2){const re=N*Math.pow(G,j),M=Math.round(.5*re*(Math.random()-.5)*2);return Math.min(144e5,re+M)}function lt(j){return j&&j._delegate?j._delegate:j}function Vn(j,N){return new Promise((G,re)=>{j.onsuccess=M=>{G(M.target.result)},j.onerror=M=>{var O;re(`${N}: ${null===(O=M.target.error)||void 0===O?void 0:O.message}`)}})}class Bt{constructor(N){this._db=N,this.objectStoreNames=this._db.objectStoreNames}transaction(N,G="readonly"){return new Pe(this._db.transaction.call(this._db,N,G))}createObjectStore(N,G){return new pe(this._db.createObjectStore(N,G))}close(){this._db.close()}}class Pe{constructor(N){this._transaction=N,this.complete=new Promise((G,re)=>{this._transaction.oncomplete=function(){G()},this._transaction.onerror=()=>{re(this._transaction.error)},this._transaction.onabort=()=>{re(this._transaction.error)}})}objectStore(N){return new pe(this._transaction.objectStore(N))}}class pe{constructor(N){this._store=N}index(N){return new ze(this._store.index(N))}createIndex(N,G,re){return new ze(this._store.createIndex(N,G,re))}get(N){return Vn(this._store.get(N),"Error reading from IndexedDB")}put(N,G){return Vn(this._store.put(N,G),"Error writing to IndexedDB")}delete(N){return Vn(this._store.delete(N),"Error deleting from IndexedDB")}clear(){return Vn(this._store.clear(),"Error clearing IndexedDB object store")}}class ze{constructor(N){this._index=N}get(N){return Vn(this._index.get(N),"Error reading from IndexedDB")}}function rt(j,N,G){return new Promise((re,M)=>{try{const O=indexedDB.open(j,N);O.onsuccess=L=>{re(new Bt(L.target.result))},O.onerror=L=>{var ne;M(`Error opening indexedDB: ${null===(ne=L.target.error)||void 0===ne?void 0:ne.message}`)},O.onupgradeneeded=L=>{G(new Bt(O.result),L.oldVersion,L.newVersion,new Pe(O.transaction))}}catch(O){M(`Error opening indexedDB: ${O.message}`)}})}function kt(j){return xt.apply(this,arguments)}function xt(){return(xt=(0,c.Z)(function*(j){return new Promise((N,G)=>{try{const re=indexedDB.deleteDatabase(j);re.onsuccess=()=>{N()},re.onerror=M=>{var O;G(`Error deleting indexedDB database "${j}": ${null===(O=M.target.error)||void 0===O?void 0:O.message}`)}}catch(re){G(`Error deleting indexedDB database "${j}": ${re.message}`)}})})).apply(this,arguments)}},9134:(ut,Ce,F)=>{var c=F(5e3);let B=null;function P(){return B}const de=new c.OlP("DocumentToken");let he=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return function Ie(){return(0,c.LFG)($)}()},providedIn:"platform"}),n})();const z=new c.OlP("Location Initialized");let $=(()=>{class n extends he{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return P().getBaseHref(this._doc)}onPopState(t){const i=P().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=P().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,i,r){K()?this._history.pushState(t,i,r):this.location.hash=r}replaceState(t,i,r){K()?this._history.replaceState(t,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(de))},n.\u0275prov=c.Yz7({token:n,factory:function(){return function je(){return new $((0,c.LFG)(de))}()},providedIn:"platform"}),n})();function K(){return!!window.history.pushState}function Ae(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Re(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Se(n){return n&&"?"!==n[0]?"?"+n:n}let X=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return function Ee(n){const e=(0,c.LFG)(de).location;return new Ve((0,c.LFG)(he),e&&e.origin||"")}()},providedIn:"root"}),n})();const $e=new c.OlP("appBaseHref");let Ve=(()=>{class n extends X{constructor(t,i){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==i&&(i=this._platformLocation.getBaseHrefFromDOM()),null==i)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=i}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Ae(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+Se(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,a){const u=this.prepareExternalUrl(r+Se(a));this._platformLocation.pushState(t,i,u)}replaceState(t,i,r,a){const u=this.prepareExternalUrl(r+Se(a));this._platformLocation.replaceState(t,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(he),c.LFG($e,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),De=(()=>{class n extends X{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(t){const i=Ae(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,a){let u=this.prepareExternalUrl(r+Se(a));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.pushState(t,i,u)}replaceState(t,i,r,a){let u=this.prepareExternalUrl(r+Se(a));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(he),c.LFG($e,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),ge=(()=>{class n{constructor(t,i){this._subject=new c.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const r=this._platformStrategy.getBaseHref();this._platformLocation=i,this._baseHref=Re(Q(r)),this._platformStrategy.onPopState(a=>{this._subject.emit({url:this.path(!0),pop:!0,state:a.state,type:a.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+Se(i))}normalize(t){return n.stripTrailingSlash(function Fe(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,Q(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._platformStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Se(i)),r)}replaceState(t,i="",r=null){this._platformStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Se(i)),r)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var i,r;null===(r=(i=this._platformStrategy).historyGo)||void 0===r||r.call(i,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}))}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}}return n.normalizeQueryParams=Se,n.joinWithSlash=Ae,n.stripTrailingSlash=Re,n.\u0275fac=function(t){return new(t||n)(c.LFG(X),c.LFG(he))},n.\u0275prov=c.Yz7({token:n,factory:function(){return function ue(){return new ge((0,c.LFG)(X),(0,c.LFG)(he))}()},providedIn:"root"}),n})();function Q(n){return n.replace(/\/index.html$/,"")}var te=(()=>((te=te||{})[te.Format=0]="Format",te[te.Standalone=1]="Standalone",te))(),oe=(()=>((oe=oe||{})[oe.Narrow=0]="Narrow",oe[oe.Abbreviated=1]="Abbreviated",oe[oe.Wide=2]="Wide",oe[oe.Short=3]="Short",oe))(),Te=(()=>((Te=Te||{})[Te.Short=0]="Short",Te[Te.Medium=1]="Medium",Te[Te.Long=2]="Long",Te[Te.Full=3]="Full",Te))(),ee=(()=>((ee=ee||{})[ee.Decimal=0]="Decimal",ee[ee.Group=1]="Group",ee[ee.List=2]="List",ee[ee.PercentSign=3]="PercentSign",ee[ee.PlusSign=4]="PlusSign",ee[ee.MinusSign=5]="MinusSign",ee[ee.Exponential=6]="Exponential",ee[ee.SuperscriptingExponent=7]="SuperscriptingExponent",ee[ee.PerMille=8]="PerMille",ee[ee.Infinity=9]="Infinity",ee[ee.NaN=10]="NaN",ee[ee.TimeSeparator=11]="TimeSeparator",ee[ee.CurrencyDecimal=12]="CurrencyDecimal",ee[ee.CurrencyGroup=13]="CurrencyGroup",ee))();function Yt(n,e){return Nn((0,c.cg1)(n)[c.wAp.DateFormat],e)}function zt(n,e){return Nn((0,c.cg1)(n)[c.wAp.TimeFormat],e)}function Zt(n,e){return Nn((0,c.cg1)(n)[c.wAp.DateTimeFormat],e)}function yn(n,e){const t=(0,c.cg1)(n),i=t[c.wAp.NumberSymbols][e];if(void 0===i){if(e===ee.CurrencyDecimal)return t[c.wAp.NumberSymbols][ee.Decimal];if(e===ee.CurrencyGroup)return t[c.wAp.NumberSymbols][ee.Group]}return i}function Di(n){if(!n[c.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[c.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Nn(n,e){for(let t=e;t>-1;t--)if(void 0!==n[t])return n[t];throw new Error("Locale data API: locale data undefined")}function Xt(n){const[e,t]=n.split(":");return{hours:+e,minutes:+t}}const An=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Ii={},ro=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Rt=(()=>((Rt=Rt||{})[Rt.Short=0]="Short",Rt[Rt.ShortGMT=1]="ShortGMT",Rt[Rt.Long=2]="Long",Rt[Rt.Extended=3]="Extended",Rt))(),ot=(()=>((ot=ot||{})[ot.FullYear=0]="FullYear",ot[ot.Month=1]="Month",ot[ot.Date=2]="Date",ot[ot.Hours=3]="Hours",ot[ot.Minutes=4]="Minutes",ot[ot.Seconds=5]="Seconds",ot[ot.FractionalSeconds=6]="FractionalSeconds",ot[ot.Day=7]="Day",ot))(),Ye=(()=>((Ye=Ye||{})[Ye.DayPeriods=0]="DayPeriods",Ye[Ye.Days=1]="Days",Ye[Ye.Months=2]="Months",Ye[Ye.Eras=3]="Eras",Ye))();function vr(n,e,t,i){let r=function ne(n){if(Ue(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[r,a=1,u=1]=n.split("-").map(f=>+f);return ts(r,a-1,u)}const t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let i;if(i=n.match(An))return function ke(n){const e=new Date(0);let t=0,i=0;const r=n[8]?e.setUTCFullYear:e.setFullYear,a=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),i=Number(n[9]+n[11])),r.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));const u=Number(n[4]||0)-t,f=Number(n[5]||0)-i,g=Number(n[6]||0),v=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return a.call(e,u,f,g,v),e}(i)}const e=new Date(n);if(!Ue(e))throw new Error(`Unable to convert "${n}" into a date`);return e}(n);e=Lt(t,e)||e;let f,u=[];for(;e;){if(f=ro.exec(e),!f){u.push(e);break}{u=u.concat(f.slice(1));const D=u.pop();if(!D)break;e=D}}let g=r.getTimezoneOffset();i&&(g=M(i,g),r=function L(n,e,t){const i=t?-1:1,r=n.getTimezoneOffset();return function O(n,e){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+e),n}(n,i*(M(e,r)-r))}(r,i,!0));let v="";return u.forEach(D=>{const I=function re(n){if(G[n])return G[n];let e;switch(n){case"G":case"GG":case"GGG":e=Bt(Ye.Eras,oe.Abbreviated);break;case"GGGG":e=Bt(Ye.Eras,oe.Wide);break;case"GGGGG":e=Bt(Ye.Eras,oe.Narrow);break;case"y":e=lt(ot.FullYear,1,0,!1,!0);break;case"yy":e=lt(ot.FullYear,2,0,!0,!0);break;case"yyy":e=lt(ot.FullYear,3,0,!1,!0);break;case"yyyy":e=lt(ot.FullYear,4,0,!1,!0);break;case"Y":e=N(1);break;case"YY":e=N(2,!0);break;case"YYY":e=N(3);break;case"YYYY":e=N(4);break;case"M":case"L":e=lt(ot.Month,1,1);break;case"MM":case"LL":e=lt(ot.Month,2,1);break;case"MMM":e=Bt(Ye.Months,oe.Abbreviated);break;case"MMMM":e=Bt(Ye.Months,oe.Wide);break;case"MMMMM":e=Bt(Ye.Months,oe.Narrow);break;case"LLL":e=Bt(Ye.Months,oe.Abbreviated,te.Standalone);break;case"LLLL":e=Bt(Ye.Months,oe.Wide,te.Standalone);break;case"LLLLL":e=Bt(Ye.Months,oe.Narrow,te.Standalone);break;case"w":e=j(1);break;case"ww":e=j(2);break;case"W":e=j(1,!0);break;case"d":e=lt(ot.Date,1);break;case"dd":e=lt(ot.Date,2);break;case"c":case"cc":e=lt(ot.Day,1);break;case"ccc":e=Bt(Ye.Days,oe.Abbreviated,te.Standalone);break;case"cccc":e=Bt(Ye.Days,oe.Wide,te.Standalone);break;case"ccccc":e=Bt(Ye.Days,oe.Narrow,te.Standalone);break;case"cccccc":e=Bt(Ye.Days,oe.Short,te.Standalone);break;case"E":case"EE":case"EEE":e=Bt(Ye.Days,oe.Abbreviated);break;case"EEEE":e=Bt(Ye.Days,oe.Wide);break;case"EEEEE":e=Bt(Ye.Days,oe.Narrow);break;case"EEEEEE":e=Bt(Ye.Days,oe.Short);break;case"a":case"aa":case"aaa":e=Bt(Ye.DayPeriods,oe.Abbreviated);break;case"aaaa":e=Bt(Ye.DayPeriods,oe.Wide);break;case"aaaaa":e=Bt(Ye.DayPeriods,oe.Narrow);break;case"b":case"bb":case"bbb":e=Bt(Ye.DayPeriods,oe.Abbreviated,te.Standalone,!0);break;case"bbbb":e=Bt(Ye.DayPeriods,oe.Wide,te.Standalone,!0);break;case"bbbbb":e=Bt(Ye.DayPeriods,oe.Narrow,te.Standalone,!0);break;case"B":case"BB":case"BBB":e=Bt(Ye.DayPeriods,oe.Abbreviated,te.Format,!0);break;case"BBBB":e=Bt(Ye.DayPeriods,oe.Wide,te.Format,!0);break;case"BBBBB":e=Bt(Ye.DayPeriods,oe.Narrow,te.Format,!0);break;case"h":e=lt(ot.Hours,1,-12);break;case"hh":e=lt(ot.Hours,2,-12);break;case"H":e=lt(ot.Hours,1);break;case"HH":e=lt(ot.Hours,2);break;case"m":e=lt(ot.Minutes,1);break;case"mm":e=lt(ot.Minutes,2);break;case"s":e=lt(ot.Seconds,1);break;case"ss":e=lt(ot.Seconds,2);break;case"S":e=lt(ot.FractionalSeconds,1);break;case"SS":e=lt(ot.FractionalSeconds,2);break;case"SSS":e=lt(ot.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=pe(Rt.Short);break;case"ZZZZZ":e=pe(Rt.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=pe(Rt.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=pe(Rt.Long);break;default:return null}return G[n]=e,e}(D);v+=I?I(r,t,g):"''"===D?"'":D.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),v}function ts(n,e,t){const i=new Date(0);return i.setFullYear(n,e,t),i.setHours(0,0,0),i}function Lt(n,e){const t=function qt(n){return(0,c.cg1)(n)[c.wAp.LocaleId]}(n);if(Ii[t]=Ii[t]||{},Ii[t][e])return Ii[t][e];let i="";switch(e){case"shortDate":i=Yt(n,Te.Short);break;case"mediumDate":i=Yt(n,Te.Medium);break;case"longDate":i=Yt(n,Te.Long);break;case"fullDate":i=Yt(n,Te.Full);break;case"shortTime":i=zt(n,Te.Short);break;case"mediumTime":i=zt(n,Te.Medium);break;case"longTime":i=zt(n,Te.Long);break;case"fullTime":i=zt(n,Te.Full);break;case"short":const r=Lt(n,"shortTime"),a=Lt(n,"shortDate");i=Ur(Zt(n,Te.Short),[r,a]);break;case"medium":const u=Lt(n,"mediumTime"),f=Lt(n,"mediumDate");i=Ur(Zt(n,Te.Medium),[u,f]);break;case"long":const g=Lt(n,"longTime"),v=Lt(n,"longDate");i=Ur(Zt(n,Te.Long),[g,v]);break;case"full":const D=Lt(n,"fullTime"),I=Lt(n,"fullDate");i=Ur(Zt(n,Te.Full),[D,I])}return i&&(Ii[t][e]=i),i}function Ur(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,i){return null!=e&&i in e?e[i]:t})),n}function Cn(n,e,t="-",i,r){let a="";(n<0||r&&n<=0)&&(r?n=1-n:(n=-n,a=t));let u=String(n);for(;u.length<e;)u="0"+u;return i&&(u=u.substr(u.length-e)),a+u}function lt(n,e,t=0,i=!1,r=!1){return function(a,u){let f=function Vn(n,e){switch(n){case ot.FullYear:return e.getFullYear();case ot.Month:return e.getMonth();case ot.Date:return e.getDate();case ot.Hours:return e.getHours();case ot.Minutes:return e.getMinutes();case ot.Seconds:return e.getSeconds();case ot.FractionalSeconds:return e.getMilliseconds();case ot.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,a);if((t>0||f>-t)&&(f+=t),n===ot.Hours)0===f&&-12===t&&(f=12);else if(n===ot.FractionalSeconds)return function nn(n,e){return Cn(n,3).substr(0,e)}(f,e);const g=yn(u,ee.MinusSign);return Cn(f,e,g,i,r)}}function Bt(n,e,t=te.Format,i=!1){return function(r,a){return function Pe(n,e,t,i,r,a){switch(t){case Ye.Months:return function st(n,e,t){const i=(0,c.cg1)(n),a=Nn([i[c.wAp.MonthsFormat],i[c.wAp.MonthsStandalone]],e);return Nn(a,t)}(e,r,i)[n.getMonth()];case Ye.Days:return function it(n,e,t){const i=(0,c.cg1)(n),a=Nn([i[c.wAp.DaysFormat],i[c.wAp.DaysStandalone]],e);return Nn(a,t)}(e,r,i)[n.getDay()];case Ye.DayPeriods:const u=n.getHours(),f=n.getMinutes();if(a){const v=function io(n){const e=(0,c.cg1)(n);return Di(e),(e[c.wAp.ExtraData][2]||[]).map(i=>"string"==typeof i?Xt(i):[Xt(i[0]),Xt(i[1])])}(e),D=function at(n,e,t){const i=(0,c.cg1)(n);Di(i);const a=Nn([i[c.wAp.ExtraData][0],i[c.wAp.ExtraData][1]],e)||[];return Nn(a,t)||[]}(e,r,i),I=v.findIndex(R=>{if(Array.isArray(R)){const[V,H]=R,J=u>=V.hours&&f>=V.minutes,be=u<H.hours||u===H.hours&&f<H.minutes;if(V.hours<H.hours){if(J&&be)return!0}else if(J||be)return!0}else if(R.hours===u&&R.minutes===f)return!0;return!1});if(-1!==I)return D[I]}return function Fn(n,e,t){const i=(0,c.cg1)(n),a=Nn([i[c.wAp.DayPeriodsFormat],i[c.wAp.DayPeriodsStandalone]],e);return Nn(a,t)}(e,r,i)[u<12?0:1];case Ye.Eras:return function _n(n,e){return Nn((0,c.cg1)(n)[c.wAp.Eras],e)}(e,i)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(r,a,n,e,t,i)}}function pe(n){return function(e,t,i){const r=-1*i,a=yn(t,ee.MinusSign),u=r>0?Math.floor(r/60):Math.ceil(r/60);switch(n){case Rt.Short:return(r>=0?"+":"")+Cn(u,2,a)+Cn(Math.abs(r%60),2,a);case Rt.ShortGMT:return"GMT"+(r>=0?"+":"")+Cn(u,1,a);case Rt.Long:return"GMT"+(r>=0?"+":"")+Cn(u,2,a)+":"+Cn(Math.abs(r%60),2,a);case Rt.Extended:return 0===i?"Z":(r>=0?"+":"")+Cn(u,2,a)+":"+Cn(Math.abs(r%60),2,a);default:throw new Error(`Unknown zone width "${n}"`)}}}function xt(n){return ts(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay()))}function j(n,e=!1){return function(t,i){let r;if(e){const a=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,u=t.getDate();r=1+Math.floor((u+a)/7)}else{const a=xt(t),u=function kt(n){const e=ts(n,0,1).getDay();return ts(n,0,1+(e<=4?4:11)-e)}(a.getFullYear()),f=a.getTime()-u.getTime();r=1+Math.round(f/6048e5)}return Cn(r,n,yn(i,ee.MinusSign))}}function N(n,e=!1){return function(t,i){return Cn(xt(t).getFullYear(),n,yn(i,ee.MinusSign),e)}}const G={};function M(n,e){n=n.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function Ue(n){return n instanceof Date&&!isNaN(n.valueOf())}let wr=(()=>{class n{constructor(t,i,r,a){this._iterableDiffers=t,this._keyValueDiffers=i,this._ngEl=r,this._renderer=a,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&((0,c.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),t.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),t.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,c.AaK)(i.item)}`);this._toggleClass(i.item,!0)}),t.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(i=>this._toggleClass(i,!0)):Object.keys(t).forEach(i=>this._toggleClass(i,!!t[i])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(i=>this._toggleClass(i,!1)):Object.keys(t).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(t,i){(t=t.trim())&&t.split(/\s+/g).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.ZZ4),c.Y36(c.aQg),c.Y36(c.SBq),c.Y36(c.Qsj))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class Rs{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Sn=(()=>{class n{constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const i=this._viewContainer;t.forEachOperation((r,a,u)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new Rs(r.item,this._ngForOf,-1,-1),null===u?void 0:u);else if(null==u)i.remove(null===a?void 0:a);else if(null!==a){const f=i.get(a);i.move(f,u),Os(f,r)}});for(let r=0,a=i.length;r<a;r++){const f=i.get(r).context;f.index=r,f.count=a,f.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{Os(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(c.ZZ4))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function Os(n,e){n.context.$implicit=e.item}let Hn=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new on,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){ec("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){ec("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.Rgc))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class on{constructor(){this.$implicit=null,this.ngIf=null}}function ec(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,c.AaK)(e)}'.`)}class Ru{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let Yn=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const i=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let i=0;i<this._defaultViews.length;i++)this._defaultViews[i].enforceState(t)}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),n})(),Si=(()=>{class n{constructor(t,i,r){this.ngSwitch=r,r._addCase(),this._view=new Ru(t,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(Yn,9))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),n})(),zo=(()=>{class n{constructor(t,i,r){r._addDefault(new Ru(t,i))}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(Yn,9))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngSwitchDefault",""]]}),n})();const xb=new c.OlP("DATE_PIPE_DEFAULT_TIMEZONE");let nc=(()=>{class n{constructor(t,i){this.locale=t,this.defaultTimezone=i}transform(t,i="mediumDate",r,a){var u;if(null==t||""===t||t!=t)return null;try{return vr(t,i,a||this.locale,null!==(u=null!=r?r:this.defaultTimezone)&&void 0!==u?u:void 0)}catch(f){throw function $i(n,e){return new c.vHH(2100,"")}()}}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.soG,16),c.Y36(xb,24))},n.\u0275pipe=c.Yjl({name:"date",type:n,pure:!0}),n})(),ao=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const Wo="browser";function Ha(n){return"server"===n}let hf=(()=>{class n{}return n.\u0275prov=(0,c.Yz7)({token:n,providedIn:"root",factory:()=>new oc((0,c.LFG)(de),window)}),n})();class oc{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function $a(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const a=r.shadowRoot;if(a){const u=a.getElementById(e)||a.querySelector(`[name="${e}"]`);if(u)return u}r=i.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo(i-a[0],r-a[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=ff(this.window.history)||ff(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function ff(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Ga extends class za extends class ve{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function ye(n){B||(B=n)}(new Ga)}onAndCancel(e,t,i){return e.addEventListener(t,i,!1),()=>{e.removeEventListener(t,i,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Lu(){return cn=cn||document.querySelector("base"),cn?cn.getAttribute("href"):null}();return null==t?null:function Yo(n){ac=ac||document.createElement("a"),ac.setAttribute("href",n);const e=ac.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){cn=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function Xl(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[r,a]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(a)}return null}(document.cookie,e)}}let ac,cn=null;const ai=new c.OlP("TRANSITION_ID"),lc=[{provide:c.ip1,useFactory:function Vu(n,e,t){return()=>{t.get(c.CZH).donePromise.then(()=>{const i=P(),r=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let a=0;a<r.length;a++)i.remove(r[a])})}},deps:[ai,de,c.zs3],multi:!0}];class jr{static init(){(0,c.VLi)(new jr)}addToWindow(e){c.dqk.getAngularTestability=(i,r=!0)=>{const a=e.findTestabilityInTree(i,r);if(null==a)throw new Error("Could not find testability for element.");return a},c.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),c.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),c.dqk.frameworkStabilizers||(c.dqk.frameworkStabilizers=[]),c.dqk.frameworkStabilizers.push(i=>{const r=c.dqk.getAllAngularTestabilities();let a=r.length,u=!1;const f=function(g){u=u||g,a--,0==a&&i(u)};r.forEach(function(g){g.whenStable(f)})})}findTestabilityInTree(e,t,i){if(null==t)return null;const r=e.getTestability(t);return null!=r?r:i?P().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let Ti=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const lo=new c.OlP("EventManagerPlugins");let Zo=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>r.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}addGlobalEventListener(t,i,r){return this._findPluginFor(i).addGlobalEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){const i=this._eventNameToPlugin.get(t);if(i)return i;const r=this._plugins;for(let a=0;a<r.length;a++){const u=r[a];if(u.supports(t))return this._eventNameToPlugin.set(t,u),u}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(lo),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class cc{constructor(e){this._doc=e}addGlobalEventListener(e,t,i){const r=P().getGlobalEventTarget(this._doc,e);if(!r)throw new Error(`Unsupported event target ${r} for event ${t}`);return this.addEventListener(r,t,i)}}let rs=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const i=new Set;t.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),Fs=(()=>{class n extends rs{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,i,r){t.forEach(a=>{const u=this._doc.createElement("style");u.textContent=a,r.push(i.appendChild(u))})}addHost(t){const i=[];this._addStylesToHost(this._stylesSet,t,i),this._hostNodes.set(t,i)}removeHost(t){const i=this._hostNodes.get(t);i&&i.forEach(co),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(t,r,i)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(co))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(de))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function co(n){P().remove(n)}const ft={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},qa=/%COMP%/g;function _e(n,e,t){for(let i=0;i<e.length;i++){let r=e[i];Array.isArray(r)?_e(n,r,t):(r=r.replace(qa,n),t.push(r))}return t}function Nt(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let fn=(()=>{class n{constructor(t,i,r){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new hc(t)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;switch(i.encapsulation){case c.ifc.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new Uu(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(t),r}case 1:case c.ifc.ShadowDom:return new Wa(this.eventManager,this.sharedStylesHost,t,i);default:if(!this.rendererByCompId.has(i.id)){const r=_e(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Zo),c.LFG(Fs),c.LFG(c.AFp))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class hc{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(ft[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,i){e&&e.insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?document.querySelector(e):e;if(!i)throw new Error(`The selector "${e}" did not match any elements`);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;const a=ft[r];a?e.setAttributeNS(a,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const r=ft[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(c.JOm.DashCase|c.JOm.Important)?e.style.setProperty(t,i,r&c.JOm.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&c.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Nt(i)):this.eventManager.addEventListener(e,t,Nt(i))}}class Uu extends hc{constructor(e,t,i,r){super(e),this.component=i;const a=_e(r+"-"+i.id,i.styles,[]);t.addStyles(a),this.contentAttr=function og(n){return"_ngcontent-%COMP%".replace(qa,n)}(r+"-"+i.id),this.hostAttr=function Bu(n){return"_nghost-%COMP%".replace(qa,n)}(r+"-"+i.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}class Wa extends hc{constructor(e,t,i,r){super(e),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const a=_e(r.id,r.styles,[]);for(let u=0;u<a.length;u++){const f=document.createElement("style");f.textContent=a[u],this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let Pb=(()=>{class n extends cc{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(de))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const mf=["alt","control","meta","shift"],fc={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},$n={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},ss={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let pc=(()=>{class n extends cc{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,r){const a=n.parseEventName(i),u=n.eventCallback(a.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>P().onAndCancel(t,a.domEventName,u))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const a=n._normalizeKey(i.pop());let u="";if(mf.forEach(g=>{const v=i.indexOf(g);v>-1&&(i.splice(v,1),u+=g+".")}),u+=a,0!=i.length||0===a.length)return null;const f={};return f.domEventName=r,f.fullKey=u,f}static getEventFullKey(t){let i="",r=function Qo(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&$n.hasOwnProperty(e)&&(e=$n[e]))}return fc[e]||e}(t);return r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),mf.forEach(a=>{a!=r&&ss[a](t)&&(i+=a+".")}),i+=r,i}static eventCallback(t,i,r){return a=>{n.getEventFullKey(a)===t&&r.runGuarded(()=>i(a))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(de))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const ju=(0,c.eFA)(c._c5,"browser",[{provide:c.Lbi,useValue:Wo},{provide:c.g9A,useValue:function Ir(){Ga.makeCurrent(),jr.init()},multi:!0},{provide:de,useFactory:function mc(){return(0,c.RDi)(document),document},deps:[]}]),Hu=[{provide:c.zSh,useValue:"root"},{provide:c.qLn,useFactory:function lg(){return new c.qLn},deps:[]},{provide:lo,useClass:Pb,multi:!0,deps:[de,c.R0b,c.Lbi]},{provide:lo,useClass:pc,multi:!0,deps:[de]},{provide:fn,useClass:fn,deps:[Zo,Fs,c.AFp]},{provide:c.FYo,useExisting:fn},{provide:rs,useExisting:Fs},{provide:Fs,useClass:Fs,deps:[de]},{provide:c.dDg,useClass:c.dDg,deps:[c.R0b]},{provide:Zo,useClass:Zo,deps:[lo,c.R0b]},{provide:class hn{},useClass:Ti,deps:[]}];let Jo=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:c.AFp,useValue:t.appId},{provide:ai,useExisting:c.AFp},lc]}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(n,12))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:Hu,imports:[ao,c.hGG]}),n})();"undefined"!=typeof window&&window;var bn=F(8996),zi=F(8306);const{isArray:Xo}=Array,{getPrototypeOf:vf,prototype:Ku,keys:Ls}=Object;function Qu(n){if(1===n.length){const e=n[0];if(Xo(e))return{args:e,keys:null};if(function Tn(n){return n&&"object"==typeof n&&vf(n)===Ku}(e)){const t=Ls(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}var or=F(8421),Vs=F(3269),un=F(5403),wt=F(4004);const{isArray:vc}=Array;function Ka(n){return(0,wt.U)(e=>function Vb(n,e){return vc(e)?n(...e):n(e)}(n,e))}function Ju(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}let Xu=(()=>{class n{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Qsj),c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n}),n})(),_i=(()=>{class n extends Xu{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=c.n5z(n)))(i||n)}}(),n.\u0275dir=c.lG2({type:n,features:[c.qOj]}),n})();const Zn=new c.OlP("NgValueAccessor"),Qa={provide:Zn,useExisting:(0,c.Gpc)(()=>Bs),multi:!0},bf=new c.OlP("CompositionEventMode");let Bs=(()=>{class n extends Xu{constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function td(){const n=P()?P().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(bf,8))},n.\u0275dir=c.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,i){1&t&&c.NdJ("input",function(a){return i._handleInput(a.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(a){return i._compositionEnd(a.target.value)})},features:[c._Bn([Qa]),c.qOj]}),n})();function Hr(n){return null==n||0===n.length}function nd(n){return null!=n&&"number"==typeof n.length}const Kn=new c.OlP("NgValidators"),mo=new c.OlP("NgAsyncValidators"),Ja=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class go{static min(e){return function wf(n){return e=>{if(Hr(e.value)||Hr(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function id(n){return e=>{if(Hr(e.value)||Hr(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return Xa(e)}static requiredTrue(e){return function _o(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function wc(n){return Hr(n.value)||Ja.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function el(n){return e=>Hr(e.value)||!nd(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function Cc(n){return e=>nd(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function yo(n){if(!n)return ar;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),i=>{if(Hr(i.value))return null;const r=i.value;return e.test(r)?null:{pattern:{requiredPattern:t,actualValue:r}}}}(e)}static nullValidator(e){return null}static compose(e){return wn(e)}static composeAsync(e){return yg(e)}}function Xa(n){return Hr(n.value)?{required:!0}:null}function ar(n){return null}function vo(n){return null!=n}function rd(n){const e=(0,c.QGY)(n)?(0,bn.D)(n):n;return(0,c.CqO)(e),e}function Ec(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function ls(n,e){return e.map(t=>t(n))}function Cf(n){return n.map(e=>function Bb(n){return!n.validate}(e)?e:t=>e.validate(t))}function wn(n){if(!n)return null;const e=n.filter(vo);return 0==e.length?null:function(t){return Ec(ls(t,e))}}function sd(n){return null!=n?wn(Cf(n)):null}function yg(n){if(!n)return null;const e=n.filter(vo);return 0==e.length?null:function(t){return function bc(...n){const e=(0,Vs.jO)(n),{args:t,keys:i}=Qu(n),r=new zi.y(a=>{const{length:u}=t;if(!u)return void a.complete();const f=new Array(u);let g=u,v=u;for(let D=0;D<u;D++){let I=!1;(0,or.Xf)(t[D]).subscribe((0,un.x)(a,R=>{I||(I=!0,v--),f[D]=R},()=>g--,void 0,()=>{(!g||!I)&&(v||a.next(i?Ju(i,f):f),a.complete())}))}});return e?r.pipe(Ka(e)):r}(ls(t,e).map(rd)).pipe((0,wt.U)(Ec))}}function od(n){return null!=n?yg(Cf(n)):null}function vg(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function bg(n){return n._rawValidators}function wg(n){return n._rawAsyncValidators}function Dc(n){return n?Array.isArray(n)?n:[n]:[]}function Us(n,e){return Array.isArray(n)?n.includes(e):n===e}function ad(n,e){const t=Dc(e);return Dc(n).forEach(r=>{Us(t,r)||t.push(r)}),t}function Mn(n,e){return Dc(e).filter(t=>!Us(n,t))}class ea{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=sd(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=od(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class xi extends ea{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class li extends ea{get formDirective(){return null}get path(){return null}}let ta=(()=>{class n extends class tl{constructor(e){this._cd=e}is(e){var t,i,r;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(r=null===(i=this._cd)||void 0===i?void 0:i.control)||void 0===r?void 0:r[e])}}{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(xi,2))},n.\u0275dir=c.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,i){2&t&&c.ekj("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))},features:[c.qOj]}),n})();function na(n,e){ds(n,e),e.valueAccessor.writeValue(n.value),function nl(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&Tf(n,e)})}(n,e),function Ig(n,e){const t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function Sf(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&Tf(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function Af(n,e){if(e.valueAccessor.setDisabledState){const t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function ia(n,e,t=!0){const i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),ra(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function us(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function ds(n,e){const t=bg(n);null!==e.validator?n.setValidators(vg(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const i=wg(n);null!==e.asyncValidator?n.setAsyncValidators(vg(i,e.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();us(e._rawValidators,r),us(e._rawAsyncValidators,r)}function ra(n,e){let t=!1;if(null!==n){if(null!==e.validator){const r=bg(n);if(Array.isArray(r)&&r.length>0){const a=r.filter(u=>u!==e.validator);a.length!==r.length&&(t=!0,n.setValidators(a))}}if(null!==e.asyncValidator){const r=wg(n);if(Array.isArray(r)&&r.length>0){const a=r.filter(u=>u!==e.asyncValidator);a.length!==r.length&&(t=!0,n.setAsyncValidators(a))}}}const i=()=>{};return us(e._rawValidators,i),us(e._rawAsyncValidators,i),t}function Tf(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function il(n,e){ds(n,e)}function oa(n,e){n._syncPendingControls(),e.forEach(t=>{const i=t.control;"submit"===i.updateOn&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function rl(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const js="VALID",fs="INVALID",Hs="PENDING",$r="DISABLED";function ol(n){return(Mc(n)?n.validators:n)||null}function aa(n){return Array.isArray(n)?sd(n):n||null}function la(n,e){return(Mc(e)?e.asyncValidators:n)||null}function dd(n){return Array.isArray(n)?od(n):n||null}function Mc(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const xc=n=>n instanceof xg,$s=n=>n instanceof pd;function hd(n){return xc(n)?n.value:n.getRawValue()}function Mg(n,e){const t=$s(n),i=n.controls;if(!(t?Object.keys(i):i).length)throw new c.vHH(1e3,"");if(!i[e])throw new c.vHH(1001,"")}function ca(n,e){$s(n),n._forEachChild((i,r)=>{if(void 0===e[r])throw new c.vHH(1002,"")})}class fd{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=aa(this._rawValidators),this._composedAsyncValidatorFn=dd(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===js}get invalid(){return this.status===fs}get pending(){return this.status==Hs}get disabled(){return this.status===$r}get enabled(){return this.status!==$r}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=aa(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=dd(e)}addValidators(e){this.setValidators(ad(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(ad(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Mn(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Mn(e,this._rawAsyncValidators))}hasValidator(e){return Us(this._rawValidators,e)}hasAsyncValidator(e){return Us(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Hs,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=$r,this.errors=null,this._forEachChild(i=>{i.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=js,this._forEachChild(i=>{i.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===js||this.status===Hs)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?$r:js}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Hs,this._hasOwnPendingAsyncValidator=!0;const t=rd(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function Tg(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(t)),Array.isArray(e)&&0===e.length))return null;let i=n;return e.forEach(r=>{i=$s(i)?i.controls.hasOwnProperty(r)?i.controls[r]:null:(n=>n instanceof kg)(i)&&i.at(r)||null}),i}(this,e,".")}getError(e,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new c.vpe,this.statusChanges=new c.vpe}_calculateStatus(){return this._allControlsDisabled()?$r:this.errors?fs:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Hs)?Hs:this._anyControlsHaveStatus(fs)?fs:js}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Mc(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class xg extends fd{constructor(e=null,t,i){super(ol(t),la(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Mc(t)&&t.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){rl(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){rl(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class pd extends fd{constructor(e,t,i){super(ol(t),la(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){ca(this,e),Object.keys(e).forEach(i=>{Mg(this,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(i=>{this.controls[i]&&this.controls[i].patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=hd(t),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>!!i._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const i=this.controls[t];if(this.contains(t)&&e(i))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,i)=>((t.enabled||this.disabled)&&(e[i]=t.value),e))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,a)=>{i=t(i,r,a)}),i}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class kg extends fd{constructor(e,t,i){super(ol(t),la(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,i={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){ca(this,e),e.forEach((i,r)=>{Mg(this,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>hd(e))}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,i)=>!!i._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,i)=>{e(t,i)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const Rg={provide:li,useExisting:(0,c.Gpc)(()=>Eo)},zs=(()=>Promise.resolve(null))();let Eo=(()=>{class n extends li{constructor(t,i){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new c.vpe,this.form=new pd({},sd(t),od(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){zs.then(()=>{const i=this._findContainer(t.path);t.control=i.registerControl(t.name,t.control),na(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){zs.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){zs.then(()=>{const i=this._findContainer(t.path),r=new pd({});il(r,t),i.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){zs.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,i){zs.then(()=>{this.form.get(t.path).setValue(i)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,oa(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Kn,10),c.Y36(mo,10))},n.\u0275dir=c.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,i){1&t&&c.NdJ("submit",function(a){return i.onSubmit(a)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([Rg]),c.qOj]}),n})();const yd={provide:xi,useExisting:(0,c.Gpc)(()=>ll)},vd=(()=>Promise.resolve(null))();let ll=(()=>{class n extends xi{constructor(t,i,r,a,u){super(),this._changeDetectorRef=u,this.control=new xg,this._registered=!1,this.update=new c.vpe,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function hs(n,e){if(!e)return null;let t,i,r;return Array.isArray(e),e.forEach(a=>{a.constructor===Bs?t=a:function xf(n){return Object.getPrototypeOf(n.constructor)===_i}(a)?i=a:r=a}),r||i||t||null}(0,a)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function sa(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){na(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){vd.then(()=>{var i;this.control.setValue(t,{emitViewToModelChange:!1}),null===(i=this._changeDetectorRef)||void 0===i||i.markForCheck()})}_updateDisabled(t){const i=t.isDisabled.currentValue,r=""===i||i&&"false"!==i;vd.then(()=>{var a;r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),null===(a=this._changeDetectorRef)||void 0===a||a.markForCheck()})}_getPath(t){return this._parent?function Co(n,e){return[...e.path,n]}(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(li,9),c.Y36(Kn,10),c.Y36(mo,10),c.Y36(Zn,10),c.Y36(c.sBO,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[c._Bn([yd]),c.qOj,c.TTD]}),n})(),ps=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const Nf={provide:li,useExisting:(0,c.Gpc)(()=>cl)};let cl=(()=>{class n extends li{constructor(t,i){super(),this.validators=t,this.asyncValidators=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new c.vpe,this._setValidators(t),this._setAsyncValidators(i)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(ra(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const i=this.form.get(t.path);return na(i,t),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),i}getControl(t){return this.form.get(t.path)}removeControl(t){ia(t.control||null,t,!1),rl(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,i){this.form.get(t.path).setValue(i)}onSubmit(t){return this.submitted=!0,oa(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const i=t.control,r=this.form.get(t.path);i!==r&&(ia(i||null,t),xc(r)&&(na(r,t),t.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const i=this.form.get(t.path);il(i,t),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const i=this.form.get(t.path);i&&function Ag(n,e){return ra(n,e)}(i,t)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){ds(this.form,this),this._oldForm&&ra(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Kn,10),c.Y36(mo,10))},n.\u0275dir=c.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,i){1&t&&c.NdJ("submit",function(a){return i.onSubmit(a)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([Nf]),c.qOj,c.TTD]}),n})(),Gs=(()=>{class n{constructor(){this._validator=ar}ngOnChanges(t){if(this.inputName in t){const i=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):ar,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,features:[c.TTD]}),n})();const ha={provide:Kn,useExisting:(0,c.Gpc)(()=>fl),multi:!0};let jf,fl=(()=>{class n extends Gs{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=t=>function Bg(n){return null!=n&&!1!==n&&"false"!=`${n}`}(t),this.createValidator=t=>Xa}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=c.n5z(n)))(i||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,i){2&t&&c.uIk("required",i._enabled?"":null)},inputs:{required:"required"},features:[c._Bn([ha]),c.qOj]}),n})(),LO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[ps]]}),n})(),wd=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[LO]}),n})();function It(n){return null!=n&&"false"!=`${n}`}function pl(n,e=0){return function jg(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}function Zb(n){return Array.isArray(n)?n:[n]}function Gn(n){return null==n?"":"string"==typeof n?n:`${n}px`}function qs(n){return n instanceof c.SBq?n.nativeElement:n}try{jf="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){jf=!1}let Oc,ur=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function mn(n){return n===Wo}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!jf)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.Lbi))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Kb=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function Hf(){if(Oc)return Oc;if("object"!=typeof document||!document)return Oc=new Set(Kb),Oc;let n=document.createElement("input");return Oc=new Set(Kb.filter(e=>(n.setAttribute("type",e),n.type===e))),Oc}let Cd,ml,Hg;function Pc(n){return function DI(){if(null==Cd&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Cd=!0}))}finally{Cd=Cd||!1}return Cd}()?n:!!n.capture}function zf(){if(null==ml){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return ml=!1,ml;if("scrollBehavior"in document.documentElement.style)ml=!0;else{const n=Element.prototype.scrollTo;ml=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return ml}function Qb(){let n="undefined"!=typeof document&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const e=n.shadowRoot.activeElement;if(e===n)break;n=e}return n}function fa(n){return n.composedPath?n.composedPath()[0]:n.target}function $g(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}const SI=new c.OlP("cdk-dir-doc",{providedIn:"root",factory:function TI(){return(0,c.f3M)(de)}}),MI=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let pa=(()=>{class n{constructor(t){if(this.value="ltr",this.change=new c.vpe,t){const r=t.documentElement?t.documentElement.dir:null;this.value=function xI(n){const e=(null==n?void 0:n.toLowerCase())||"";return"auto"===e&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?MI.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||r||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(SI,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ed=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();var yt=F(7579),Qn=F(727);class ms extends yt.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}}function ht(...n){const e=(0,Vs.yG)(n);return(0,bn.D)(n,e)}function Gr(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}var ys=F(576),Jn=F(4482),va=F(4671);function ki(n,e,t){const i=(0,ys.m)(n)||e||t?{next:n,error:e,complete:t}:n;return i?(0,Jn.e)((r,a)=>{var u;null===(u=i.subscribe)||void 0===u||u.call(i);let f=!0;r.subscribe((0,un.x)(a,g=>{var v;null===(v=i.next)||void 0===v||v.call(i,g),a.next(g)},()=>{var g;f=!1,null===(g=i.complete)||void 0===g||g.call(i),a.complete()},g=>{var v;f=!1,null===(v=i.error)||void 0===v||v.call(i,g),a.error(g)},()=>{var g,v;f&&(null===(g=i.unsubscribe)||void 0===g||g.call(i)),null===(v=i.finalize)||void 0===v||v.call(i)}))}):va.y}class Qg extends Qn.w0{constructor(e,t){super()}schedule(e,t=0){return this}}const Wf={setInterval(n,e,...t){const{delegate:i}=Wf;return(null==i?void 0:i.setInterval)?i.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=Wf;return((null==e?void 0:e.clearInterval)||clearInterval)(n)},delegate:void 0};var ba=F(8737);class Md extends Qg{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){if(this.closed)return this;this.state=e;const i=this.id,r=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(r,i,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this}requestAsyncId(e,t,i=0){return Wf.setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,t,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return t;Wf.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(e,t);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r,i=!1;try{this.work(e)}catch(a){i=!0,r=a||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:i}=t;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ba.P)(i,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const Jg={now:()=>(Jg.delegate||Date).now(),delegate:void 0};class _l{constructor(e,t=_l.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,i){return new this.schedulerActionCtor(this,e).schedule(i,t)}}_l.now=Jg.now;class Yf extends _l{constructor(e,t=_l.now){super(e,t),this.actions=[],this._active=!1,this._scheduled=void 0}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let i;this._active=!0;do{if(i=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,i){for(;e=t.shift();)e.unsubscribe();throw i}}}const Lc=new Yf(Md),rA=Lc;function v0(n,e=Lc){return(0,Jn.e)((t,i)=>{let r=null,a=null,u=null;const f=()=>{if(r){r.unsubscribe(),r=null;const v=a;a=null,i.next(v)}};function g(){const v=u+n,D=e.now();if(D<v)return r=this.schedule(void 0,v-D),void i.add(r);f()}t.subscribe((0,un.x)(i,v=>{a=v,u=e.now(),r||(r=e.schedule(g,n),i.add(r))},()=>{f(),i.complete()},void 0,()=>{a=r=null}))})}function Xn(n,e){return(0,Jn.e)((t,i)=>{let r=0;t.subscribe((0,un.x)(i,a=>n.call(e,a,r++)&&i.next(a)))})}var yi=F(5698);function wa(n,e=va.y){return n=null!=n?n:xd,(0,Jn.e)((t,i)=>{let r,a=!0;t.subscribe((0,un.x)(i,u=>{const f=e(u);(a||!n(r,f))&&(a=!1,r=f,i.next(u))}))})}function xd(n,e){return n===e}var Vc=F(5032);function ui(n){return(0,Jn.e)((e,t)=>{(0,or.Xf)(n).subscribe((0,un.x)(t,()=>t.complete(),Vc.Z)),!t.closed&&e.subscribe(t)})}let e_=(()=>{class n{create(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),b0=(()=>{class n{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,i)=>this._cleanupObserver(i))}observe(t){const i=qs(t);return new zi.y(r=>{const u=this._observeElement(i).subscribe(r);return()=>{u.unsubscribe(),this._unobserveElement(i)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const i=new yt.x,r=this._mutationObserverFactory.create(a=>i.next(a));r&&r.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:r,stream:i,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:i,stream:r}=this._observedElements.get(t);i&&i.disconnect(),r.complete(),this._observedElements.delete(t)}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(e_))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),t_=(()=>{class n{constructor(t,i,r){this._contentObserver=t,this._elementRef=i,this._ngZone=r,this.event=new c.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(t){this._disabled=It(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=pl(t),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(v0(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){var t;null===(t=this._currentSubscription)||void 0===t||t.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(b0),c.Y36(c.SBq),c.Y36(c.R0b))},n.\u0275dir=c.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),Zf=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[e_]}),n})();class lA extends class dr{constructor(e){this._items=e,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new yt.x,this._typeaheadSubscription=Qn.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=t=>t.disabled,this._pressedLetters=[],this.tabOut=new yt.x,this.change=new yt.x,e instanceof c.n_E&&e.changes.subscribe(t=>{if(this._activeItem){const r=t.toArray().indexOf(this._activeItem);r>-1&&r!==this._activeItemIndex&&(this._activeItemIndex=r)}})}skipPredicate(e){return this._skipPredicateFn=e,this}withWrap(e=!0){return this._wrap=e,this}withVerticalOrientation(e=!0){return this._vertical=e,this}withHorizontalOrientation(e){return this._horizontal=e,this}withAllowedModifierKeys(e){return this._allowedModifierKeys=e,this}withTypeAhead(e=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(ki(t=>this._pressedLetters.push(t)),v0(e),Xn(()=>this._pressedLetters.length>0),(0,wt.U)(()=>this._pressedLetters.join(""))).subscribe(t=>{const i=this._getItemsArray();for(let r=1;r<i.length+1;r++){const a=(this._activeItemIndex+r)%i.length,u=i[a];if(!this._skipPredicateFn(u)&&0===u.getLabel().toUpperCase().trim().indexOf(t)){this.setActiveItem(a);break}}this._pressedLetters=[]}),this}withHomeAndEnd(e=!0){return this._homeAndEnd=e,this}setActiveItem(e){const t=this._activeItem;this.updateActiveItem(e),this._activeItem!==t&&this.change.next(this._activeItemIndex)}onKeydown(e){const t=e.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(a=>!e[a]||this._allowedModifierKeys.indexOf(a)>-1);switch(t){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;default:return void((r||Gr(e,"shiftKey"))&&(e.key&&1===e.key.length?this._letterKeyStream.next(e.key.toLocaleUpperCase()):(t>=65&&t<=90||t>=48&&t<=57)&&this._letterKeyStream.next(String.fromCharCode(t))))}this._pressedLetters=[],e.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(e){const t=this._getItemsArray(),i="number"==typeof e?e:t.indexOf(e),r=t[i];this._activeItem=null==r?null:r,this._activeItemIndex=i}_setActiveItemByDelta(e){this._wrap?this._setActiveInWrapMode(e):this._setActiveInDefaultMode(e)}_setActiveInWrapMode(e){const t=this._getItemsArray();for(let i=1;i<=t.length;i++){const r=(this._activeItemIndex+e*i+t.length)%t.length;if(!this._skipPredicateFn(t[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(e){this._setActiveItemByIndex(this._activeItemIndex+e,e)}_setActiveItemByIndex(e,t){const i=this._getItemsArray();if(i[e]){for(;this._skipPredicateFn(i[e]);)if(!i[e+=t])return;this.setActiveItem(e)}}_getItemsArray(){return this._items instanceof c.n_E?this._items.toArray():this._items}}{setActiveItem(e){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(e),this.activeItem&&this.activeItem.setActiveStyles()}}let y1=(()=>{class n{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function v1(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const i=function C0(n){try{return n.frameElement}catch(e){return null}}(function pA(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(t));if(i&&(-1===o_(i)||!this.isVisible(i)))return!1;let r=t.nodeName.toLowerCase(),a=o_(t);return t.hasAttribute("contenteditable")?-1!==a:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function fA(n){let e=n.nodeName.toLowerCase(),t="input"===e&&n.type;return"text"===t||"password"===t||"select"===e||"textarea"===e}(t))&&("audio"===r?!!t.hasAttribute("controls")&&-1!==a:"video"===r?-1!==a&&(null!==a||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,i){return function I0(n){return!function s_(n){return function dA(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function uA(n){let e=n.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(n)||function E0(n){return function hA(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||D0(n))}(t)&&!this.isDisabled(t)&&((null==i?void 0:i.ignoreVisibility)||this.isVisible(t))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ur))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function D0(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let e=n.getAttribute("tabindex");return!(!e||isNaN(parseInt(e,10)))}function o_(n){if(!D0(n))return null;const e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class mA{constructor(e,t,i,r,a=!1){this._element=e,this._checker=t,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,a||this.attachAnchors()}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){const t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){const i=this._getFirstTabbableElement(t);return null==i||i.focus(e),!!i}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){const t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){const t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let i=0;i<t.length;i++){const r=t[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[i]):null;if(r)return r}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let i=t.length-1;i>=0;i--){const r=t[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[i]):null;if(r)return r}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe((0,yi.q)(1)).subscribe(e)}}let A0=(()=>{class n{constructor(t,i,r){this._checker=t,this._ngZone=i,this._document=r}create(t,i=!1){return new mA(t,this._checker,this._ngZone,this._document,i)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(y1),c.LFG(c.R0b),c.LFG(de))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),S0=(()=>{class n{constructor(t,i,r){this._elementRef=t,this._focusTrapFactory=i,this._previouslyFocusedElement=null,this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0)}get enabled(){return this.focusTrap.enabled}set enabled(t){this.focusTrap.enabled=It(t)}get autoCapture(){return this._autoCapture}set autoCapture(t){this._autoCapture=It(t)}ngOnDestroy(){this.focusTrap.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap.hasAttached()||this.focusTrap.attachAnchors()}ngOnChanges(t){const i=t.autoCapture;i&&!i.firstChange&&this.autoCapture&&this.focusTrap.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=Qb(),this.focusTrap.focusInitialElementWhenReady()}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(A0),c.Y36(de))},n.\u0275dir=c.lG2({type:n,selectors:[["","cdkTrapFocus",""]],inputs:{enabled:["cdkTrapFocus","enabled"],autoCapture:["cdkTrapFocusAutoCapture","autoCapture"]},exportAs:["cdkTrapFocus"],features:[c.TTD]}),n})();function gA(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function a_(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const _A=new c.OlP("cdk-input-modality-detector-options"),yA={ignoreKeys:[18,17,224,91,16]},Ca=Pc({passive:!0,capture:!0});let vA=(()=>{class n{constructor(t,i,r,a){this._platform=t,this._mostRecentTarget=null,this._modality=new ms(null),this._lastTouchMs=0,this._onKeydown=u=>{var f,g;(null===(g=null===(f=this._options)||void 0===f?void 0:f.ignoreKeys)||void 0===g?void 0:g.some(v=>v===u.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=fa(u))},this._onMousedown=u=>{Date.now()-this._lastTouchMs<650||(this._modality.next(gA(u)?"keyboard":"mouse"),this._mostRecentTarget=fa(u))},this._onTouchstart=u=>{a_(u)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=fa(u))},this._options=Object.assign(Object.assign({},yA),a),this.modalityDetected=this._modality.pipe(function Xg(n){return Xn((e,t)=>n<=t)}(1)),this.modalityChanged=this.modalityDetected.pipe(wa()),t.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,Ca),r.addEventListener("mousedown",this._onMousedown,Ca),r.addEventListener("touchstart",this._onTouchstart,Ca)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Ca),document.removeEventListener("mousedown",this._onMousedown,Ca),document.removeEventListener("touchstart",this._onTouchstart,Ca))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ur),c.LFG(c.R0b),c.LFG(de),c.LFG(_A,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const bA=new c.OlP("liveAnnouncerElement",{providedIn:"root",factory:function Kf(){return null}}),l_=new c.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let wA=(()=>{class n{constructor(t,i,r,a){this._ngZone=i,this._defaultOptions=a,this._document=r,this._liveElement=t||this._createLiveElement()}announce(t,...i){const r=this._defaultOptions;let a,u;return 1===i.length&&"number"==typeof i[0]?u=i[0]:[a,u]=i,this.clear(),clearTimeout(this._previousTimeout),a||(a=r&&r.politeness?r.politeness:"polite"),null==u&&r&&(u=r.duration),this._liveElement.setAttribute("aria-live",a),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(f=>this._currentResolve=f)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=t,"number"==typeof u&&(this._previousTimeout=setTimeout(()=>this.clear(),u)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){var t,i;clearTimeout(this._previousTimeout),null===(t=this._liveElement)||void 0===t||t.remove(),this._liveElement=null,null===(i=this._currentResolve)||void 0===i||i.call(this),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const t="cdk-live-announcer-element",i=this._document.getElementsByClassName(t),r=this._document.createElement("div");for(let a=0;a<i.length;a++)i[a].remove();return r.classList.add(t),r.classList.add("cdk-visually-hidden"),r.setAttribute("aria-atomic","true"),r.setAttribute("aria-live","polite"),this._document.body.appendChild(r),r}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(bA,8),c.LFG(c.R0b),c.LFG(de),c.LFG(l_,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const c_=new c.OlP("cdk-focus-monitor-default-options"),kd=Pc({passive:!0,capture:!0});let u_=(()=>{class n{constructor(t,i,r,a,u){this._ngZone=t,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new yt.x,this._rootNodeFocusAndBlurListener=f=>{const g=fa(f),v="focus"===f.type?this._onFocus:this._onBlur;for(let D=g;D;D=D.parentElement)v.call(this,f,D)},this._document=a,this._detectionMode=(null==u?void 0:u.detectionMode)||0}monitor(t,i=!1){const r=qs(t);if(!this._platform.isBrowser||1!==r.nodeType)return ht(null);const a=function AI(n){if(function II(){if(null==Hg){const n="undefined"!=typeof document?document.head:null;Hg=!(!n||!n.createShadowRoot&&!n.attachShadow)}return Hg}()){const e=n.getRootNode?n.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(r)||this._getDocument(),u=this._elementInfo.get(r);if(u)return i&&(u.checkChildren=!0),u.subject;const f={checkChildren:i,subject:new yt.x,rootNode:a};return this._elementInfo.set(r,f),this._registerGlobalListeners(f),f.subject}stopMonitoring(t){const i=qs(t),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(t,i,r){const a=qs(t);a===this._getDocument().activeElement?this._getClosestElementsInfo(a).forEach(([f,g])=>this._originChanged(f,i,g)):(this._setOrigin(i),"function"==typeof a.focus&&a.focus(r))}ngOnDestroy(){this._elementInfo.forEach((t,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!(null==t?void 0:t.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(t,i){t.classList.toggle("cdk-focused",!!i),t.classList.toggle("cdk-touch-focused","touch"===i),t.classList.toggle("cdk-keyboard-focused","keyboard"===i),t.classList.toggle("cdk-mouse-focused","mouse"===i),t.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(t,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,i){const r=this._elementInfo.get(i),a=fa(t);!r||!r.checkChildren&&i!==a||this._originChanged(i,this._getFocusOrigin(a),r)}_onBlur(t,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&t.relatedTarget instanceof Node&&i.contains(t.relatedTarget)||(this._setClasses(i),this._emitOrigin(r.subject,null))}_emitOrigin(t,i){this._ngZone.run(()=>t.next(i))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const i=t.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,kd),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,kd)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(ui(this._stopInputModalityDetector)).subscribe(a=>{this._setOrigin(a,!0)}))}_removeGlobalListeners(t){const i=t.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,kd),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,kd),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,i,r){this._setClasses(t,i),this._emitOrigin(r.subject,i),this._lastFocusOrigin=i}_getClosestElementsInfo(t){const i=[];return this._elementInfo.forEach((r,a)=>{(a===t||r.checkChildren&&a.contains(t))&&i.push([a,r])}),i}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.R0b),c.LFG(ur),c.LFG(vA),c.LFG(de,8),c.LFG(c_,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),CA=(()=>{class n{constructor(t,i){this._elementRef=t,this._focusMonitor=i,this.cdkFocusChange=new c.vpe}ngAfterViewInit(){const t=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(t,1===t.nodeType&&t.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(i=>this.cdkFocusChange.emit(i))}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(u_))},n.\u0275dir=c.lG2({type:n,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"}}),n})();const Qf="cdk-high-contrast-black-on-white",EA="cdk-high-contrast-white-on-black",d_="cdk-high-contrast-active";let h_=(()=>{class n{constructor(t,i){this._platform=t,this._document=i}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(t):null,a=(r&&r.backgroundColor||"").replace(/ /g,"");switch(t.remove(),a){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(d_),t.remove(Qf),t.remove(EA),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?(t.add(d_),t.add(Qf)):2===i&&(t.add(d_),t.add(EA))}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ur),c.LFG(de))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),k0=(()=>{class n{constructor(t){t._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(h_))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Zf]]}),n})();var Rd=F(8189);function Jf(...n){return function R0(){return(0,Rd.J)(1)}()((0,bn.D)(n,(0,Vs.yG)(n)))}function xn(...n){const e=(0,Vs.yG)(n);return(0,Jn.e)((t,i)=>{(e?Jf(n,t,e):Jf(n,t)).subscribe(i)})}class Od{}const To="*";function Xf(n,e){return{type:7,name:n,definitions:e,options:{}}}function Mo(n,e=null){return{type:4,styles:e,timings:n}}function ep(n,e=null){return{type:2,steps:n,options:e}}function ei(n){return{type:6,styles:n,offset:null}}function Bc(n,e,t){return{type:0,name:n,styles:e,options:t}}function tp(n){return{type:5,steps:n}}function xo(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function O0(n=null){return{type:9,options:n}}function f_(n,e,t=null){return{type:11,selector:n,animation:e,options:t}}function P0(n){Promise.resolve(null).then(n)}class Uc{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){P0(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class yl{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,r=0;const a=this.players.length;0==a?P0(()=>this._onFinish()):this.players.forEach(u=>{u.onDone(()=>{++t==a&&this._onFinish()}),u.onDestroy(()=>{++i==a&&this._onDestroy()}),u.onStart(()=>{++r==a&&this._onStart()})}),this.totalTime=this.players.reduce((u,f)=>Math.max(u,f.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){const e=this.players.reduce((t,i)=>null===t||i.totalTime>t.totalTime?i:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}const jt=!1;function vl(n){return new c.vHH(3e3,jt)}function g_(){return"undefined"!=typeof window&&void 0!==window.document}function __(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Qs(n){switch(n.length){case 0:return new Uc;case 1:return n[0];default:return new yl(n)}}function W0(n,e,t,i,r={},a={}){const u=[],f=[];let g=-1,v=null;if(i.forEach(D=>{const I=D.offset,R=I==g,V=R&&v||{};Object.keys(D).forEach(H=>{let J=H,be=D[H];if("offset"!==H)switch(J=e.normalizePropertyName(J,u),be){case"!":be=r[H];break;case To:be=a[H];break;default:be=e.normalizeStyleValue(H,J,be,u)}V[J]=be}),R||f.push(V),v=V,g=I}),u.length)throw function j0(n){return new c.vHH(3502,jt)}();return f}function y_(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&v_(t,"start",n)));break;case"done":n.onDone(()=>i(t&&v_(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&v_(t,"destroy",n)))}}function v_(n,e,t){const i=t.totalTime,a=b_(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,null==i?n.totalTime:i,!!t.disabled),u=n._data;return null!=u&&(a._data=u),a}function b_(n,e,t,i,r="",a=0,u){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:a,disabled:!!u}}function Ar(n,e,t){let i;return n instanceof Map?(i=n.get(e),i||n.set(e,i=t)):(i=n[e],i||(i=n[e]=t)),i}function Y0(n){const e=n.indexOf(":");return[n.substring(1,e),n.substr(e+1)]}let jc=(n,e)=>!1,bl=(n,e,t)=>[],Z0=null;function wl(n){const e=n.parentNode||n.host;return e===Z0?null:e}(__()||"undefined"!=typeof Element)&&(g_()?(Z0=(()=>document.documentElement)(),jc=(n,e)=>{for(;e;){if(e===n)return!0;e=wl(e)}return!1}):jc=(n,e)=>n.contains(e),bl=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const i=n.querySelector(e);return i?[i]:[]});let ko=null,bs=!1;function Hc(n){ko||(ko=function Ri(){return"undefined"!=typeof document?document.body:null}()||{},bs=!!ko.style&&"WebkitAppearance"in ko.style);let e=!0;return ko.style&&!function VA(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in ko.style,!e&&bs&&(e="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in ko.style)),e}const Ea=jc,Pd=bl;let rp=(()=>{class n{validateStyleProperty(t){return Hc(t)}matchesElement(t,i){return!1}containsElement(t,i){return Ea(t,i)}getParentElement(t){return wl(t)}query(t,i,r){return Pd(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,a,u,f=[],g){return new Uc(r,a)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),Da=(()=>{class n{}return n.NOOP=new rp,n})();const Ia="ng-enter",Ro="ng-leave",Oo="ng-trigger",Po=".ng-trigger",El="ng-animating",sp=".ng-animating";function Aa(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:op(parseFloat(e[1]),e[2])}function op(n,e){return"s"===e?1e3*n:n}function Fd(n,e,t){return n.hasOwnProperty("duration")?n:function K0(n,e,t){let r,a=0,u="";if("string"==typeof n){const f=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===f)return e.push(vl()),{duration:0,delay:0,easing:""};r=op(parseFloat(f[1]),f[2]);const g=f[3];null!=g&&(a=op(parseFloat(g),f[4]));const v=f[5];v&&(u=v)}else r=n;if(!t){let f=!1,g=e.length;r<0&&(e.push(function SA(){return new c.vHH(3100,jt)}()),f=!0),a<0&&(e.push(function TA(){return new c.vHH(3101,jt)}()),f=!0),f&&e.splice(g,0,vl())}return{duration:r,delay:a,easing:u}}(n,e,t)}function Dl(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function Fo(n,e,t={}){if(e)for(let i in n)t[i]=n[i];else Dl(n,t);return t}function C_(n,e,t){return t?e+":"+t+";":""}function Q0(n){let e="";for(let t=0;t<n.style.length;t++){const i=n.style.item(t);e+=C_(0,i,n.style.getPropertyValue(i))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=C_(0,BA(t),n.style[t]));n.setAttribute("style",e)}function Cs(n,e,t){n.style&&(Object.keys(e).forEach(i=>{const r=D_(i);t&&!t.hasOwnProperty(i)&&(t[i]=n.style[r]),n.style[r]=e[i]}),__()&&Q0(n))}function Il(n,e){n.style&&(Object.keys(e).forEach(t=>{const i=D_(t);n.style[i]=""}),__()&&Q0(n))}function Gc(n){return Array.isArray(n)?1==n.length?n[0]:ep(n):n}const E_=new RegExp("{{\\s*(.+?)\\s*}}","g");function X0(n){let e=[];if("string"==typeof n){let t;for(;t=E_.exec(n);)e.push(t[1]);E_.lastIndex=0}return e}function Nd(n,e,t){const i=n.toString(),r=i.replace(E_,(a,u)=>{let f=e[u];return e.hasOwnProperty(u)||(t.push(function xA(n){return new c.vHH(3003,jt)}()),f=""),f.toString()});return r==i?n:r}function ap(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const ew=/-+([a-z0-9])/g;function D_(n){return n.replace(ew,(...e)=>e[1].toUpperCase())}function BA(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Wi(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function Ks(n){return new c.vHH(3004,jt)}()}}function lp(n,e){return window.getComputedStyle(n)[e]}function qc(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function $A(n,e,t){if(":"==n[0]){const g=function tw(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(function S1(n){return new c.vHH(3016,jt)}()),"* => *"}}(n,t);if("function"==typeof g)return void e.push(g);n=g}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(function FA(n){return new c.vHH(3015,jt)}()),e;const r=i[1],a=i[2],u=i[3];e.push(Vd(r,u));"<"==a[0]&&!("*"==r&&"*"==u)&&e.push(Vd(u,r))}(i,t,e)):t.push(n),t}const dp=new Set(["true","1"]),Ld=new Set(["false","0"]);function Vd(n,e){const t=dp.has(n)||Ld.has(n),i=dp.has(e)||Ld.has(e);return(r,a)=>{let u="*"==n||n==r,f="*"==e||e==a;return!u&&t&&"boolean"==typeof r&&(u=r?dp.has(n):Ld.has(n)),!f&&i&&"boolean"==typeof a&&(f=a?dp.has(e):Ld.has(e)),u&&f}}const iw=new RegExp("s*:selfs*,?","g");function A_(n,e,t,i){return new zA(n).build(e,t,i)}class zA{constructor(e){this._driver=e}build(e,t,i){const r=new sw(t);this._resetContextStyleTimingState(r);const a=Wi(this,Gc(e),r);return r.unsupportedCSSPropertiesFound.size&&r.unsupportedCSSPropertiesFound.keys(),a}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0;const a=[],u=[];return"@"==e.name.charAt(0)&&t.errors.push(function F0(){return new c.vHH(3006,jt)}()),e.definitions.forEach(f=>{if(this._resetContextStyleTimingState(t),0==f.type){const g=f,v=g.name;v.toString().split(/\s*,\s*/).forEach(D=>{g.name=D,a.push(this.visitState(g,t))}),g.name=v}else if(1==f.type){const g=this.visitTransition(f,t);i+=g.queryCount,r+=g.depCount,u.push(g)}else t.errors.push(function N0(){return new c.vHH(3007,jt)}())}),{type:7,name:e.name,states:a,transitions:u,queryCount:i,depCount:r,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){const a=new Set,u=r||{};i.styles.forEach(f=>{if(Bd(f)){const g=f;Object.keys(g).forEach(v=>{X0(g[v]).forEach(D=>{u.hasOwnProperty(D)||a.add(D)})})}}),a.size&&(ap(a.values()),t.errors.push(function L0(n,e){return new c.vHH(3008,jt)}()))}return{type:0,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=Wi(this,Gc(e.animation),t);return{type:1,matchers:qc(e.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:No(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(i=>Wi(this,i,t)),options:No(e.options)}}visitGroup(e,t){const i=t.currentTime;let r=0;const a=e.steps.map(u=>{t.currentTime=i;const f=Wi(this,u,t);return r=Math.max(r,t.currentTime),f});return t.currentTime=r,{type:3,steps:a,options:No(e.options)}}visitAnimate(e,t){const i=function ow(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return aw(Fd(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(a=>"{"==a.charAt(0)&&"{"==a.charAt(1))){const a=aw(0,0,"");return a.dynamic=!0,a.strValue=t,a}const r=Fd(t,e);return aw(r.duration,r.delay,r.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let r,a=e.styles?e.styles:ei({});if(5==a.type)r=this.visitKeyframes(a,t);else{let u=e.styles,f=!1;if(!u){f=!0;const v={};i.easing&&(v.easing=i.easing),u=ei(v)}t.currentTime+=i.duration+i.delay;const g=this.visitStyle(u,t);g.isEmptyStep=f,r=g}return t.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[];Array.isArray(e.styles)?e.styles.forEach(u=>{"string"==typeof u?u==To?i.push(u):t.errors.push(function V0(n){return new c.vHH(3002,jt)}()):i.push(u)}):i.push(e.styles);let r=!1,a=null;return i.forEach(u=>{if(Bd(u)){const f=u,g=f.easing;if(g&&(a=g,delete f.easing),!r)for(let v in f)if(f[v].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:i,easing:a,offset:e.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let r=t.currentTime,a=t.currentTime;i&&a>0&&(a-=i.duration+i.delay),e.styles.forEach(u=>{"string"!=typeof u&&Object.keys(u).forEach(f=>{if(!this._driver.validateStyleProperty(f))return delete u[f],void t.unsupportedCSSPropertiesFound.add(f);const g=t.collectedStyles[t.currentQuerySelector],v=g[f];let D=!0;v&&(a!=r&&a>=v.startTime&&r<=v.endTime&&(t.errors.push(function kA(n,e,t,i,r){return new c.vHH(3010,jt)}()),D=!1),a=v.startTime),D&&(g[f]={startTime:a,endTime:r}),t.options&&function J0(n,e,t){const i=e.params||{},r=X0(n);r.length&&r.forEach(a=>{i.hasOwnProperty(a)||t.push(function MA(n){return new c.vHH(3001,jt)}())})}(u[f],t.options,t.errors)})})}visitKeyframes(e,t){const i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function RA(){return new c.vHH(3011,jt)}()),i;let a=0;const u=[];let f=!1,g=!1,v=0;const D=e.steps.map(qe=>{const Ke=this._makeStyleAst(qe,t);let Je=null!=Ke.offset?Ke.offset:function WA(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(Bd(t)&&t.hasOwnProperty("offset")){const i=t;e=parseFloat(i.offset),delete i.offset}});else if(Bd(n)&&n.hasOwnProperty("offset")){const t=n;e=parseFloat(t.offset),delete t.offset}return e}(Ke.styles),et=0;return null!=Je&&(a++,et=Ke.offset=Je),g=g||et<0||et>1,f=f||et<v,v=et,u.push(et),Ke});g&&t.errors.push(function OA(){return new c.vHH(3012,jt)}()),f&&t.errors.push(function B0(){return new c.vHH(3200,jt)}());const I=e.steps.length;let R=0;a>0&&a<I?t.errors.push(function A1(){return new c.vHH(3202,jt)}()):0==a&&(R=1/(I-1));const V=I-1,H=t.currentTime,J=t.currentAnimateTimings,be=J.duration;return D.forEach((qe,Ke)=>{const Je=R>0?Ke==V?1:R*Ke:u[Ke],et=Je*be;t.currentTime=H+J.delay+et,J.duration=et,this._validateStyleAst(qe,t),qe.offset=Je,i.styles.push(qe)}),i}visitReference(e,t){return{type:8,animation:Wi(this,Gc(e.animation),t),options:No(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:No(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:No(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[a,u]=function GA(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(iw,"")),n=n.replace(/@\*/g,Po).replace(/@\w+/g,t=>Po+"-"+t.substr(1)).replace(/:animating/g,sp),[n,e]}(e.selector);t.currentQuerySelector=i.length?i+" "+a:a,Ar(t.collectedStyles,t.currentQuerySelector,{});const f=Wi(this,Gc(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:a,limit:r.limit||0,optional:!!r.optional,includeSelf:u,animation:f,originalSelector:e.selector,options:No(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function U0(){return new c.vHH(3013,jt)}());const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:Fd(e.timings,t.errors,!0);return{type:12,animation:Wi(this,Gc(e.animation),t),timings:i,options:null}}}class sw{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Bd(n){return!Array.isArray(n)&&"object"==typeof n}function No(n){return n?(n=Dl(n)).params&&(n.params=function qA(n){return n?Dl(n):null}(n.params)):n={},n}function aw(n,e,t){return{duration:n,delay:e,easing:t}}function Ud(n,e,t,i,r,a,u=null,f=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:a,totalTime:r+a,easing:u,subTimeline:f}}class hp{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const lw=new RegExp(":enter","g"),T_=new RegExp(":leave","g");function M_(n,e,t,i,r,a={},u={},f,g,v=[]){return(new fp).buildKeyframes(n,e,t,i,r,a,u,f,g,v)}class fp{buildKeyframes(e,t,i,r,a,u,f,g,v,D=[]){v=v||new hp;const I=new Hd(e,t,v,r,a,D,[]);I.options=g,I.currentTimeline.setStyles([u],null,I.errors,g),Wi(this,i,I);const R=I.timelines.filter(V=>V.containsAnimation());if(Object.keys(f).length){let V;for(let H=R.length-1;H>=0;H--){const J=R[H];if(J.element===t){V=J;break}}V&&!V.allowOnlyTimelineStyles()&&V.setStyles([f],null,I.errors,g)}return R.length?R.map(V=>V.buildKeyframes()):[Ud(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.get(t.element);if(i){const r=t.createSubContext(e.options),a=t.currentTimeline.currentTime,u=this._visitSubInstructions(i,r,r.options);a!=u&&t.transformIntoNewTimeline(u)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,i){let a=t.currentTimeline.currentTime;const u=null!=i.duration?Aa(i.duration):null,f=null!=i.delay?Aa(i.delay):null;return 0!==u&&e.forEach(g=>{const v=t.appendInstructionToTimeline(g,u,f);a=Math.max(a,v.duration+v.delay)}),a}visitReference(e,t){t.updateOptions(e.options,!0),Wi(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let r=t;const a=e.options;if(a&&(a.params||a.delay)&&(r=t.createSubContext(a),r.transformIntoNewTimeline(),null!=a.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=Al);const u=Aa(a.delay);r.delayNextStep(u)}e.steps.length&&(e.steps.forEach(u=>Wi(this,u,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let r=t.currentTimeline.currentTime;const a=e.options&&e.options.delay?Aa(e.options.delay):0;e.steps.forEach(u=>{const f=t.createSubContext(e.options);a&&f.delayNextStep(a),Wi(this,u,f),r=Math.max(r,f.currentTimeline.currentTime),i.push(f.currentTimeline)}),i.forEach(u=>t.currentTimeline.mergeTimelineCollectedStyles(u)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return Fd(t.params?Nd(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());const a=e.style;5==a.type?this.visitKeyframes(a,t):(t.incrementTime(i.duration),this.visitStyle(a,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.getCurrentStyleProperties().length&&i.forwardFrame();const a=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(a):i.setStyles(e.styles,a,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,r=t.currentTimeline.duration,a=i.duration,f=t.createSubContext().currentTimeline;f.easing=i.easing,e.styles.forEach(g=>{f.forwardTime((g.offset||0)*a),f.setStyles(g.styles,g.easing,t.errors,t.options),f.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(f),t.transformIntoNewTimeline(r+a),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,r=e.options||{},a=r.delay?Aa(r.delay):0;a&&(6===t.previousNode.type||0==i&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Al);let u=i;const f=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=f.length;let g=null;f.forEach((v,D)=>{t.currentQueryIndex=D;const I=t.createSubContext(e.options,v);a&&I.delayNextStep(a),v===t.element&&(g=I.currentTimeline),Wi(this,e.animation,I),I.currentTimeline.applyStylesToKeyframe(),u=Math.max(u,I.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(u),g&&(t.currentTimeline.mergeTimelineCollectedStyles(g),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,r=t.currentTimeline,a=e.timings,u=Math.abs(a.duration),f=u*(t.currentQueryTotal-1);let g=u*t.currentQueryIndex;switch(a.duration<0?"reverse":a.easing){case"reverse":g=f-g;break;case"full":g=i.currentStaggerTime}const D=t.currentTimeline;g&&D.delayNextStep(g);const I=D.currentTime;Wi(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-I+(r.startTime-i.currentTimeline.startTime)}}const Al={};class Hd{constructor(e,t,i,r,a,u,f,g){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=a,this.errors=u,this.timelines=f,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Al,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=g||new x_(this._driver,t,0),f.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let r=this.options;null!=i.duration&&(r.duration=Aa(i.duration)),null!=i.delay&&(r.delay=Aa(i.delay));const a=i.params;if(a){let u=r.params;u||(u=this.options.params={}),Object.keys(a).forEach(f=>{(!t||!u.hasOwnProperty(f))&&(u[f]=Nd(a[f],u,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){const r=t||this.element,a=new Hd(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return a.previousNode=this.previousNode,a.currentAnimateTimings=this.currentAnimateTimings,a.options=this._copyOptions(),a.updateOptions(e),a.currentQueryIndex=this.currentQueryIndex,a.currentQueryTotal=this.currentQueryTotal,a.parentContext=this,this.subContextCount++,a}transformIntoNewTimeline(e){return this.previousNode=Al,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const r={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=i?i:0)+e.delay,easing:""},a=new YA(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(a),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,a,u){let f=[];if(r&&f.push(this.element),e.length>0){e=(e=e.replace(lw,"."+this._enterClassName)).replace(T_,"."+this._leaveClassName);let v=this._driver.query(this.element,e,1!=i);0!==i&&(v=i<0?v.slice(v.length+i,v.length):v.slice(0,i)),f.push(...v)}return!a&&0==f.length&&u.push(function PA(n){return new c.vHH(3014,jt)}()),f}}class x_{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new x_(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||To,this._currentKeyframe[t]=To}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&(this._previousKeyframe.easing=t);const a=r&&r.params||{},u=function pp(n,e){const t={};let i;return n.forEach(r=>{"*"===r?(i=i||Object.keys(e),i.forEach(a=>{t[a]=To})):Fo(r,!1,t)}),t}(e,this._globalTimelineStyles);Object.keys(u).forEach(f=>{const g=Nd(u[f],a,i);this._pendingStyles[f]=g,this._localTimelineStyles.hasOwnProperty(f)||(this._backFill[f]=this._globalTimelineStyles.hasOwnProperty(f)?this._globalTimelineStyles[f]:To),this._updateStyle(f,g)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(i=>{this._currentKeyframe[i]=e[i]}),Object.keys(this._localTimelineStyles).forEach(i=>{this._currentKeyframe.hasOwnProperty(i)||(this._currentKeyframe[i]=this._localTimelineStyles[i])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const i=this._styleSummary[t],r=e._styleSummary[t];(!i||r.time>i.time)&&this._updateStyle(t,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((f,g)=>{const v=Fo(f,!0);Object.keys(v).forEach(D=>{const I=v[D];"!"==I?e.add(D):I==To&&t.add(D)}),i||(v.offset=g/this.duration),r.push(v)});const a=e.size?ap(e.values()):[],u=t.size?ap(t.values()):[];if(i){const f=r[0],g=Dl(f);f.offset=0,g.offset=1,r=[f,g]}return Ud(this.element,r,a,u,this.duration,this.startTime,this.easing,!1)}}class YA extends x_{constructor(e,t,i,r,a,u,f=!1){super(e,t,u.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=a,this._stretchStartingKeyframe=f,this.timings={duration:u.duration,delay:u.delay,easing:u.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const a=[],u=i+t,f=t/u,g=Fo(e[0],!1);g.offset=0,a.push(g);const v=Fo(e[0],!1);v.offset=$d(f),a.push(v);const D=e.length-1;for(let I=1;I<=D;I++){let R=Fo(e[I],!1);R.offset=$d((t+R.offset*i)/u),a.push(R)}i=u,t=0,r="",e=a}return Ud(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}}function $d(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class mp{}class uw extends mp{normalizePropertyName(e,t){return D_(e)}normalizeStyleValue(e,t,i,r){let a="";const u=i.toString().trim();if(dw[t]&&0!==i&&"0"!==i)if("number"==typeof i)a="px";else{const f=i.match(/^[+-]?[\d\.]+([a-z]*)$/);f&&0==f[1].length&&r.push(function p_(n,e){return new c.vHH(3005,jt)}())}return u+a}}const dw=(()=>function k_(n){const e={};return n.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function gp(n,e,t,i,r,a,u,f,g,v,D,I,R){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:a,toState:i,toStyles:u,timelines:f,queriedElements:g,preStyleProps:v,postStyleProps:D,totalTime:I,errors:R}}const R_={};class O_{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return function hw(n,e,t,i,r){return n.some(a=>a(e,t,i,r))}(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){const r=this._stateStyles["*"],a=this._stateStyles[e],u=r?r.buildStyles(t,i):{};return a?a.buildStyles(t,i):u}build(e,t,i,r,a,u,f,g,v,D){const I=[],R=this.ast.options&&this.ast.options.params||R_,H=this.buildStyles(i,f&&f.params||R_,I),J=g&&g.params||R_,be=this.buildStyles(r,J,I),qe=new Set,Ke=new Map,Je=new Map,et="void"===r,Mt={params:Object.assign(Object.assign({},R),J)},Ft=D?[]:M_(e,t,this.ast.animation,a,u,H,be,Mt,v,I);let tn=0;if(Ft.forEach(Ql=>{tn=Math.max(Ql.duration+Ql.delay,tn)}),I.length)return gp(t,this._triggerName,i,r,et,H,be,[],[],Ke,Je,tn,I);Ft.forEach(Ql=>{const Jl=Ql.element,sj=Ar(Ke,Jl,{});Ql.preStyleProps.forEach(nf=>sj[nf]=!0);const Db=Ar(Je,Jl,{});Ql.postStyleProps.forEach(nf=>Db[nf]=!0),Jl!==t&&qe.add(Jl)});const rr=ap(qe.values());return gp(t,this._triggerName,i,r,et,H,be,Ft,rr,Ke,Je,tn)}}class P_{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i={},r=Dl(this.defaultParams);return Object.keys(e).forEach(a=>{const u=e[a];null!=u&&(r[a]=u)}),this.styles.styles.forEach(a=>{if("string"!=typeof a){const u=a;Object.keys(u).forEach(f=>{let g=u[f];g.length>1&&(g=Nd(g,r,t));const v=this.normalizer.normalizePropertyName(f,t);g=this.normalizer.normalizeStyleValue(f,v,g,t),i[v]=g})}}),i}}class KA{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states={},t.states.forEach(r=>{this.states[r.name]=new P_(r.style,r.options&&r.options.params||{},i)}),F_(this.states,"true","1"),F_(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new O_(e,r,this.states))}),this.fallbackTransition=function pw(n,e,t){return new O_(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(u,f)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(u=>u.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function F_(n,e,t){n.hasOwnProperty(e)?n.hasOwnProperty(t)||(n[t]=n[e]):n.hasOwnProperty(t)&&(n[e]=n[t])}const mw=new hp;class N_{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations={},this._playersById={},this.players=[]}register(e,t){const i=[],a=A_(this._driver,t,i,[]);if(i.length)throw function H0(n){return new c.vHH(3503,jt)}();this._animations[e]=a}_buildPlayer(e,t,i){const r=e.element,a=W0(0,this._normalizer,0,e.keyframes,t,i);return this._driver.animate(r,a,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const r=[],a=this._animations[e];let u;const f=new Map;if(a?(u=M_(this._driver,t,a,Ia,Ro,{},{},i,mw,r),u.forEach(D=>{const I=Ar(f,D.element,{});D.postStyleProps.forEach(R=>I[R]=null)})):(r.push(function M1(){return new c.vHH(3300,jt)}()),u=[]),r.length)throw function vs(n){return new c.vHH(3504,jt)}();f.forEach((D,I)=>{Object.keys(D).forEach(R=>{D[R]=this._driver.computeStyle(I,R,To)})});const v=Qs(u.map(D=>{const I=f.get(D.element);return this._buildPlayer(D,{},I)}));return this._playersById[e]=v,v.onDestroy(()=>this.destroy(e)),this.players.push(v),v}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw function x1(n){return new c.vHH(3301,jt)}();return t}listen(e,t,i,r){const a=b_(t,"","","");return y_(this._getPlayer(e),i,a,r),()=>{}}command(e,t,i,r){if("register"==i)return void this.register(e,r[0]);if("create"==i)return void this.create(e,t,r[0]||{});const a=this._getPlayer(e);switch(i){case"play":a.play();break;case"pause":a.pause();break;case"reset":a.reset();break;case"restart":a.restart();break;case"finish":a.finish();break;case"init":a.init();break;case"setPosition":a.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const L_="ng-animate-queued",_p="ng-animate-disabled",bw=[],V_={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},L1={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},qr="__ng_removed";class B_{constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function Cw(n){return null!=n?n:null}(i?e.value:e),i){const a=Dl(e);delete a.value,this.options=a}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(r=>{null==i[r]&&(i[r]=t[r])})}}}const Wc="void",U_=new B_(Wc);class ti{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Wr(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.hasOwnProperty(t))throw function k1(n,e){return new c.vHH(3302,jt)}();if(null==i||0==i.length)throw function $0(n){return new c.vHH(3303,jt)}();if(!function Ew(n){return"start"==n||"done"==n}(i))throw function z0(n,e){return new c.vHH(3400,jt)}();const a=Ar(this._elementListeners,e,[]),u={name:t,phase:i,callback:r};a.push(u);const f=Ar(this._engine.statesByElement,e,{});return f.hasOwnProperty(t)||(Wr(e,Oo),Wr(e,Oo+"-"+t),f[t]=U_),()=>{this._engine.afterFlush(()=>{const g=a.indexOf(u);g>=0&&a.splice(g,1),this._triggers[t]||delete f[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw function G0(n){return new c.vHH(3401,jt)}();return t}trigger(e,t,i,r=!0){const a=this._getTrigger(t),u=new j_(this.id,t,e);let f=this._engine.statesByElement.get(e);f||(Wr(e,Oo),Wr(e,Oo+"-"+t),this._engine.statesByElement.set(e,f={}));let g=f[t];const v=new B_(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&g&&v.absorbOptions(g.options),f[t]=v,g||(g=U_),v.value!==Wc&&g.value===v.value){if(!function $_(n,e){const t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){const a=t[r];if(!e.hasOwnProperty(a)||n[a]!==e[a])return!1}return!0}(g.params,v.params)){const J=[],be=a.matchStyles(g.value,g.params,J),qe=a.matchStyles(v.value,v.params,J);J.length?this._engine.reportError(J):this._engine.afterFlush(()=>{Il(e,be),Cs(e,qe)})}return}const R=Ar(this._engine.playersByElement,e,[]);R.forEach(J=>{J.namespaceId==this.id&&J.triggerName==t&&J.queued&&J.destroy()});let V=a.matchTransition(g.value,v.value,e,v.params),H=!1;if(!V){if(!r)return;V=a.fallbackTransition,H=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:V,fromState:g,toState:v,player:u,isFallbackTransition:H}),H||(Wr(e,L_),u.onStart(()=>{Tl(e,L_)})),u.onDone(()=>{let J=this.players.indexOf(u);J>=0&&this.players.splice(J,1);const be=this._engine.playersByElement.get(e);if(be){let qe=be.indexOf(u);qe>=0&&be.splice(qe,1)}}),this.players.push(u),R.push(u),u}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,i)=>{delete t[e]}),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,Po,!0);i.forEach(r=>{if(r[qr])return;const a=this._engine.fetchNamespacesByElement(r);a.size?a.forEach(u=>u.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){const a=this._engine.statesByElement.get(e),u=new Map;if(a){const f=[];if(Object.keys(a).forEach(g=>{if(u.set(g,a[g].value),this._triggers[g]){const v=this.trigger(e,g,Wc,r);v&&f.push(v)}}),f.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,u),i&&Qs(f).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const r=new Set;t.forEach(a=>{const u=a.name;if(r.has(u))return;r.add(u);const g=this._triggers[u].fallbackTransition,v=i[u]||U_,D=new B_(Wc),I=new j_(this.id,u,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:u,transition:g,fromState:v,toState:D,player:I,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){const a=i.players.length?i.playersByQueriedElement.get(e):[];if(a&&a.length)r=!0;else{let u=e;for(;u=u.parentNode;)if(i.statesByElement.get(u)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{const a=e[qr];(!a||a===V_)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){Wr(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const a=i.element,u=this._elementListeners.get(a);u&&u.forEach(f=>{if(f.name==i.triggerName){const g=b_(a,i.triggerName,i.fromState.value,i.toState.value);g._data=e,y_(i.player,f.phase,g,f.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{const a=i.transition.ast.depCount,u=r.transition.ast.depCount;return 0==a||0==u?a-u:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(i=>i.element===e)||t,t}}class ww{constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,a)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new ti(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList,r=this.namespacesByHostElement,a=i.length-1;if(a>=0){let u=!1;if(void 0!==this.driver.getParentElement){let f=this.driver.getParentElement(t);for(;f;){const g=r.get(f);if(g){const v=i.indexOf(g);i.splice(v+1,0,e),u=!0;break}f=this.driver.getParentElement(f)}}else for(let f=a;f>=0;f--)if(this.driver.containsElement(i[f].hostElement,t)){i.splice(f+1,0,e),u=!0;break}u||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){if(!e)return;const i=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[e];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i){const r=Object.keys(i);for(let a=0;a<r.length;a++){const u=i[r[a]].namespaceId;if(u){const f=this._fetchNamespace(u);f&&t.add(f)}}}return t}trigger(e,t,i,r){if(yp(t)){const a=this._fetchNamespace(e);if(a)return a.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!yp(t))return;const a=t[qr];if(a&&a.setForRemoval){a.setForRemoval=!1,a.setForMove=!0;const u=this.collectedLeaveElements.indexOf(t);u>=0&&this.collectedLeaveElements.splice(u,1)}if(e){const u=this._fetchNamespace(e);u&&u.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Wr(e,_p)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Tl(e,_p))}removeNode(e,t,i,r){if(yp(t)){const a=e?this._fetchNamespace(e):null;if(a?a.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r),i){const u=this.namespacesByHostElement.get(t);u&&u.id!==e&&u.removeNode(t,r)}}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,i,r,a){this.collectedLeaveElements.push(t),t[qr]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:a}}listen(e,t,i,r,a){return yp(t)?this._fetchNamespace(e).listen(t,i,r,a):()=>{}}_buildInstruction(e,t,i,r,a){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,a)}destroyInnerAnimations(e){let t=this.driver.query(e,Po,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,sp,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Qs(this.players).onDone(()=>e());e()})}processLeaveNode(e){var t;const i=e[qr];if(i&&i.setForRemoval){if(e[qr]=V_,i.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(i.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,i.setForRemoval)}(null===(t=e.classList)||void 0===t?void 0:t.contains(_p))&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Wr(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?Qs(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw function LA(n){return new c.vHH(3402,jt)}()}_flushAnimations(e,t){const i=new hp,r=[],a=new Map,u=[],f=new Map,g=new Map,v=new Map,D=new Set;this.disabledNodes.forEach(nt=>{D.add(nt);const gt=this.driver.query(nt,".ng-animate-queued",!0);for(let Ct=0;Ct<gt.length;Ct++)D.add(gt[Ct])});const I=this.bodyNode,R=Array.from(this.statesByElement.keys()),V=Dw(R,this.collectedEnterElements),H=new Map;let J=0;V.forEach((nt,gt)=>{const Ct=Ia+J++;H.set(gt,Ct),nt.forEach(Jt=>Wr(Jt,Ct))});const be=[],qe=new Set,Ke=new Set;for(let nt=0;nt<this.collectedLeaveElements.length;nt++){const gt=this.collectedLeaveElements[nt],Ct=gt[qr];Ct&&Ct.setForRemoval&&(be.push(gt),qe.add(gt),Ct.hasAnimation?this.driver.query(gt,".ng-star-inserted",!0).forEach(Jt=>qe.add(Jt)):Ke.add(gt))}const Je=new Map,et=Dw(R,Array.from(qe));et.forEach((nt,gt)=>{const Ct=Ro+J++;Je.set(gt,Ct),nt.forEach(Jt=>Wr(Jt,Ct))}),e.push(()=>{V.forEach((nt,gt)=>{const Ct=H.get(gt);nt.forEach(Jt=>Tl(Jt,Ct))}),et.forEach((nt,gt)=>{const Ct=Je.get(gt);nt.forEach(Jt=>Tl(Jt,Ct))}),be.forEach(nt=>{this.processLeaveNode(nt)})});const Mt=[],Ft=[];for(let nt=this._namespaceList.length-1;nt>=0;nt--)this._namespaceList[nt].drainQueuedTransitions(t).forEach(Ct=>{const Jt=Ct.player,Ui=Ct.element;if(Mt.push(Jt),this.collectedEnterElements.length){const Lr=Ui[qr];if(Lr&&Lr.setForMove){if(Lr.previousTriggersValues&&Lr.previousTriggersValues.has(Ct.triggerName)){const rf=Lr.previousTriggersValues.get(Ct.triggerName),Mu=this.statesByElement.get(Ct.element);Mu&&Mu[Ct.triggerName]&&(Mu[Ct.triggerName].value=rf)}return void Jt.destroy()}}const La=!I||!this.driver.containsElement(I,Ui),Ms=Je.get(Ui),Tu=H.get(Ui),Un=this._buildInstruction(Ct,i,Tu,Ms,La);if(Un.errors&&Un.errors.length)return void Ft.push(Un);if(La)return Jt.onStart(()=>Il(Ui,Un.fromStyles)),Jt.onDestroy(()=>Cs(Ui,Un.toStyles)),void r.push(Jt);if(Ct.isFallbackTransition)return Jt.onStart(()=>Il(Ui,Un.fromStyles)),Jt.onDestroy(()=>Cs(Ui,Un.toStyles)),void r.push(Jt);const lj=[];Un.timelines.forEach(Lr=>{Lr.stretchStartingKeyframe=!0,this.disabledNodes.has(Lr.element)||lj.push(Lr)}),Un.timelines=lj,i.append(Ui,Un.timelines),u.push({instruction:Un,player:Jt,element:Ui}),Un.queriedElements.forEach(Lr=>Ar(f,Lr,[]).push(Jt)),Un.preStyleProps.forEach((Lr,rf)=>{const Mu=Object.keys(Lr);if(Mu.length){let sf=g.get(rf);sf||g.set(rf,sf=new Set),Mu.forEach(PO=>sf.add(PO))}}),Un.postStyleProps.forEach((Lr,rf)=>{const Mu=Object.keys(Lr);let sf=v.get(rf);sf||v.set(rf,sf=new Set),Mu.forEach(PO=>sf.add(PO))})});if(Ft.length){const nt=[];Ft.forEach(gt=>{nt.push(function q0(n,e){return new c.vHH(3505,jt)}())}),Mt.forEach(gt=>gt.destroy()),this.reportError(nt)}const tn=new Map,rr=new Map;u.forEach(nt=>{const gt=nt.element;i.has(gt)&&(rr.set(gt,gt),this._beforeAnimationBuild(nt.player.namespaceId,nt.instruction,tn))}),r.forEach(nt=>{const gt=nt.element;this._getPreviousPlayers(gt,!1,nt.namespaceId,nt.triggerName,null).forEach(Jt=>{Ar(tn,gt,[]).push(Jt),Jt.destroy()})});const Ql=be.filter(nt=>vp(nt,g,v)),Jl=new Map;Sl(Jl,this.driver,Ke,v,To).forEach(nt=>{vp(nt,g,v)&&Ql.push(nt)});const Db=new Map;V.forEach((nt,gt)=>{Sl(Db,this.driver,new Set(nt),g,"!")}),Ql.forEach(nt=>{const gt=Jl.get(nt),Ct=Db.get(nt);Jl.set(nt,Object.assign(Object.assign({},gt),Ct))});const nf=[],oj=[],aj={};u.forEach(nt=>{const{element:gt,player:Ct,instruction:Jt}=nt;if(i.has(gt)){if(D.has(gt))return Ct.onDestroy(()=>Cs(gt,Jt.toStyles)),Ct.disabled=!0,Ct.overrideTotalTime(Jt.totalTime),void r.push(Ct);let Ui=aj;if(rr.size>1){let Ms=gt;const Tu=[];for(;Ms=Ms.parentNode;){const Un=rr.get(Ms);if(Un){Ui=Un;break}Tu.push(Ms)}Tu.forEach(Un=>rr.set(Un,Ui))}const La=this._buildAnimation(Ct.namespaceId,Jt,tn,a,Db,Jl);if(Ct.setRealPlayer(La),Ui===aj)nf.push(Ct);else{const Ms=this.playersByElement.get(Ui);Ms&&Ms.length&&(Ct.parentPlayer=Qs(Ms)),r.push(Ct)}}else Il(gt,Jt.fromStyles),Ct.onDestroy(()=>Cs(gt,Jt.toStyles)),oj.push(Ct),D.has(gt)&&r.push(Ct)}),oj.forEach(nt=>{const gt=a.get(nt.element);if(gt&&gt.length){const Ct=Qs(gt);nt.setRealPlayer(Ct)}}),r.forEach(nt=>{nt.parentPlayer?nt.syncPlayerEvents(nt.parentPlayer):nt.destroy()});for(let nt=0;nt<be.length;nt++){const gt=be[nt],Ct=gt[qr];if(Tl(gt,Ro),Ct&&Ct.hasAnimation)continue;let Jt=[];if(f.size){let La=f.get(gt);La&&La.length&&Jt.push(...La);let Ms=this.driver.query(gt,sp,!0);for(let Tu=0;Tu<Ms.length;Tu++){let Un=f.get(Ms[Tu]);Un&&Un.length&&Jt.push(...Un)}}const Ui=Jt.filter(La=>!La.destroyed);Ui.length?JA(this,gt,Ui):this.processLeaveNode(gt)}return be.length=0,nf.forEach(nt=>{this.players.push(nt),nt.onDone(()=>{nt.destroy();const gt=this.players.indexOf(nt);this.players.splice(gt,1)}),nt.play()}),nf}elementContainsData(e,t){let i=!1;const r=t[qr];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(t)&&(i=!0),this.playersByQueriedElement.has(t)&&(i=!0),this.statesByElement.has(t)&&(i=!0),this._fetchNamespace(e).elementContainsData(t)||i}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,a){let u=[];if(t){const f=this.playersByQueriedElement.get(e);f&&(u=f)}else{const f=this.playersByElement.get(e);if(f){const g=!a||a==Wc;f.forEach(v=>{v.queued||!g&&v.triggerName!=r||u.push(v)})}}return(i||r)&&(u=u.filter(f=>!(i&&i!=f.namespaceId||r&&r!=f.triggerName))),u}_beforeAnimationBuild(e,t,i){const a=t.element,u=t.isRemovalTransition?void 0:e,f=t.isRemovalTransition?void 0:t.triggerName;for(const g of t.timelines){const v=g.element,D=v!==a,I=Ar(i,v,[]);this._getPreviousPlayers(v,D,u,f,t.toState).forEach(V=>{const H=V.getRealPlayer();H.beforeDestroy&&H.beforeDestroy(),V.destroy(),I.push(V)})}Il(a,t.fromStyles)}_buildAnimation(e,t,i,r,a,u){const f=t.triggerName,g=t.element,v=[],D=new Set,I=new Set,R=t.timelines.map(H=>{const J=H.element;D.add(J);const be=J[qr];if(be&&be.removedBeforeQueried)return new Uc(H.duration,H.delay);const qe=J!==g,Ke=function Iw(n){const e=[];return XA(n,e),e}((i.get(J)||bw).map(tn=>tn.getRealPlayer())).filter(tn=>!!tn.element&&tn.element===J),Je=a.get(J),et=u.get(J),Mt=W0(0,this._normalizer,0,H.keyframes,Je,et),Ft=this._buildPlayer(H,Mt,Ke);if(H.subTimeline&&r&&I.add(J),qe){const tn=new j_(e,f,J);tn.setRealPlayer(Ft),v.push(tn)}return Ft});v.forEach(H=>{Ar(this.playersByQueriedElement,H.element,[]).push(H),H.onDone(()=>function QA(n,e,t){let i;if(n instanceof Map){if(i=n.get(e),i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&n.delete(e)}}else if(i=n[e],i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&delete n[e]}return i}(this.playersByQueriedElement,H.element,H))}),D.forEach(H=>Wr(H,El));const V=Qs(R);return V.onDestroy(()=>{D.forEach(H=>Tl(H,El)),Cs(g,t.toStyles)}),I.forEach(H=>{Ar(r,H,[]).push(V)}),V}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new Uc(e.duration,e.delay)}}class j_{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new Uc,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(i=>y_(e,t,void 0,i))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Ar(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function yp(n){return n&&1===n.nodeType}function H_(n,e){const t=n.style.display;return n.style.display=null!=e?e:"none",t}function Sl(n,e,t,i,r){const a=[];t.forEach(g=>a.push(H_(g)));const u=[];i.forEach((g,v)=>{const D={};g.forEach(I=>{const R=D[I]=e.computeStyle(v,I,r);(!R||0==R.length)&&(v[qr]=L1,u.push(v))}),n.set(v,D)});let f=0;return t.forEach(g=>H_(g,a[f++])),u}function Dw(n,e){const t=new Map;if(n.forEach(f=>t.set(f,[])),0==e.length)return t;const r=new Set(e),a=new Map;function u(f){if(!f)return 1;let g=a.get(f);if(g)return g;const v=f.parentNode;return g=t.has(v)?v:r.has(v)?1:u(v),a.set(f,g),g}return e.forEach(f=>{const g=u(f);1!==g&&t.get(g).push(f)}),t}function Wr(n,e){var t;null===(t=n.classList)||void 0===t||t.add(e)}function Tl(n,e){var t;null===(t=n.classList)||void 0===t||t.remove(e)}function JA(n,e,t){Qs(t).onDone(()=>n.processLeaveNode(e))}function XA(n,e){for(let t=0;t<n.length;t++){const i=n[t];i instanceof yl?XA(i.players,e):e.push(i)}}function vp(n,e,t){const i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(a=>r.add(a)):e.set(n,i),t.delete(n),!0}class Sr{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,a)=>{},this._transitionEngine=new ww(e,t,i),this._timelineEngine=new N_(e,t,i),this._transitionEngine.onRemovalComplete=(r,a)=>this.onRemovalComplete(r,a)}registerTrigger(e,t,i,r,a){const u=e+"-"+r;let f=this._triggerCache[u];if(!f){const g=[],D=A_(this._driver,a,g,[]);if(g.length)throw function NA(n,e){return new c.vHH(3404,jt)}();f=function fw(n,e,t){return new KA(n,e,t)}(r,D,this._normalizer),this._triggerCache[u]=f}this._transitionEngine.registerTrigger(t,r,f)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i,r){this._transitionEngine.removeNode(e,t,r||!1,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if("@"==i.charAt(0)){const[a,u]=Y0(i);this._timelineEngine.command(a,t,u,r)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,a){if("@"==i.charAt(0)){const[u,f]=Y0(i);return this._timelineEngine.listen(u,t,f,a)}return this._transitionEngine.listen(e,t,i,r,a)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let tS=(()=>{class n{constructor(t,i,r){this._element=t,this._startStyles=i,this._endStyles=r,this._state=0;let a=n.initialStylesByElement.get(t);a||n.initialStylesByElement.set(t,a={}),this._initialStyles=a}start(){this._state<1&&(this._startStyles&&Cs(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Cs(this._element,this._initialStyles),this._endStyles&&(Cs(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Il(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Il(this._element,this._endStyles),this._endStyles=null),Cs(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function Yr(n){let e=null;const t=Object.keys(n);for(let i=0;i<t.length;i++){const r=t[i];Es(r)&&(e=e||{},e[r]=n[r])}return e}function Es(n){return"display"===n||"position"===n}class Zr{constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,i){return e.animate(t,i)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};if(this.hasStarted()){const t=this._finalKeyframe;Object.keys(t).forEach(i=>{"offset"!=i&&(e[i]=this._finished?t[i]:lp(this.element,i))})}this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class Aw{validateStyleProperty(e){return Hc(e)}matchesElement(e,t){return!1}containsElement(e,t){return Ea(e,t)}getParentElement(e){return wl(e)}query(e,t,i){return Pd(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}animate(e,t,i,r,a,u=[]){const g={duration:i,delay:r,fill:0==r?"both":"forwards"};a&&(g.easing=a);const v={},D=u.filter(R=>R instanceof Zr);(function O1(n,e){return 0===n||0===e})(i,r)&&D.forEach(R=>{let V=R.currentSnapshot;Object.keys(V).forEach(H=>v[H]=V[H])}),t=function UA(n,e,t){const i=Object.keys(t);if(i.length&&e.length){let a=e[0],u=[];if(i.forEach(f=>{a.hasOwnProperty(f)||u.push(f),a[f]=t[f]}),u.length)for(var r=1;r<e.length;r++){let f=e[r];u.forEach(function(g){f[g]=lp(n,g)})}}return e}(e,t=t.map(R=>Fo(R,!1)),v);const I=function eS(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=Yr(e[0]),e.length>1&&(i=Yr(e[e.length-1]))):e&&(t=Yr(e)),t||i?new tS(n,t,i):null}(e,t);return new Zr(e,t,g,I)}}let Sw=(()=>{class n extends Od{constructor(t,i){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(i.body,{id:"0",encapsulation:c.ifc.None,styles:[],data:{animation:[]}})}build(t){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(t)?ep(t):t;return Tw(this._renderer,null,i,"register",[r]),new nS(i,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.FYo),c.LFG(de))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class nS extends class DA{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new iS(this._id,e,t||{},this._renderer)}}class iS{constructor(e,t,i,r){this.id=e,this.element=t,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return Tw(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}function Tw(n,e,t,i,r){return n.setProperty(e,`@@${t}:${i}`,r)}const wp="@.disabled";let zd=(()=>{class n{constructor(t,i,r){this.delegate=t,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(a,u)=>{const f=null==u?void 0:u.parentNode(a);f&&u.removeChild(f,a)}}createRenderer(t,i){const a=this.delegate.createRenderer(t,i);if(!(t&&i&&i.data&&i.data.animation)){let D=this._rendererCache.get(a);return D||(D=new Mw("",a,this.engine),this._rendererCache.set(a,D)),D}const u=i.id,f=i.id+"-"+this._currentId;this._currentId++,this.engine.register(f,t);const g=D=>{Array.isArray(D)?D.forEach(g):this.engine.registerTrigger(u,f,t,D.name,D)};return i.data.animation.forEach(g),new xw(this,f,a,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,i,r){t>=0&&t<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(a=>{const[u,f]=a;u(f)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.FYo),c.LFG(Sr),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class Mw{constructor(e,t,i){this.namespaceId=e,this.delegate=t,this.engine=i,this.destroyNode=this.delegate.destroyNode?r=>t.destroyNode(r):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate,i)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==wp?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class xw extends Mw{constructor(e,t,i,r){super(t,i,r),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==wp?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.substr(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const r=function rS(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let a=t.substr(1),u="";return"@"!=a.charAt(0)&&([a,u]=function kw(n){const e=n.indexOf(".");return[n.substring(0,e),n.substr(e+1)]}(a)),this.engine.listen(this.namespaceId,r,a,u,f=>{this.factory.scheduleListenerCallback(f._data||-1,i,f)})}return this.delegate.listen(e,t,i)}}let Rw=(()=>{class n extends Sr{constructor(t,i,r){super(t.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(de),c.LFG(Da),c.LFG(mp))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Sa=new c.OlP("AnimationModuleType"),z_=[{provide:Od,useClass:Sw},{provide:mp,useFactory:function Cp(){return new uw}},{provide:Sr,useClass:Rw},{provide:c.FYo,useFactory:function sS(n,e,t){return new zd(n,e,t)},deps:[fn,Sr,c.R0b]}],Ep=[{provide:Da,useFactory:()=>new Aw},{provide:Sa,useValue:"BrowserAnimations"},...z_],Dp=[{provide:Da,useClass:rp},{provide:Sa,useValue:"NoopAnimations"},...z_];let Ow=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?Dp:Ep}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:Ep,imports:[Jo]}),n})();function Pw(n,e){if(1&n&&c._UZ(0,"mat-pseudo-checkbox",4),2&n){const t=c.oxw();c.Q6J("state",t.selected?"checked":"unchecked")("disabled",t.disabled)}}function Fw(n,e){if(1&n&&(c.TgZ(0,"span",5),c._uU(1),c.qZA()),2&n){const t=c.oxw();c.xp6(1),c.hij("(",t.group.label,")")}}const Nw=["*"],dS=new c.OlP("mat-sanity-checks",{providedIn:"root",factory:function uS(){return!0}});let kn=(()=>{class n{constructor(t,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!$g()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(h_),c.LFG(dS,8),c.LFG(de))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Ed],Ed]}),n})();function q_(n){return class extends n{constructor(...e){super(...e),this._disabled=!1}get disabled(){return this._disabled}set disabled(e){this._disabled=It(e)}}}function W_(n,e){return class extends n{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const i=t||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}}}function Yc(n){return class extends n{constructor(...e){super(...e),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=It(e)}}}function hS(n,e=0){return class extends n{constructor(...t){super(...t),this._tabIndex=e,this.defaultTabIndex=e}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(t){this._tabIndex=null!=t?pl(t):this.defaultTabIndex}}}function Lw(n){return class extends n{constructor(...e){super(...e),this.stateChanges=new yt.x,this.errorState=!1}updateErrorState(){const e=this.errorState,a=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);a!==e&&(this.errorState=a,this.stateChanges.next())}}}const fS=new c.OlP("MAT_DATE_LOCALE",{providedIn:"root",factory:function pS(){return(0,c.f3M)(c.soG)}});class vi{constructor(){this._localeChanges=new yt.x,this.localeChanges=this._localeChanges}getValidDateOrNull(e){return this.isDateInstance(e)&&this.isValid(e)?e:null}deserialize(e){return null==e||this.isDateInstance(e)&&this.isValid(e)?e:this.invalid()}setLocale(e){this.locale=e,this._localeChanges.next()}compareDate(e,t){return this.getYear(e)-this.getYear(t)||this.getMonth(e)-this.getMonth(t)||this.getDate(e)-this.getDate(t)}sameDate(e,t){if(e&&t){let i=this.isValid(e),r=this.isValid(t);return i&&r?!this.compareDate(e,t):i==r}return e==t}clampDate(e,t,i){return t&&this.compareDate(e,t)<0?t:i&&this.compareDate(e,i)>0?i:e}}const Ml=new c.OlP("mat-date-formats"),Vw=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function Ip(n,e){const t=Array(n);for(let i=0;i<n;i++)t[i]=e(i);return t}let Bw=(()=>{class n extends vi{constructor(t,i){super(),this.useUtcForDisplay=!1,super.setLocale(t)}getYear(t){return t.getFullYear()}getMonth(t){return t.getMonth()}getDate(t){return t.getDate()}getDayOfWeek(t){return t.getDay()}getMonthNames(t){const i=new Intl.DateTimeFormat(this.locale,{month:t,timeZone:"utc"});return Ip(12,r=>this._format(i,new Date(2017,r,1)))}getDateNames(){const t=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return Ip(31,i=>this._format(t,new Date(2017,0,i+1)))}getDayOfWeekNames(t){const i=new Intl.DateTimeFormat(this.locale,{weekday:t,timeZone:"utc"});return Ip(7,r=>this._format(i,new Date(2017,0,r+1)))}getYearName(t){const i=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._format(i,t)}getFirstDayOfWeek(){return 0}getNumDaysInMonth(t){return this.getDate(this._createDateWithOverflow(this.getYear(t),this.getMonth(t)+1,0))}clone(t){return new Date(t.getTime())}createDate(t,i,r){let a=this._createDateWithOverflow(t,i,r);return a.getMonth(),a}today(){return new Date}parse(t){return"number"==typeof t?new Date(t):t?new Date(Date.parse(t)):null}format(t,i){if(!this.isValid(t))throw Error("NativeDateAdapter: Cannot format invalid date.");const r=new Intl.DateTimeFormat(this.locale,Object.assign(Object.assign({},i),{timeZone:"utc"}));return this._format(r,t)}addCalendarYears(t,i){return this.addCalendarMonths(t,12*i)}addCalendarMonths(t,i){let r=this._createDateWithOverflow(this.getYear(t),this.getMonth(t)+i,this.getDate(t));return this.getMonth(r)!=((this.getMonth(t)+i)%12+12)%12&&(r=this._createDateWithOverflow(this.getYear(r),this.getMonth(r),0)),r}addCalendarDays(t,i){return this._createDateWithOverflow(this.getYear(t),this.getMonth(t),this.getDate(t)+i)}toIso8601(t){return[t.getUTCFullYear(),this._2digit(t.getUTCMonth()+1),this._2digit(t.getUTCDate())].join("-")}deserialize(t){if("string"==typeof t){if(!t)return null;if(Vw.test(t)){let i=new Date(t);if(this.isValid(i))return i}}return super.deserialize(t)}isDateInstance(t){return t instanceof Date}isValid(t){return!isNaN(t.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(t,i,r){const a=new Date;return a.setFullYear(t,i,r),a.setHours(0,0,0,0),a}_2digit(t){return("00"+t).slice(-2)}_format(t,i){const r=new Date;return r.setUTCFullYear(i.getFullYear(),i.getMonth(),i.getDate()),r.setUTCHours(i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()),t.format(r)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(fS,8),c.LFG(ur))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Uw={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};let jw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[{provide:vi,useClass:Bw}]}),n})(),Hw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[{provide:Ml,useValue:Uw}],imports:[[jw]]}),n})(),Ap=(()=>{class n{isErrorState(t,i){return!!(t&&t.invalid&&(t.touched||i&&i.submitted))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Y_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["","mat-line",""],["","matLine",""]],hostAttrs:[1,"mat-line"]}),n})();function xl(n,e,t){n.nativeElement.classList.toggle(e,t)}let Js=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[kn],kn]}),n})();class gS{constructor(e,t,i){this._renderer=e,this.element=t,this.config=i,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const $w={enterDuration:225,exitDuration:150},zw=Pc({passive:!0}),Tp=["mousedown","touchstart"],_S=["mouseup","mouseleave","touchend","touchcancel"];class Gw{constructor(e,t,i,r){this._target=e,this._ngZone=t,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=qs(i))}fadeInRipple(e,t,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),a=Object.assign(Object.assign({},$w),i.animation);i.centered&&(e=r.left+r.width/2,t=r.top+r.height/2);const u=i.radius||function $1(n,e,t){const i=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),r=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(i*i+r*r)}(e,t,r),f=e-r.left,g=t-r.top,v=a.enterDuration,D=document.createElement("div");D.classList.add("mat-ripple-element"),D.style.left=f-u+"px",D.style.top=g-u+"px",D.style.height=2*u+"px",D.style.width=2*u+"px",null!=i.color&&(D.style.backgroundColor=i.color),D.style.transitionDuration=`${v}ms`,this._containerElement.appendChild(D),function qw(n){window.getComputedStyle(n).getPropertyValue("opacity")}(D),D.style.transform="scale(1)";const I=new gS(this,D,i);return I.state=0,this._activeRipples.add(I),i.persistent||(this._mostRecentTransientRipple=I),this._runTimeoutOutsideZone(()=>{const R=I===this._mostRecentTransientRipple;I.state=1,!i.persistent&&(!R||!this._isPointerDown)&&I.fadeOut()},v),I}fadeOutRipple(e){const t=this._activeRipples.delete(e);if(e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!t)return;const i=e.element,r=Object.assign(Object.assign({},$w),e.config.animation);i.style.transitionDuration=`${r.exitDuration}ms`,i.style.opacity="0",e.state=2,this._runTimeoutOutsideZone(()=>{e.state=3,i.remove()},r.exitDuration)}fadeOutAll(){this._activeRipples.forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=qs(e);!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,this._registerEvents(Tp))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(_S),this._pointerUpEventsRegistered=!0)}_onMousedown(e){const t=gA(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!a_(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let i=0;i<t.length;i++)this.fadeInRipple(t[i].clientX,t[i].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_runTimeoutOutsideZone(e,t=0){this._ngZone.runOutsideAngular(()=>setTimeout(e,t))}_registerEvents(e){this._ngZone.runOutsideAngular(()=>{e.forEach(t=>{this._triggerElement.addEventListener(t,this,zw)})})}_removeTriggerEvents(){this._triggerElement&&(Tp.forEach(e=>{this._triggerElement.removeEventListener(e,this,zw)}),this._pointerUpEventsRegistered&&_S.forEach(e=>{this._triggerElement.removeEventListener(e,this,zw)}))}}const pt=new c.OlP("mat-ripple-global-options");let Gd=(()=>{class n{constructor(t,i,r,a,u){this._elementRef=t,this._animationMode=u,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=a||{},this._rippleRenderer=new Gw(this,i,t,r)}get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,i=0,r){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,i,Object.assign(Object.assign({},this.rippleConfig),r)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),t))}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.R0b),c.Y36(ur),c.Y36(pt,8),c.Y36(Sa,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,i){2&t&&c.ekj("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),Z_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[kn],kn]}),n})(),Ww=(()=>{class n{constructor(t){this._animationMode=t,this.state="unchecked",this.disabled=!1}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Sa,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(t,i){2&t&&c.ekj("mat-pseudo-checkbox-indeterminate","indeterminate"===i.state)("mat-pseudo-checkbox-checked","checked"===i.state)("mat-pseudo-checkbox-disabled",i.disabled)("_mat-animation-noopable","NoopAnimations"===i._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(t,i){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:transparent}._mat-animation-noopable.mat-pseudo-checkbox{transition:none;animation:none}._mat-animation-noopable.mat-pseudo-checkbox::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}\n'],encapsulation:2,changeDetection:0}),n})(),Kc=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[kn]]}),n})();const Yw=new c.OlP("MAT_OPTION_PARENT_COMPONENT"),yS=new c.OlP("MatOptgroup");let bS=0;class wS{constructor(e,t=!1){this.source=e,this.isUserInput=t}}let Zw=(()=>{class n{constructor(t,i,r,a){this._element=t,this._changeDetectorRef=i,this._parent=r,this.group=a,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+bS++,this.onSelectionChange=new c.vpe,this._stateChanges=new yt.x}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(t){this._disabled=It(t)}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(t,i){const r=this._getHostElement();"function"==typeof r.focus&&r.focus(i)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(t){(13===t.keyCode||32===t.keyCode)&&!Gr(t)&&(this._selectViaInteraction(),t.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const t=this.viewValue;t!==this._mostRecentViewValue&&(this._mostRecentViewValue=t,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(t=!1){this.onSelectionChange.emit(new wS(this,t))}}return n.\u0275fac=function(t){c.$Z()},n.\u0275dir=c.lG2({type:n,inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}}),n})(),Mp=(()=>{class n extends Zw{constructor(t,i,r,a){super(t,i,r,a)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.sBO),c.Y36(Yw,8),c.Y36(yS,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(t,i){1&t&&c.NdJ("click",function(){return i._selectViaInteraction()})("keydown",function(a){return i._handleKeydown(a)}),2&t&&(c.Ikx("id",i.id),c.uIk("tabindex",i._getTabIndex())("aria-selected",i._getAriaSelected())("aria-disabled",i.disabled.toString()),c.ekj("mat-selected",i.selected)("mat-option-multiple",i.multiple)("mat-active",i.active)("mat-option-disabled",i.disabled))},exportAs:["matOption"],features:[c.qOj],ngContentSelectors:Nw,decls:5,vars:4,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["class","cdk-visually-hidden",4,"ngIf"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"],[1,"cdk-visually-hidden"]],template:function(t,i){1&t&&(c.F$t(),c.YNc(0,Pw,1,2,"mat-pseudo-checkbox",0),c.TgZ(1,"span",1),c.Hsn(2),c.qZA(),c.YNc(3,Fw,2,1,"span",2),c._UZ(4,"div",3)),2&t&&(c.Q6J("ngIf",i.multiple),c.xp6(3),c.Q6J("ngIf",i.group&&i.group._inert),c.xp6(1),c.Q6J("matRippleTrigger",i._getHostElement())("matRippleDisabled",i.disabled||i.disableRipple))},directives:[Ww,Hn,Gd],styles:[".mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:transparent}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.cdk-high-contrast-active .mat-option{margin:0 1px}.cdk-high-contrast-active .mat-option.mat-active{border:solid 1px currentColor;margin:0}.cdk-high-contrast-active .mat-option[aria-disabled=true]{opacity:.5}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}\n"],encapsulation:2,changeDetection:0}),n})();function J_(n,e,t){if(t.length){let i=e.toArray(),r=t.toArray(),a=0;for(let u=0;u<n+1;u++)i[u].group&&i[u].group===r[a]&&a++;return a}return 0}let Qw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Z_,ao,kn,Kc]]}),n})();var Lo=F(6451),bi=F(5577),qd=F(1144);const CS=["addListener","removeListener"],ES=["addEventListener","removeEventListener"],DS=["on","off"];function kl(n,e,t,i){if((0,ys.m)(t)&&(i=t,t=void 0),i)return kl(n,e,t).pipe(Ka(i));const[r,a]=function IS(n){return(0,ys.m)(n.addEventListener)&&(0,ys.m)(n.removeEventListener)}(n)?ES.map(u=>f=>n[u](e,f,t)):function Jw(n){return(0,ys.m)(n.addListener)&&(0,ys.m)(n.removeListener)}(n)?CS.map(X_(n,e)):function Xw(n){return(0,ys.m)(n.on)&&(0,ys.m)(n.off)}(n)?DS.map(X_(n,e)):[];if(!r&&(0,qd.z)(n))return(0,bi.z)(u=>kl(u,e,t))((0,or.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new zi.y(u=>{const f=(...g)=>u.next(1<g.length?g:g[0]);return r(f),()=>a(f)})}function X_(n,e){return t=>i=>n[t](e,i)}const Wd=["connectionContainer"],Yd=["inputContainer"],AS=["label"];function SS(n,e){1&n&&(c.ynx(0),c.TgZ(1,"div",14),c._UZ(2,"div",15)(3,"div",16)(4,"div",17),c.qZA(),c.TgZ(5,"div",18),c._UZ(6,"div",15)(7,"div",16)(8,"div",17),c.qZA(),c.BQk())}function TS(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div",19),c.NdJ("cdkObserveContent",function(){return c.CHM(t),c.oxw().updateOutlineGap()}),c.Hsn(1,1),c.qZA()}if(2&n){const t=c.oxw();c.Q6J("cdkObserveContentDisabled","outline"!=t.appearance)}}function eC(n,e){if(1&n&&(c.ynx(0),c.Hsn(1,2),c.TgZ(2,"span"),c._uU(3),c.qZA(),c.BQk()),2&n){const t=c.oxw(2);c.xp6(3),c.Oqu(t._control.placeholder)}}function tC(n,e){1&n&&c.Hsn(0,3,["*ngSwitchCase","true"])}function nC(n,e){1&n&&(c.TgZ(0,"span",23),c._uU(1," *"),c.qZA())}function MS(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"label",20,21),c.NdJ("cdkObserveContent",function(){return c.CHM(t),c.oxw().updateOutlineGap()}),c.YNc(2,eC,4,1,"ng-container",12),c.YNc(3,tC,1,0,"ng-content",12),c.YNc(4,nC,2,0,"span",22),c.qZA()}if(2&n){const t=c.oxw();c.ekj("mat-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-form-field-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-accent","accent"==t.color)("mat-warn","warn"==t.color),c.Q6J("cdkObserveContentDisabled","outline"!=t.appearance)("id",t._labelId)("ngSwitch",t._hasLabel()),c.uIk("for",t._control.id)("aria-owns",t._control.id),c.xp6(2),c.Q6J("ngSwitchCase",!1),c.xp6(1),c.Q6J("ngSwitchCase",!0),c.xp6(1),c.Q6J("ngIf",!t.hideRequiredMarker&&t._control.required&&!t._control.disabled)}}function iC(n,e){1&n&&(c.TgZ(0,"div",24),c.Hsn(1,4),c.qZA())}function xS(n,e){if(1&n&&(c.TgZ(0,"div",25),c._UZ(1,"span",26),c.qZA()),2&n){const t=c.oxw();c.xp6(1),c.ekj("mat-accent","accent"==t.color)("mat-warn","warn"==t.color)}}function kS(n,e){if(1&n&&(c.TgZ(0,"div"),c.Hsn(1,5),c.qZA()),2&n){const t=c.oxw();c.Q6J("@transitionMessages",t._subscriptAnimationState)}}function z1(n,e){if(1&n&&(c.TgZ(0,"div",30),c._uU(1),c.qZA()),2&n){const t=c.oxw(2);c.Q6J("id",t._hintLabelId),c.xp6(1),c.Oqu(t.hintLabel)}}function G1(n,e){if(1&n&&(c.TgZ(0,"div",27),c.YNc(1,z1,2,2,"div",28),c.Hsn(2,6),c._UZ(3,"div",29),c.Hsn(4,7),c.qZA()),2&n){const t=c.oxw();c.Q6J("@transitionMessages",t._subscriptAnimationState),c.xp6(1),c.Q6J("ngIf",t.hintLabel)}}const q1=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],W1=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],xp=new c.OlP("MatError"),OS={transitionMessages:Xf("transitionMessages",[Bc("enter",ei({opacity:1,transform:"translateY(0%)"})),xo("void => enter",[ei({opacity:0,transform:"translateY(-5px)"}),Mo("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let Zd=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n}),n})();const PS=new c.OlP("MatHint");let Kd=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["mat-label"]]}),n})(),FS=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["mat-placeholder"]]}),n})();const NS=new c.OlP("MatPrefix"),rC=new c.OlP("MatSuffix");let ey=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["","matSuffix",""]],features:[c._Bn([{provide:rC,useExisting:n}])]}),n})(),sC=0;const lC=W_(class{constructor(n){this._elementRef=n}},"primary"),LS=new c.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),Qc=new c.OlP("MatFormField");let cC=(()=>{class n extends lC{constructor(t,i,r,a,u,f,g){super(t),this._changeDetectorRef=i,this._dir=r,this._defaults=a,this._platform=u,this._ngZone=f,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new yt.x,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+sC++,this._labelId="mat-form-field-label-"+sC++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==g,this.appearance=a&&a.appearance?a.appearance:"legacy",this._hideRequiredMarker=!(!a||null==a.hideRequiredMarker)&&a.hideRequiredMarker}get appearance(){return this._appearance}set appearance(t){const i=this._appearance;this._appearance=t||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&i!==t&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=It(t)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(t){this._explicitFormFieldControl=t}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${t.controlType}`),t.stateChanges.pipe(xn(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(ui(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(ui(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,Lo.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(xn(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(xn(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(ui(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(t){const i=this._control?this._control.ngControl:null;return i&&i[t]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,kl(this._label.nativeElement,"transitionend").pipe((0,yi.q)(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(a=>"start"===a.align):null,r=this._hintChildren?this._hintChildren.find(a=>"end"===a.align):null;i?t.push(i.id):this._hintLabel&&t.push(this._hintLabelId),r&&t.push(r.id)}else this._errorChildren&&t.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(t)}}_validateControlChild(){}updateOutlineGap(){const t=this._label?this._label.nativeElement:null,i=this._connectionContainerRef.nativeElement,r=".mat-form-field-outline-start",a=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!t||!t.children.length||!t.textContent.trim()){const D=i.querySelectorAll(`${r}, ${a}`);for(let I=0;I<D.length;I++)D[I].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let u=0,f=0;const g=i.querySelectorAll(r),v=i.querySelectorAll(a);if(this._label&&this._label.nativeElement.children.length){const D=i.getBoundingClientRect();if(0===D.width&&0===D.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const I=this._getStartEnd(D),R=t.children,V=this._getStartEnd(R[0].getBoundingClientRect());let H=0;for(let J=0;J<R.length;J++)H+=R[J].offsetWidth;u=Math.abs(V-I)-5,f=H>0?.75*H+10:0}for(let D=0;D<g.length;D++)g[D].style.width=`${u}px`;for(let D=0;D<v.length;D++)v[D].style.width=`${f}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(t){return this._dir&&"rtl"===this._dir.value?t.right:t.left}_isAttachedToDOM(){const t=this._elementRef.nativeElement;if(t.getRootNode){const i=t.getRootNode();return i&&i!==t}return document.documentElement.contains(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.sBO),c.Y36(pa,8),c.Y36(LS,8),c.Y36(ur),c.Y36(c.R0b),c.Y36(Sa,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(t,i,r){if(1&t&&(c.Suo(r,Zd,5),c.Suo(r,Zd,7),c.Suo(r,Kd,5),c.Suo(r,Kd,7),c.Suo(r,FS,5),c.Suo(r,xp,5),c.Suo(r,PS,5),c.Suo(r,NS,5),c.Suo(r,rC,5)),2&t){let a;c.iGM(a=c.CRH())&&(i._controlNonStatic=a.first),c.iGM(a=c.CRH())&&(i._controlStatic=a.first),c.iGM(a=c.CRH())&&(i._labelChildNonStatic=a.first),c.iGM(a=c.CRH())&&(i._labelChildStatic=a.first),c.iGM(a=c.CRH())&&(i._placeholderChild=a.first),c.iGM(a=c.CRH())&&(i._errorChildren=a),c.iGM(a=c.CRH())&&(i._hintChildren=a),c.iGM(a=c.CRH())&&(i._prefixChildren=a),c.iGM(a=c.CRH())&&(i._suffixChildren=a)}},viewQuery:function(t,i){if(1&t&&(c.Gf(Wd,7),c.Gf(Yd,5),c.Gf(AS,5)),2&t){let r;c.iGM(r=c.CRH())&&(i._connectionContainerRef=r.first),c.iGM(r=c.CRH())&&(i._inputContainerRef=r.first),c.iGM(r=c.CRH())&&(i._label=r.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(t,i){2&t&&c.ekj("mat-form-field-appearance-standard","standard"==i.appearance)("mat-form-field-appearance-fill","fill"==i.appearance)("mat-form-field-appearance-outline","outline"==i.appearance)("mat-form-field-appearance-legacy","legacy"==i.appearance)("mat-form-field-invalid",i._control.errorState)("mat-form-field-can-float",i._canLabelFloat())("mat-form-field-should-float",i._shouldLabelFloat())("mat-form-field-has-label",i._hasFloatingLabel())("mat-form-field-hide-placeholder",i._hideControlPlaceholder())("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-focused",i._control.focused)("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))("_mat-animation-noopable",!i._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[c._Bn([{provide:Qc,useExisting:n}]),c.qOj],ngContentSelectors:W1,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(t,i){1&t&&(c.F$t(q1),c.TgZ(0,"div",0)(1,"div",1,2),c.NdJ("click",function(a){return i._control.onContainerClick&&i._control.onContainerClick(a)}),c.YNc(3,SS,9,0,"ng-container",3),c.YNc(4,TS,2,1,"div",4),c.TgZ(5,"div",5,6),c.Hsn(7),c.TgZ(8,"span",7),c.YNc(9,MS,5,16,"label",8),c.qZA()(),c.YNc(10,iC,2,0,"div",9),c.qZA(),c.YNc(11,xS,2,4,"div",10),c.TgZ(12,"div",11),c.YNc(13,kS,2,1,"div",12),c.YNc(14,G1,5,2,"div",13),c.qZA()()),2&t&&(c.xp6(3),c.Q6J("ngIf","outline"==i.appearance),c.xp6(1),c.Q6J("ngIf",i._prefixChildren.length),c.xp6(5),c.Q6J("ngIf",i._hasFloatingLabel()),c.xp6(1),c.Q6J("ngIf",i._suffixChildren.length),c.xp6(1),c.Q6J("ngIf","outline"!=i.appearance),c.xp6(1),c.Q6J("ngSwitch",i._getDisplayedMessages()),c.xp6(1),c.Q6J("ngSwitchCase","error"),c.xp6(1),c.Q6J("ngSwitchCase","hint"))},directives:[Hn,t_,Yn,Si],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.cdk-high-contrast-active .mat-form-field-disabled .mat-form-field-label{color:GrayText}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px;border-top-color:GrayText}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:GrayText}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[OS.transitionMessages]},changeDetection:0}),n})(),Jd=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[ao,kn,Zf],kn]}),n})();var Ta=F(515);const uC=Pc({passive:!0});let VS=(()=>{class n{constructor(t,i){this._platform=t,this._ngZone=i,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return Ta.E;const i=qs(t),r=this._monitoredElements.get(i);if(r)return r.subject;const a=new yt.x,u="cdk-text-field-autofilled",f=g=>{"cdk-text-field-autofill-start"!==g.animationName||i.classList.contains(u)?"cdk-text-field-autofill-end"===g.animationName&&i.classList.contains(u)&&(i.classList.remove(u),this._ngZone.run(()=>a.next({target:g.target,isAutofilled:!1}))):(i.classList.add(u),this._ngZone.run(()=>a.next({target:g.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",f,uC),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:a,unlisten:()=>{i.removeEventListener("animationstart",f,uC)}}),a}stopMonitoring(t){const i=qs(t),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((t,i)=>this.stopMonitoring(i))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ur),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),hC=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const fC=new c.OlP("MAT_INPUT_VALUE_ACCESSOR"),US=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let jS=0;const HS=Lw(class{constructor(n,e,t,i){this._defaultErrorStateMatcher=n,this._parentForm=e,this._parentFormGroup=t,this.ngControl=i}});let pC=(()=>{class n extends HS{constructor(t,i,r,a,u,f,g,v,D,I){super(f,a,u,r),this._elementRef=t,this._platform=i,this._autofillMonitor=v,this._formField=I,this._uid="mat-input-"+jS++,this.focused=!1,this.stateChanges=new yt.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(H=>Hf().has(H)),this._iOSKeyupListener=H=>{const J=H.target;!J.value&&0===J.selectionStart&&0===J.selectionEnd&&(J.setSelectionRange(1,1),J.setSelectionRange(0,0))};const R=this._elementRef.nativeElement,V=R.nodeName.toLowerCase();this._inputValueAccessor=g||R,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&D.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===V,this._isTextarea="textarea"===V,this._isInFormField=!!I,this._isNativeSelect&&(this.controlType=R.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(t){this._disabled=It(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){var t,i,r,a;return null!==(a=null!==(t=this._required)&&void 0!==t?t:null===(r=null===(i=this.ngControl)||void 0===i?void 0:i.control)||void 0===r?void 0:r.hasValidator(go.required))&&void 0!==a&&a}set required(t){this._required=It(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&Hf().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=It(t)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t!==this.focused&&(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var t,i;const r=(null===(i=null===(t=this._formField)||void 0===t?void 0:t._hideControlPlaceholder)||void 0===i?void 0:i.call(t))?null:this.placeholder;if(r!==this._previousPlaceholder){const a=this._elementRef.nativeElement;this._previousPlaceholder=r,r?a.setAttribute("placeholder",r):a.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_validateType(){US.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,i=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const t=this._elementRef.nativeElement;return this._isNativeSelect&&(t.multiple||t.size>1)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(ur),c.Y36(xi,10),c.Y36(Eo,8),c.Y36(cl,8),c.Y36(Ap),c.Y36(fC,10),c.Y36(VS),c.Y36(c.R0b),c.Y36(Qc,8))},n.\u0275dir=c.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:12,hostBindings:function(t,i){1&t&&c.NdJ("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),2&t&&(c.Ikx("disabled",i.disabled)("required",i.required),c.uIk("id",i.id)("data-placeholder",i.placeholder)("name",i.name||null)("readonly",i.readonly&&!i._isNativeSelect||null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required),c.ekj("mat-input-server",i._isServer)("mat-native-select-inline",i._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[c._Bn([{provide:Zd,useExisting:n}]),c.qOj,c.TTD]}),n})(),$S=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[Ap],imports:[[hC,Jd,kn],hC,Jd]}),n})();const zS=["mat-button",""],GS=["*"],WS=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],YS=W_(q_(Yc(class{constructor(n){this._elementRef=n}})));let Rl=(()=>{class n extends YS{constructor(t,i,r){super(t),this._focusMonitor=i,this._animationMode=r,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const a of WS)this._hasHostAttributes(a)&&this._getHostElement().classList.add(a);t.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t,i){t?this._focusMonitor.focusVia(this._getHostElement(),t,i):this._getHostElement().focus(i)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(i=>this._getHostElement().hasAttribute(i))}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(u_),c.Y36(Sa,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,i){if(1&t&&c.Gf(Gd,5),2&t){let r;c.iGM(r=c.CRH())&&(i.ripple=r.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(t,i){2&t&&(c.uIk("disabled",i.disabled||null),c.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-button-disabled",i.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[c.qOj],attrs:zS,ngContentSelectors:GS,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,i){1&t&&(c.F$t(),c.TgZ(0,"span",0),c.Hsn(1),c.qZA(),c._UZ(2,"span",1)(3,"span",2)),2&t&&(c.xp6(2),c.ekj("mat-button-ripple-round",i.isRoundButton||i.isIconButton),c.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",i.isIconButton)("matRippleTrigger",i._getHostElement()))},directives:[Gd],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),n})(),gC=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Z_,kn],kn]}),n})();class ty{constructor(e=!1,t,i=!0){this._multiple=e,this._emitChanges=i,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new yt.x,t&&t.length&&(e?t.forEach(r=>this._markSelected(r)):this._markSelected(t[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...e){this._verifyValueAssignment(e),e.forEach(t=>this._markSelected(t)),this._emitChangeEvent()}deselect(...e){this._verifyValueAssignment(e),e.forEach(t=>this._unmarkSelected(t)),this._emitChangeEvent()}toggle(e){this.isSelected(e)?this.deselect(e):this.select(e)}clear(){this._unmarkAll(),this._emitChangeEvent()}isSelected(e){return this._selection.has(e)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(e){this._multiple&&this.selected&&this._selected.sort(e)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(e){this.isSelected(e)||(this._multiple||this._unmarkAll(),this._selection.add(e),this._emitChanges&&this._selectedToEmit.push(e))}_unmarkSelected(e){this.isSelected(e)&&(this._selection.delete(e),this._emitChanges&&this._deselectedToEmit.push(e))}_unmarkAll(){this.isEmpty()||this._selection.forEach(e=>this._unmarkSelected(e))}_verifyValueAssignment(e){}}let QS=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[kn],kn]}),n})();const ny=["*"],CC=[[["","mat-list-avatar",""],["","mat-list-icon",""],["","matListAvatar",""],["","matListIcon",""]],[["","mat-line",""],["","matLine",""]],"*"],rP=["[mat-list-avatar], [mat-list-icon], [matListAvatar], [matListIcon]","[mat-line], [matLine]","*"],Xd=q_(Yc(class{})),eT=Yc(class{}),tT=new c.OlP("MatList"),EC=new c.OlP("MatNavList");let DC=(()=>{class n extends Xd{constructor(t){super(),this._elementRef=t,this._stateChanges=new yt.x,"action-list"===this._getListType()&&t.nativeElement.classList.add("mat-action-list")}_getListType(){const t=this._elementRef.nativeElement.nodeName.toLowerCase();return"mat-list"===t?"list":"mat-action-list"===t?"action-list":null}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-list"],["mat-action-list"]],hostAttrs:[1,"mat-list","mat-list-base"],inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matList"],features:[c._Bn([{provide:tT,useExisting:n}]),c.qOj,c.TTD],ngContentSelectors:ny,decls:1,vars:0,template:function(t,i){1&t&&(c.F$t(),c.Hsn(0))},styles:['.mat-subheader{display:flex;box-sizing:border-box;padding:16px;align-items:center}.mat-list-base .mat-subheader{margin:0}button.mat-list-item,button.mat-list-option{padding:0;width:100%;background:none;color:inherit;border:none;outline:inherit;-webkit-tap-highlight-color:transparent;text-align:left}[dir=rtl] button.mat-list-item,[dir=rtl] button.mat-list-option{text-align:right}button.mat-list-item::-moz-focus-inner,button.mat-list-option::-moz-focus-inner{border:0}.mat-list-base{padding-top:8px;display:block;-webkit-tap-highlight-color:transparent}.mat-list-base .mat-subheader{height:48px;line-height:16px}.mat-list-base .mat-subheader:first-child{margin-top:-8px}.mat-list-base .mat-list-item,.mat-list-base .mat-list-option{display:block;height:48px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base .mat-list-item .mat-list-item-content,.mat-list-base .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base .mat-list-item .mat-list-item-content-reverse,.mat-list-base .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base .mat-list-item .mat-list-item-ripple,.mat-list-base .mat-list-option .mat-list-item-ripple{display:block;top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar,.mat-list-base .mat-list-option.mat-list-item-with-avatar{height:56px}.mat-list-base .mat-list-item.mat-2-line,.mat-list-base .mat-list-option.mat-2-line{height:72px}.mat-list-base .mat-list-item.mat-3-line,.mat-list-base .mat-list-option.mat-3-line{height:88px}.mat-list-base .mat-list-item.mat-multi-line,.mat-list-base .mat-list-option.mat-multi-line{height:auto}.mat-list-base .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base .mat-list-item .mat-list-text,.mat-list-base .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base .mat-list-item .mat-list-text>*,.mat-list-base .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base .mat-list-item .mat-list-text:empty,.mat-list-base .mat-list-option .mat-list-text:empty{display:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base .mat-list-item .mat-list-avatar,.mat-list-base .mat-list-option .mat-list-avatar{flex-shrink:0;width:40px;height:40px;border-radius:50%;object-fit:cover}.mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:72px;width:calc(100% - 72px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:72px}.mat-list-base .mat-list-item .mat-list-icon,.mat-list-base .mat-list-option .mat-list-icon{flex-shrink:0;width:24px;height:24px;font-size:24px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:64px;width:calc(100% - 64px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:64px}.mat-list-base .mat-list-item .mat-divider,.mat-list-base .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base .mat-list-item .mat-divider,[dir=rtl] .mat-list-base .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-list-base[dense]{padding-top:4px;display:block}.mat-list-base[dense] .mat-subheader{height:40px;line-height:8px}.mat-list-base[dense] .mat-subheader:first-child{margin-top:-4px}.mat-list-base[dense] .mat-list-item,.mat-list-base[dense] .mat-list-option{display:block;height:40px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-item-content,.mat-list-base[dense] .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base[dense] .mat-list-item .mat-list-item-content-reverse,.mat-list-base[dense] .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base[dense] .mat-list-item .mat-list-item-ripple,.mat-list-base[dense] .mat-list-option .mat-list-item-ripple{display:block;top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar{height:48px}.mat-list-base[dense] .mat-list-item.mat-2-line,.mat-list-base[dense] .mat-list-option.mat-2-line{height:60px}.mat-list-base[dense] .mat-list-item.mat-3-line,.mat-list-base[dense] .mat-list-option.mat-3-line{height:76px}.mat-list-base[dense] .mat-list-item.mat-multi-line,.mat-list-base[dense] .mat-list-option.mat-multi-line{height:auto}.mat-list-base[dense] .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base[dense] .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base[dense] .mat-list-item .mat-list-text,.mat-list-base[dense] .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-text>*,.mat-list-base[dense] .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base[dense] .mat-list-item .mat-list-text:empty,.mat-list-base[dense] .mat-list-option .mat-list-text:empty{display:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base[dense] .mat-list-item .mat-list-avatar,.mat-list-base[dense] .mat-list-option .mat-list-avatar{flex-shrink:0;width:36px;height:36px;border-radius:50%;object-fit:cover}.mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:68px;width:calc(100% - 68px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:68px}.mat-list-base[dense] .mat-list-item .mat-list-icon,.mat-list-base[dense] .mat-list-option .mat-list-icon{flex-shrink:0;width:20px;height:20px;font-size:20px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:60px;width:calc(100% - 60px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:60px}.mat-list-base[dense] .mat-list-item .mat-divider,.mat-list-base[dense] .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-divider,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base[dense] .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-nav-list a{text-decoration:none;color:inherit}.mat-nav-list .mat-list-item{cursor:pointer;outline:none}mat-action-list .mat-list-item{cursor:pointer;outline:inherit}.mat-list-option:not(.mat-list-item-disabled){cursor:pointer;outline:none}.mat-list-item-disabled{pointer-events:none}.cdk-high-contrast-active .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active :host .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active .mat-selection-list:focus{outline-style:dotted}.cdk-high-contrast-active .mat-list-option:hover,.cdk-high-contrast-active .mat-list-option:focus,.cdk-high-contrast-active .mat-nav-list .mat-list-item:hover,.cdk-high-contrast-active .mat-nav-list .mat-list-item:focus,.cdk-high-contrast-active mat-action-list .mat-list-item:hover,.cdk-high-contrast-active mat-action-list .mat-list-item:focus{outline:dotted 1px;z-index:1}.cdk-high-contrast-active .mat-list-single-selected-option::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active [dir=rtl] .mat-list-single-selected-option::after{right:auto;left:16px}@media(hover: none){.mat-list-option:not(.mat-list-single-selected-option):not(.mat-list-item-disabled):hover,.mat-nav-list .mat-list-item:not(.mat-list-item-disabled):hover,.mat-action-list .mat-list-item:not(.mat-list-item-disabled):hover{background:none}}\n'],encapsulation:2,changeDetection:0}),n})(),IC=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["","mat-list-avatar",""],["","matListAvatar",""]],hostAttrs:[1,"mat-list-avatar"]}),n})(),AC=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["","mat-list-icon",""],["","matListIcon",""]],hostAttrs:[1,"mat-list-icon"]}),n})(),iy=(()=>{class n extends eT{constructor(t,i,r,a){super(),this._element=t,this._isInteractiveList=!1,this._destroyed=new yt.x,this._disabled=!1,this._isInteractiveList=!!(r||a&&"action-list"===a._getListType()),this._list=r||a;const u=this._getHostElement();"button"===u.nodeName.toLowerCase()&&!u.hasAttribute("type")&&u.setAttribute("type","button"),this._list&&this._list._stateChanges.pipe(ui(this._destroyed)).subscribe(()=>{i.markForCheck()})}get disabled(){return this._disabled||!(!this._list||!this._list.disabled)}set disabled(t){this._disabled=It(t)}ngAfterContentInit(){!function Sp(n,e,t="mat"){n.changes.pipe(xn(n)).subscribe(({length:i})=>{xl(e,`${t}-2-line`,!1),xl(e,`${t}-3-line`,!1),xl(e,`${t}-multi-line`,!1),2===i||3===i?xl(e,`${t}-${i}-line`,!0):i>3&&xl(e,`${t}-multi-line`,!0)})}(this._lines,this._element)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_isRippleDisabled(){return!this._isInteractiveList||this.disableRipple||!(!this._list||!this._list.disableRipple)}_getHostElement(){return this._element.nativeElement}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.sBO),c.Y36(EC,8),c.Y36(tT,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(t,i,r){if(1&t&&(c.Suo(r,IC,5),c.Suo(r,AC,5),c.Suo(r,Y_,5)),2&t){let a;c.iGM(a=c.CRH())&&(i._avatar=a.first),c.iGM(a=c.CRH())&&(i._icon=a.first),c.iGM(a=c.CRH())&&(i._lines=a)}},hostAttrs:[1,"mat-list-item","mat-focus-indicator"],hostVars:6,hostBindings:function(t,i){2&t&&c.ekj("mat-list-item-disabled",i.disabled)("mat-list-item-avatar",i._avatar||i._icon)("mat-list-item-with-avatar",i._avatar||i._icon)},inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matListItem"],features:[c.qOj],ngContentSelectors:rP,decls:6,vars:2,consts:[[1,"mat-list-item-content"],["mat-ripple","",1,"mat-list-item-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-list-text"]],template:function(t,i){1&t&&(c.F$t(CC),c.TgZ(0,"span",0),c._UZ(1,"span",1),c.Hsn(2),c.TgZ(3,"span",2),c.Hsn(4,1),c.qZA(),c.Hsn(5,2),c.qZA()),2&t&&(c.xp6(1),c.Q6J("matRippleTrigger",i._getHostElement())("matRippleDisabled",i._isRippleDisabled()))},directives:[Gd],encapsulation:2,changeDetection:0}),n})(),rT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Js,Z_,kn,Kc,ao],Js,kn,Kc,QS]}),n})();const sT=["*",[["mat-card-footer"]]],oy=["*","mat-card-footer"],oT=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],oP=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"];let TC=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-card-title"]}),n})(),uT=(()=>{class n{constructor(t){this._animationMode=t}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Sa,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(t,i){2&t&&c.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)},exportAs:["matCard"],ngContentSelectors:oy,decls:2,vars:0,template:function(t,i){1&t&&(c.F$t(sT),c.Hsn(0),c.Hsn(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px;display:block;overflow:hidden}.mat-card-image img{width:100%}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}\n"],encapsulation:2,changeDetection:0}),n})(),dT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-card-header"],ngContentSelectors:oP,decls:4,vars:0,consts:[[1,"mat-card-header-text"]],template:function(t,i){1&t&&(c.F$t(oT),c.Hsn(0),c.TgZ(1,"div",0),c.Hsn(2,1),c.qZA(),c.Hsn(3,2))},encapsulation:2,changeDetection:0}),n})(),hT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[kn],kn]}),n})();const xC_firebaseConfig={apiKey:"AIzaSyC8vEdffXC12XE037YERC37sbXjL5KshMI",authDomain:"todoproject-45555.firebaseapp.com",projectId:"todoproject-45555",storageBucket:"todoproject-45555.appspot.com",messagingSenderId:"545346151723",appId:"1:545346151723:web:29872ba24b5d219301916e",measurementId:"G-E228QVH0DG"};var Ht=F(9681);(0,Ht.registerVersion)("firebase","9.6.11","app");var q=F(5861),Ge=F(2090),Yi=F(4859),Kr=F(1877);const ay="@firebase/installations",cy="w:0.5.8",uy="FIS_v2",Vo=new Ge.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Xc(n){return n instanceof Ge.ZR&&n.code.includes("request-failed")}function dy({projectId:n}){return`https://firebaseinstallations.googleapis.com/v1/projects/${n}/installations`}function Fp(n){return{token:n.token,requestStatus:2,expiresIn:vT(n.expiresIn),creationTime:Date.now()}}function Qr(n,e){return hy.apply(this,arguments)}function hy(){return(hy=(0,q.Z)(function*(n,e){const i=(yield e.json()).error;return Vo.create("request-failed",{requestName:n,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})})).apply(this,arguments)}function ih({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function eu(n,{refreshToken:e}){const t=ih(n);return t.append("Authorization",function Np(n){return`${uy} ${n}`}(e)),t}function fy(n){return py.apply(this,arguments)}function py(){return(py=(0,q.Z)(function*(n){const e=yield n();return e.status>=500&&e.status<600?n():e})).apply(this,arguments)}function vT(n){return Number(n.replace("s","000"))}function Lp(n,e){return my.apply(this,arguments)}function my(){return(my=(0,q.Z)(function*({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const i=dy(n),r=ih(n),a=e.getImmediate({optional:!0});if(a){const v=yield a.getHeartbeatsHeader();v&&r.append("x-firebase-client",v)}const f={method:"POST",headers:r,body:JSON.stringify({fid:t,authVersion:uy,appId:n.appId,sdkVersion:cy})},g=yield fy(()=>fetch(i,f));if(g.ok){const v=yield g.json();return{fid:v.fid||t,registrationStatus:2,refreshToken:v.refreshToken,authToken:Fp(v.authToken)}}throw yield Qr("Create Installation",g)})).apply(this,arguments)}function RC(n){return new Promise(e=>{setTimeout(e,n)})}const PC=/^[cdef][\w-]{21}$/;function FC(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=function bT(n){return function OC(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}(n).substr(0,22)}(n);return PC.test(t)?t:""}catch(n){return""}}function tu(n){return`${n.appName}!${n.appId}`}const sh=new Map;function Vp(n,e){const t=tu(n);Bp(t,e),function _y(n,e){const t=function LC(){return!Ol&&"BroadcastChannel"in self&&(Ol=new BroadcastChannel("[Firebase] FID Change"),Ol.onmessage=n=>{Bp(n.data.key,n.data.fid)}),Ol}();t&&t.postMessage({key:n,fid:e}),function VC(){0===sh.size&&Ol&&(Ol.close(),Ol=null)}()}(t,e)}function Bp(n,e){const t=sh.get(n);if(t)for(const i of t)i(e)}let Ol=null;const Bo="firebase-installations-store";let Up=null;function jp(){return Up||(Up=(0,Ge.X3)("firebase-installations-database",1,(n,e)=>{0===e&&n.createObjectStore(Bo)})),Up}function oh(n,e){return Hp.apply(this,arguments)}function Hp(){return(Hp=(0,q.Z)(function*(n,e){const t=tu(n),r=(yield jp()).transaction(Bo,"readwrite"),a=r.objectStore(Bo),u=yield a.get(t);return yield a.put(e,t),yield r.complete,(!u||u.fid!==e.fid)&&Vp(n,e.fid),e})).apply(this,arguments)}function yy(n){return $p.apply(this,arguments)}function $p(){return($p=(0,q.Z)(function*(n){const e=tu(n),i=(yield jp()).transaction(Bo,"readwrite");yield i.objectStore(Bo).delete(e),yield i.complete})).apply(this,arguments)}function nu(n,e){return vy.apply(this,arguments)}function vy(){return(vy=(0,q.Z)(function*(n,e){const t=tu(n),r=(yield jp()).transaction(Bo,"readwrite"),a=r.objectStore(Bo),u=yield a.get(t),f=e(u);return void 0===f?yield a.delete(t):yield a.put(f,t),yield r.complete,f&&(!u||u.fid!==f.fid)&&Vp(n,f.fid),f})).apply(this,arguments)}function zp(n){return by.apply(this,arguments)}function by(){return(by=(0,q.Z)(function*(n){let e;const t=yield nu(n.appConfig,i=>{const r=Zi(i),a=iu(n,r);return e=a.registrationPromise,a.installationEntry});return""===t.fid?{installationEntry:yield e}:{installationEntry:t,registrationPromise:e}})).apply(this,arguments)}function Zi(n){return Gp(n||{fid:FC(),registrationStatus:0})}function iu(n,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(Vo.create("app-offline"))};const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=function CT(n,e){return wy.apply(this,arguments)}(n,t);return{installationEntry:t,registrationPromise:i}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:dP(n)}:{installationEntry:e}}function wy(){return(wy=(0,q.Z)(function*(n,e){try{const t=yield Lp(n,e);return oh(n.appConfig,t)}catch(t){throw Xc(t)&&409===t.customData.serverCode?yield yy(n.appConfig):yield oh(n.appConfig,{fid:e.fid,registrationStatus:0}),t}})).apply(this,arguments)}function dP(n){return Pl.apply(this,arguments)}function Pl(){return(Pl=(0,q.Z)(function*(n){let e=yield UC(n.appConfig);for(;1===e.registrationStatus;)yield RC(100),e=yield UC(n.appConfig);if(0===e.registrationStatus){const{installationEntry:t,registrationPromise:i}=yield zp(n);return i||t}return e})).apply(this,arguments)}function UC(n){return nu(n,e=>{if(!e)throw Vo.create("installation-not-found");return Gp(e)})}function Gp(n){return function ET(n){return 1===n.registrationStatus&&n.registrationTime+1e4<Date.now()}(n)?{fid:n.fid,registrationStatus:0}:n}function jC(n,e){return Cy.apply(this,arguments)}function Cy(){return(Cy=(0,q.Z)(function*({appConfig:n,heartbeatServiceProvider:e},t){const i=DT(n,t),r=eu(n,t),a=e.getImmediate({optional:!0});if(a){const v=yield a.getHeartbeatsHeader();v&&r.append("x-firebase-client",v)}const f={method:"POST",headers:r,body:JSON.stringify({installation:{sdkVersion:cy,appId:n.appId}})},g=yield fy(()=>fetch(i,f));if(g.ok)return Fp(yield g.json());throw yield Qr("Generate Auth Token",g)})).apply(this,arguments)}function DT(n,{fid:e}){return`${dy(n)}/${e}/authTokens:generate`}function ah(n){return qp.apply(this,arguments)}function qp(){return(qp=(0,q.Z)(function*(n,e=!1){let t;const i=yield nu(n.appConfig,a=>{if(!$C(a))throw Vo.create("not-registered");const u=a.authToken;if(!e&&zC(u))return a;if(1===u.requestStatus)return t=HC(n,e),a;{if(!navigator.onLine)throw Vo.create("app-offline");const f=GC(a);return t=hP(n,f),f}});return t?yield t:i.authToken})).apply(this,arguments)}function HC(n,e){return ru.apply(this,arguments)}function ru(){return(ru=(0,q.Z)(function*(n,e){let t=yield Wp(n.appConfig);for(;1===t.authToken.requestStatus;)yield RC(100),t=yield Wp(n.appConfig);const i=t.authToken;return 0===i.requestStatus?ah(n,e):i})).apply(this,arguments)}function Wp(n){return nu(n,e=>{if(!$C(e))throw Vo.create("not-registered");return function IT(n){return 1===n.requestStatus&&n.requestTime+1e4<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function hP(n,e){return Yp.apply(this,arguments)}function Yp(){return(Yp=(0,q.Z)(function*(n,e){try{const t=yield jC(n,e),i=Object.assign(Object.assign({},e),{authToken:t});return yield oh(n.appConfig,i),t}catch(t){if(!Xc(t)||401!==t.customData.serverCode&&404!==t.customData.serverCode){const i=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield oh(n.appConfig,i)}else yield yy(n.appConfig);throw t}})).apply(this,arguments)}function $C(n){return void 0!==n&&2===n.registrationStatus}function zC(n){return 2===n.requestStatus&&!function Zp(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+36e5}(n)}function GC(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function lh(){return(lh=(0,q.Z)(function*(n){const e=n,{installationEntry:t,registrationPromise:i}=yield zp(e);return i?i.catch(console.error):ah(e).catch(console.error),t.fid})).apply(this,arguments)}function Dy(){return(Dy=(0,q.Z)(function*(n,e=!1){const t=n;return yield AT(t),(yield ah(t,e)).token})).apply(this,arguments)}function AT(n){return Kp.apply(this,arguments)}function Kp(){return(Kp=(0,q.Z)(function*(n){const{registrationPromise:e}=yield zp(n);e&&(yield e)})).apply(this,arguments)}function Qp(n){return Vo.create("missing-app-config-values",{valueName:n})}const Sy="installations",ZC=n=>{const e=n.getProvider("app").getImmediate(),t=function MT(n){if(!n||!n.options)throw Qp("App Configuration");if(!n.name)throw Qp("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw Qp(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}(e);return{app:e,appConfig:t,heartbeatServiceProvider:(0,Ht._getProvider)(e,"heartbeat"),_delete:()=>Promise.resolve()}},xT=n=>{const e=n.getProvider("app").getImmediate(),t=(0,Ht._getProvider)(e,Sy).getImmediate();return{getId:()=>function Ey(n){return lh.apply(this,arguments)}(t),getToken:r=>function fP(n){return Dy.apply(this,arguments)}(t,r)}};(function kT(){(0,Ht._registerComponent)(new Yi.wA(Sy,ZC,"PUBLIC")),(0,Ht._registerComponent)(new Yi.wA("installations-internal",xT,"PRIVATE"))})(),(0,Ht.registerVersion)(ay,"0.5.8"),(0,Ht.registerVersion)(ay,"0.5.8","esm2017");const KC="@firebase/remote-config",Tr=new Ge.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class LT{constructor(e,t,i,r){this.client=e,this.storage=t,this.storageCache=i,this.logger=r}isCachedDataFresh(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const i=Date.now()-t,r=i<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${i}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${r}.`),r}fetch(e){var t=this;return(0,q.Z)(function*(){const[i,r]=yield Promise.all([t.storage.getLastSuccessfulFetchTimestampMillis(),t.storage.getLastSuccessfulFetchResponse()]);if(r&&t.isCachedDataFresh(e.cacheMaxAgeMillis,i))return r;e.eTag=r&&r.eTag;const a=yield t.client.fetch(e),u=[t.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===a.status&&u.push(t.storage.setLastSuccessfulFetchResponse(a)),yield Promise.all(u),a})()}}function EP(n=navigator){return n.languages&&n.languages[0]||n.language}class DP{constructor(e,t,i,r,a,u){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=i,this.projectId=r,this.apiKey=a,this.appId=u}fetch(e){var t=this;return(0,q.Z)(function*(){const[i,r]=yield Promise.all([t.firebaseInstallations.getId(),t.firebaseInstallations.getToken()]),u=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${t.projectId}/namespaces/${t.namespace}:fetch?key=${t.apiKey}`,f={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},g={sdk_version:t.sdkVersion,app_instance_id:i,app_instance_id_token:r,app_id:t.appId,language_code:EP()},v={method:"POST",headers:f,body:JSON.stringify(g)},D=fetch(u,v),I=new Promise((qe,Ke)=>{e.signal.addEventListener(()=>{const Je=new Error("The operation was aborted.");Je.name="AbortError",Ke(Je)})});let R;try{yield Promise.race([D,I]),R=yield D}catch(qe){let Ke="fetch-client-network";throw"AbortError"===qe.name&&(Ke="fetch-timeout"),Tr.create(Ke,{originalErrorMessage:qe.message})}let V=R.status;const H=R.headers.get("ETag")||void 0;let J,be;if(200===R.status){let qe;try{qe=yield R.json()}catch(Ke){throw Tr.create("fetch-client-parse",{originalErrorMessage:Ke.message})}J=qe.entries,be=qe.state}if("INSTANCE_STATE_UNSPECIFIED"===be?V=500:"NO_CHANGE"===be?V=304:("NO_TEMPLATE"===be||"EMPTY_CONFIG"===be)&&(J={}),304!==V&&200!==V)throw Tr.create("fetch-status",{httpStatus:V});return{status:V,eTag:H,config:J}})()}}class BT{constructor(e,t){this.client=e,this.storage=t}fetch(e){var t=this;return(0,q.Z)(function*(){const i=(yield t.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return t.attemptFetch(e,i)})()}attemptFetch(e,{throttleEndTimeMillis:t,backoffCount:i}){var r=this;return(0,q.Z)(function*(){yield function IP(n,e){return new Promise((t,i)=>{const r=Math.max(e-Date.now(),0),a=setTimeout(t,r);n.addEventListener(()=>{clearTimeout(a),i(Tr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,t);try{const a=yield r.client.fetch(e);return yield r.storage.deleteThrottleMetadata(),a}catch(a){if(!function VT(n){if(!(n instanceof Ge.ZR&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}(a))throw a;const u={throttleEndTimeMillis:Date.now()+(0,Ge.$s)(i),backoffCount:i+1};return yield r.storage.setThrottleMetadata(u),r.attemptFetch(e,u)}})()}}class jT{constructor(e,t,i,r,a){this.app=e,this._client=t,this._storageCache=i,this._storage=r,this._logger=a,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function su(n,e){const t=n.target.error||void 0;return Tr.create(e,{originalErrorMessage:t&&t.message})}const Fl="app_namespace_store";class $T{constructor(e,t,i,r=function ky(){return new Promise((n,e)=>{try{const t=indexedDB.open("firebase_remote_config",1);t.onerror=i=>{e(su(i,"storage-open"))},t.onsuccess=i=>{n(i.target.result)},t.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(Fl,{keyPath:"compositeKey"})}}catch(t){e(Tr.create("storage-open",{originalErrorMessage:t}))}})}()){this.appId=e,this.appName=t,this.namespace=i,this.openDbPromise=r}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var t=this;return(0,q.Z)(function*(){const i=yield t.openDbPromise;return new Promise((r,a)=>{const f=i.transaction([Fl],"readonly").objectStore(Fl),g=t.createCompositeKey(e);try{const v=f.get(g);v.onerror=D=>{a(su(D,"storage-get"))},v.onsuccess=D=>{const I=D.target.result;r(I?I.value:void 0)}}catch(v){a(Tr.create("storage-get",{originalErrorMessage:v&&v.message}))}})})()}set(e,t){var i=this;return(0,q.Z)(function*(){const r=yield i.openDbPromise;return new Promise((a,u)=>{const g=r.transaction([Fl],"readwrite").objectStore(Fl),v=i.createCompositeKey(e);try{const D=g.put({compositeKey:v,value:t});D.onerror=I=>{u(su(I,"storage-set"))},D.onsuccess=()=>{a()}}catch(D){u(Tr.create("storage-set",{originalErrorMessage:D&&D.message}))}})})()}delete(e){var t=this;return(0,q.Z)(function*(){const i=yield t.openDbPromise;return new Promise((r,a)=>{const f=i.transaction([Fl],"readwrite").objectStore(Fl),g=t.createCompositeKey(e);try{const v=f.delete(g);v.onerror=D=>{a(su(D,"storage-delete"))},v.onsuccess=()=>{r()}}catch(v){a(Tr.create("storage-delete",{originalErrorMessage:v&&v.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class zT{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return(0,q.Z)(function*(){const t=e.storage.getLastFetchStatus(),i=e.storage.getLastSuccessfulFetchTimestampMillis(),r=e.storage.getActiveConfig(),a=yield t;a&&(e.lastFetchStatus=a);const u=yield i;u&&(e.lastSuccessfulFetchTimestampMillis=u);const f=yield r;f&&(e.activeConfig=f)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function qT(){return nm.apply(this,arguments)}function nm(){return(nm=(0,q.Z)(function*(){if(!(0,Ge.hl)())return!1;try{return yield(0,Ge.eu)()}catch(n){return!1}})).apply(this,arguments)}!function Ry(){(0,Ht._registerComponent)(new Yi.wA("remote-config",function n(e,{instanceIdentifier:t}){const i=e.getProvider("app").getImmediate(),r=e.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Tr.create("registration-window");if(!(0,Ge.hl)())throw Tr.create("indexed-db-unavailable");const{projectId:a,apiKey:u,appId:f}=i.options;if(!a)throw Tr.create("registration-project-id");if(!u)throw Tr.create("registration-api-key");if(!f)throw Tr.create("registration-app-id");const g=new $T(f,i.name,t=t||"firebase"),v=new zT(g),D=new Kr.Yd(KC);D.logLevel=Kr.in.ERROR;const I=new DP(r,Ht.SDK_VERSION,t,a,u,f),R=new BT(I,g),V=new LT(R,g,v,D),H=new jT(i,V,v,g,D);return function JC(n){const e=(0,Ge.m9)(n);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(H),H},"PUBLIC").setMultipleInstances(!0)),(0,Ht.registerVersion)(KC,"0.3.7"),(0,Ht.registerVersion)(KC,"0.3.7","esm2017")}();const WT="/firebase-messaging-sw.js",YT="/firebase-cloud-messaging-push-scope",XC="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Jr="google.c.a.c_id",ZT="google.c.a.c_l",SP="google.c.a.ts",KT="google.c.a.e";var ou=(()=>{return(n=ou||(ou={})).PUSH_RECEIVED="push-received",n.NOTIFICATION_CLICKED="notification-clicked",ou;var n})();function Uo(n){const e=new Uint8Array(n);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function eE(n){const t=(n+"=".repeat((4-n.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),i=atob(t),r=new Uint8Array(i.length);for(let a=0;a<i.length;++a)r[a]=i.charCodeAt(a);return r}const Py="fcm_token_details_db",Fy="fcm_token_object_Store";function JT(n){return Ny.apply(this,arguments)}function Ny(){return Ny=(0,q.Z)(function*(n){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(a=>a.name).includes(Py))return null;let e=null;return(yield(0,Ge.X3)(Py,5,function(){var i=(0,q.Z)(function*(r,a,u,f){var g;if(a<2||!r.objectStoreNames.contains(Fy))return;const v=f.objectStore(Fy),D=yield v.index("fcmSenderId").get(n);if(yield v.clear(),D)if(2===a){const I=D;if(!I.auth||!I.p256dh||!I.endpoint)return;e={token:I.fcmToken,createTime:null!==(g=I.createTime)&&void 0!==g?g:Date.now(),subscriptionOptions:{auth:I.auth,p256dh:I.p256dh,endpoint:I.endpoint,swScope:I.swScope,vapidKey:"string"==typeof I.vapidKey?I.vapidKey:Uo(I.vapidKey)}}}else if(3===a){const I=D;e={token:I.fcmToken,createTime:I.createTime,subscriptionOptions:{auth:Uo(I.auth),p256dh:Uo(I.p256dh),endpoint:I.endpoint,swScope:I.swScope,vapidKey:Uo(I.vapidKey)}}}else if(4===a){const I=D;e={token:I.fcmToken,createTime:I.createTime,subscriptionOptions:{auth:Uo(I.auth),p256dh:Uo(I.p256dh),endpoint:I.endpoint,swScope:I.swScope,vapidKey:Uo(I.vapidKey)}}}});return function(r,a,u,f){return i.apply(this,arguments)}}())).close(),yield(0,Ge.Lj)(Py),yield(0,Ge.Lj)("fcm_vapid_details_db"),yield(0,Ge.Lj)("undefined"),XT(e)?e:null}),Ny.apply(this,arguments)}function XT(n){if(!n||!n.subscriptionOptions)return!1;const{subscriptionOptions:e}=n;return"number"==typeof n.createTime&&n.createTime>0&&"string"==typeof n.token&&n.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}const jo="firebase-messaging-store";let im=null;function Vy(){return im||(im=(0,Ge.X3)("firebase-messaging-database",1,(n,e)=>{0===e&&n.createObjectStore(jo)})),im}function By(n){return rm.apply(this,arguments)}function rm(){return(rm=(0,q.Z)(function*(n){const e=sm(n),i=yield(yield Vy()).transaction(jo).objectStore(jo).get(e);if(i)return i;{const r=yield JT(n.appConfig.senderId);if(r)return yield Uy(n,r),r}})).apply(this,arguments)}function Uy(n,e){return jy.apply(this,arguments)}function jy(){return(jy=(0,q.Z)(function*(n,e){const t=sm(n),r=(yield Vy()).transaction(jo,"readwrite");return yield r.objectStore(jo).put(e,t),yield r.complete,e})).apply(this,arguments)}function MP(n){return nE.apply(this,arguments)}function nE(){return(nE=(0,q.Z)(function*(n){const e=sm(n),i=(yield Vy()).transaction(jo,"readwrite");yield i.objectStore(jo).delete(e),yield i.complete})).apply(this,arguments)}function sm({appConfig:n}){return n.appId}const wi=new Ge.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function tM(n,e){return iE.apply(this,arguments)}function iE(){return(iE=(0,q.Z)(function*(n,e){const t=yield au(n),i=oE(e),r={method:"POST",headers:t,body:JSON.stringify(i)};let a;try{a=yield(yield fetch(Hy(n.appConfig),r)).json()}catch(u){throw wi.create("token-subscribe-failed",{errorInfo:u})}if(a.error)throw wi.create("token-subscribe-failed",{errorInfo:a.error.message});if(!a.token)throw wi.create("token-subscribe-no-token");return a.token})).apply(this,arguments)}function xP(n,e){return rE.apply(this,arguments)}function rE(){return(rE=(0,q.Z)(function*(n,e){const t=yield au(n),i=oE(e.subscriptionOptions),r={method:"PATCH",headers:t,body:JSON.stringify(i)};let a;try{a=yield(yield fetch(`${Hy(n.appConfig)}/${e.token}`,r)).json()}catch(u){throw wi.create("token-update-failed",{errorInfo:u})}if(a.error)throw wi.create("token-update-failed",{errorInfo:a.error.message});if(!a.token)throw wi.create("token-update-no-token");return a.token})).apply(this,arguments)}function nM(n,e){return sE.apply(this,arguments)}function sE(){return(sE=(0,q.Z)(function*(n,e){const i={method:"DELETE",headers:yield au(n)};try{const a=yield(yield fetch(`${Hy(n.appConfig)}/${e}`,i)).json();if(a.error)throw wi.create("token-unsubscribe-failed",{errorInfo:a.error.message})}catch(r){throw wi.create("token-unsubscribe-failed",{errorInfo:r})}})).apply(this,arguments)}function Hy({projectId:n}){return`https://fcmregistrations.googleapis.com/v1/projects/${n}/registrations`}function au(n){return $y.apply(this,arguments)}function $y(){return($y=(0,q.Z)(function*({appConfig:n,installations:e}){const t=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey,"x-goog-firebase-installations-auth":`FIS ${t}`})})).apply(this,arguments)}function oE({p256dh:n,auth:e,endpoint:t,vapidKey:i}){const r={web:{endpoint:t,auth:e,p256dh:n}};return i!==XC&&(r.web.applicationPubKey=i),r}const aE=6048e5;function Nl(n){return om.apply(this,arguments)}function om(){return(om=(0,q.Z)(function*(n){const e=yield kP(n.swRegistration,n.vapidKey),t={vapidKey:n.vapidKey,swScope:n.swRegistration.scope,endpoint:e.endpoint,auth:Uo(e.getKey("auth")),p256dh:Uo(e.getKey("p256dh"))},i=yield By(n.firebaseDependencies);if(i){if(RP(i.subscriptionOptions,t))return Date.now()>=i.createTime+aE?iM(n,{token:i.token,createTime:Date.now(),subscriptionOptions:t}):i.token;try{yield nM(n.firebaseDependencies,i.token)}catch(r){console.warn(r)}return lm(n.firebaseDependencies,t)}return lm(n.firebaseDependencies,t)})).apply(this,arguments)}function am(n){return uh.apply(this,arguments)}function uh(){return(uh=(0,q.Z)(function*(n){const e=yield By(n.firebaseDependencies);e&&(yield nM(n.firebaseDependencies,e.token),yield MP(n.firebaseDependencies));const t=yield n.swRegistration.pushManager.getSubscription();return!t||t.unsubscribe()})).apply(this,arguments)}function iM(n,e){return dh.apply(this,arguments)}function dh(){return(dh=(0,q.Z)(function*(n,e){try{const t=yield xP(n.firebaseDependencies,e),i=Object.assign(Object.assign({},e),{token:t,createTime:Date.now()});return yield Uy(n.firebaseDependencies,i),t}catch(t){throw yield am(n),t}})).apply(this,arguments)}function lm(n,e){return lu.apply(this,arguments)}function lu(){return(lu=(0,q.Z)(function*(n,e){const i={token:yield tM(n,e),createTime:Date.now(),subscriptionOptions:e};return yield Uy(n,i),i.token})).apply(this,arguments)}function kP(n,e){return lE.apply(this,arguments)}function lE(){return(lE=(0,q.Z)(function*(n,e){return(yield n.pushManager.getSubscription())||n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:eE(e)})})).apply(this,arguments)}function RP(n,e){return e.vapidKey===n.vapidKey&&e.endpoint===n.endpoint&&e.auth===n.auth&&e.p256dh===n.p256dh}function rM(n){const e={from:n.from,collapseKey:n.collapse_key,messageId:n.fcmMessageId};return function cE(n,e){if(!e.notification)return;n.notification={};const t=e.notification.title;t&&(n.notification.title=t);const i=e.notification.body;i&&(n.notification.body=i);const r=e.notification.image;r&&(n.notification.image=r)}(e,n),function sM(n,e){!e.data||(n.data=e.data)}(e,n),function oM(n,e){if(!e.fcmOptions)return;n.fcmOptions={};const t=e.fcmOptions.link;t&&(n.fcmOptions.link=t);const i=e.fcmOptions.analytics_label;i&&(n.fcmOptions.analyticsLabel=i)}(e,n),e}function aM(n){return"object"==typeof n&&!!n&&Jr in n}function uE(n,e){const t=[];for(let i=0;i<n.length;i++)t.push(n.charAt(i)),i<e.length&&t.push(e.charAt(i));return t.join("")}function cm(n){return wi.create("missing-app-config-values",{valueName:n})}uE("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),uE("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class hE{constructor(e,t,i){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const r=function dE(n){if(!n||!n.options)throw cm("App Configuration Object");if(!n.name)throw cm("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:t}=n;for(const i of e)if(!t[i])throw cm(i);return{appName:n.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:r,installations:t,analyticsProvider:i}}_delete(){return Promise.resolve()}}function fE(n){return zy.apply(this,arguments)}function zy(){return(zy=(0,q.Z)(function*(n){try{n.swRegistration=yield navigator.serviceWorker.register(WT,{scope:YT}),n.swRegistration.update().catch(()=>{})}catch(e){throw wi.create("failed-service-worker-registration",{browserErrorMessage:e.message})}})).apply(this,arguments)}function pE(n,e){return hh.apply(this,arguments)}function hh(){return(hh=(0,q.Z)(function*(n,e){if(!e&&!n.swRegistration&&(yield fE(n)),e||!n.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw wi.create("invalid-sw-registration");n.swRegistration=e}})).apply(this,arguments)}function OP(n,e){return um.apply(this,arguments)}function um(){return(um=(0,q.Z)(function*(n,e){e?n.vapidKey=e:n.vapidKey||(n.vapidKey=XC)})).apply(this,arguments)}function Gy(){return(Gy=(0,q.Z)(function*(n,e){if(!navigator)throw wi.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw wi.create("permission-blocked");return yield OP(n,null==e?void 0:e.vapidKey),yield pE(n,null==e?void 0:e.serviceWorkerRegistration),Nl(n)})).apply(this,arguments)}function lM(n,e,t){return mE.apply(this,arguments)}function mE(){return(mE=(0,q.Z)(function*(n,e,t){const i=PP(e);(yield n.firebaseDependencies.analyticsProvider.get()).logEvent(i,{message_id:t[Jr],message_name:t[ZT],message_time:t[SP],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function PP(n){switch(n){case ou.NOTIFICATION_CLICKED:return"notification_open";case ou.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function qy(){return(qy=(0,q.Z)(function*(n,e){const t=e.data;if(!t.isFirebaseMessaging)return;n.onMessageHandler&&t.messageType===ou.PUSH_RECEIVED&&("function"==typeof n.onMessageHandler?n.onMessageHandler(rM(t)):n.onMessageHandler.next(rM(t)));const i=t.data;aM(i)&&"1"===i[KT]&&(yield lM(n,t.messageType,i))})).apply(this,arguments)}const uM="@firebase/messaging",FP=n=>{const e=new hE(n.getProvider("app").getImmediate(),n.getProvider("installations-internal").getImmediate(),n.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",t=>function cM(n,e){return qy.apply(this,arguments)}(e,t)),e},NP=n=>{const e=n.getProvider("messaging").getImmediate();return{getToken:i=>function dm(n,e){return Gy.apply(this,arguments)}(e,i)}};function gE(){return _E.apply(this,arguments)}function _E(){return(_E=(0,q.Z)(function*(){try{yield(0,Ge.eu)()}catch(n){return!1}return"undefined"!=typeof window&&(0,Ge.hl)()&&(0,Ge.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function LP(){(0,Ht._registerComponent)(new Yi.wA("messaging",FP,"PUBLIC")),(0,Ht._registerComponent)(new Yi.wA("messaging-internal",NP,"PRIVATE")),(0,Ht.registerVersion)(uM,"0.9.12"),(0,Ht.registerVersion)(uM,"0.9.12","esm2017")}();const p="analytics",y="firebase_id",w="origin",A="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",T="https://www.googletagmanager.com/gtag/js",x=new Kr.Yd("@firebase/analytics");function U(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function W(n,e){const t=document.createElement("script");t.src=`${T}?l=${n}&id=${e}`,t.async=!0,document.head.appendChild(t)}function Me(n,e,t,i,r,a){return Oe.apply(this,arguments)}function Oe(){return(Oe=(0,q.Z)(function*(n,e,t,i,r,a){const u=i[r];try{if(u)yield e[u];else{const g=(yield U(t)).find(v=>v.measurementId===r);g&&(yield e[g.appId])}}catch(f){x.error(f)}n("config",r,a)})).apply(this,arguments)}function Ze(n,e,t,i,r){return fe.apply(this,arguments)}function fe(){return(fe=(0,q.Z)(function*(n,e,t,i,r){try{let a=[];if(r&&r.send_to){let u=r.send_to;Array.isArray(u)||(u=[u]);const f=yield U(t);for(const g of u){const v=f.find(I=>I.measurementId===g),D=v&&e[v.appId];if(!D){a=[];break}a.push(D)}}0===a.length&&(a=Object.values(e)),yield Promise.all(a),n("event",i,r||{})}catch(a){x.error(a)}})).apply(this,arguments)}function en(){const n=window.document.getElementsByTagName("script");for(const e of Object.values(n))if(e.src&&e.src.includes(T))return e;return null}const ni=new Ge.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),hm=new class Zy{constructor(e={},t=1e3){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function Ky(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}function Qy(n){return fh.apply(this,arguments)}function fh(){return(fh=(0,q.Z)(function*(n){var e;const{appId:t,apiKey:i}=n,r={method:"GET",headers:Ky(i)},a=A.replace("{app-id}",t),u=yield fetch(a,r);if(200!==u.status&&304!==u.status){let f="";try{const g=yield u.json();(null===(e=g.error)||void 0===e?void 0:e.message)&&(f=g.error.message)}catch(g){}throw ni.create("config-fetch-failed",{httpStatus:u.status,responseMessage:f})}return u.json()})).apply(this,arguments)}function Jy(n){return ph.apply(this,arguments)}function ph(){return(ph=(0,q.Z)(function*(n,e=hm,t){const{appId:i,apiKey:r,measurementId:a}=n.options;if(!i)throw ni.create("no-app-id");if(!r){if(a)return{measurementId:a,appId:i};throw ni.create("no-api-key")}const u=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},f=new Lj;return setTimeout((0,q.Z)(function*(){f.abort()}),void 0!==t?t:6e4),UP({appId:i,apiKey:r,measurementId:a},u,f,e)})).apply(this,arguments)}function UP(n,e,t){return hM.apply(this,arguments)}function hM(){return(hM=(0,q.Z)(function*(n,{throttleEndTimeMillis:e,backoffCount:t},i,r=hm){const{appId:a,measurementId:u}=n;try{yield Fj(i,e)}catch(f){if(u)return x.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${f.message}]`),{appId:a,measurementId:u};throw f}try{const f=yield Qy(n);return r.deleteThrottleMetadata(a),f}catch(f){if(!Nj(f)){if(r.deleteThrottleMetadata(a),u)return x.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${f.message}]`),{appId:a,measurementId:u};throw f}const g=503===Number(f.customData.httpStatus)?(0,Ge.$s)(t,r.intervalMillis,30):(0,Ge.$s)(t,r.intervalMillis),v={throttleEndTimeMillis:Date.now()+g,backoffCount:t+1};return r.setThrottleMetadata(a,v),x.debug(`Calling attemptFetch again in ${g} millis`),UP(n,v,i,r)}})).apply(this,arguments)}function Fj(n,e){return new Promise((t,i)=>{const r=Math.max(e-Date.now(),0),a=setTimeout(t,r);n.addEventListener(()=>{clearTimeout(a),i(ni.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function Nj(n){if(!(n instanceof Ge.ZR&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}class Lj{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}function Vj(){return fM.apply(this,arguments)}function fM(){return(fM=(0,q.Z)(function*(){if(!(0,Ge.hl)())return x.warn(ni.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,Ge.eu)()}catch(n){return x.warn(ni.create("indexeddb-unavailable",{errorInfo:n}).message),!1}return!0})).apply(this,arguments)}function pM(){return(pM=(0,q.Z)(function*(n,e,t,i,r,a,u){var f;const g=Jy(n);g.then(V=>{t[V.measurementId]=V.appId,n.options.measurementId&&V.measurementId!==n.options.measurementId&&x.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${V.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(V=>x.error(V)),e.push(g);const v=Vj().then(V=>{if(V)return i.getId()}),[D,I]=yield Promise.all([g,v]);en()||W(a,D.measurementId),r("js",new Date);const R=null!==(f=null==u?void 0:u.config)&&void 0!==f?f:{};return R[w]="firebase",R.update=!0,null!=I&&(R[y]=I),r("config",D.measurementId,R),D.measurementId})).apply(this,arguments)}class Uj{constructor(e){this.app=e}_delete(){return delete Ll[this.app.options.appId],Promise.resolve()}}let Ll={},jP=[];const HP={};let zP,Xy,vE="dataLayer",mM=!1;function Hj(n,e,t){!function jj(){const n=[];if((0,Ge.ru)()&&n.push("This is a browser extension environment."),(0,Ge.zI)()||n.push("Cookies are not available."),n.length>0){const e=n.map((i,r)=>`(${r+1}) ${i}`).join(" "),t=ni.create("invalid-analytics-context",{errorInfo:e});x.warn(t.message)}}();const i=n.options.appId;if(!i)throw ni.create("no-app-id");if(!n.options.apiKey){if(!n.options.measurementId)throw ni.create("no-api-key");x.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Ll[i])throw ni.create("already-exists",{id:i});if(!mM){!function ce(n){let e=[];Array.isArray(window[n])?e=window[n]:window[n]=e}(vE);const{wrappedGtag:a,gtagCore:u}=function Ut(n,e,t,i,r){let a=function(...u){window[i].push(arguments)};return window[r]&&"function"==typeof window[r]&&(a=window[r]),window[r]=function dt(n,e,t,i){function a(){return(a=(0,q.Z)(function*(u,f,g){try{"event"===u?yield Ze(n,e,t,f,g):"config"===u?yield Me(n,e,t,i,f,g):n("set",f)}catch(v){x.error(v)}})).apply(this,arguments)}return function r(u,f,g){return a.apply(this,arguments)}}(a,n,e,t),{gtagCore:a,wrappedGtag:window[r]}}(Ll,jP,HP,vE,"gtag");Xy=a,zP=u,mM=!0}return Ll[i]=function Bj(n,e,t,i,r,a,u){return pM.apply(this,arguments)}(n,jP,HP,e,zP,vE,t),new Uj(n)}function gM(){return(gM=(0,q.Z)(function*(n,e,t,i,r){if(r&&r.global)n("event",t,i);else{const a=yield e;n("event",t,Object.assign(Object.assign({},i),{send_to:a}))}})).apply(this,arguments)}function Zj(){return wM.apply(this,arguments)}function wM(){return(wM=(0,q.Z)(function*(){if((0,Ge.ru)()||!(0,Ge.zI)()||!(0,Ge.hl)())return!1;try{return yield(0,Ge.eu)()}catch(n){return!1}})).apply(this,arguments)}const GP="@firebase/analytics";!function Qj(){(0,Ht._registerComponent)(new Yi.wA(p,(e,{options:t})=>Hj(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),t),"PUBLIC")),(0,Ht._registerComponent)(new Yi.wA("analytics-internal",function n(e){try{const t=e.getProvider(p).getImmediate();return{logEvent:(i,r,a)=>function Kj(n,e,t,i){n=(0,Ge.m9)(n),function $j(n,e,t,i,r){return gM.apply(this,arguments)}(Xy,Ll[n.app.options.appId],e,t,i).catch(r=>x.error(r))}(t,i,r,a)}}catch(t){throw ni.create("interop-component-reg-failed",{reason:t})}},"PRIVATE")),(0,Ht.registerVersion)(GP,"0.7.8"),(0,Ht.registerVersion)(GP,"0.7.8","esm2017")}();const eH=new class Xj extends Yf{}(class Jj extends Md{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,i=0){return null!=i&&i>0||null==i&&this.delay>0?super.requestAsyncId(e,t,i):e.flush(this)}});var ev=F(9468),fm=F(5363);const bE=new c.GfV("7.3.0"),CM="__angularfire_symbol__analyticsIsSupportedValue",EM="__angularfire_symbol__analyticsIsSupported",DM="__angularfire_symbol__remoteConfigIsSupportedValue",IM="__angularfire_symbol__remoteConfigIsSupported",AM="__angularfire_symbol__messagingIsSupportedValue",SM="__angularfire_symbol__messagingIsSupported";globalThis[EM]||(globalThis[EM]=Zj().then(n=>globalThis[CM]=n).catch(()=>globalThis[CM]=!1)),globalThis[SM]||(globalThis[SM]=gE().then(n=>globalThis[AM]=n).catch(()=>globalThis[AM]=!1)),globalThis[IM]||(globalThis[IM]=qT().then(n=>globalThis[DM]=n).catch(()=>globalThis[DM]=!1));const xM=(n,e)=>{const t=e?[e]:(0,Ht.getApps)(),i=[];return t.forEach(r=>{r.container.getProvider(n).instances.forEach(u=>{i.includes(u)||i.push(u)})}),i};function pm(){}class WP{constructor(e,t=eH){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,i){const r=this.zone;return this.delegate.schedule(function(u){r.runGuarded(()=>{e.apply(this,[u])})},t,i)}}class tH{constructor(e){this.zone=e,this.task=null}call(e,t){const i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",pm,{},pm,pm)),t.pipe(ki({next:i,complete:i,error:i})).subscribe(e).add(i)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let wE=(()=>{class n{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new WP(Zone.current)),this.insideAngular=t.run(()=>new WP(Zone.current,Lc)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function mh(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function nH(n){return mh().ngZone.runOutsideAngular(()=>n())}function gh(n){return mh().ngZone.run(()=>n())}function Is(n){return mh(),function iH(n){return function(t){return(t=t.lift(new tH(n.ngZone))).pipe((0,ev.R)(n.outsideAngular),(0,fm.Q)(n.insideAngular))}}(mh())(n)}const rH=(n,e)=>function(){const i=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),gh(()=>n.apply(void 0,i))},CE=(n,e)=>function(){let t;const i=arguments;for(let a=0;a<arguments.length;a++)"function"==typeof i[a]&&(e&&(t||(t=gh(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",pm,{},pm,pm)))),i[a]=rH(i[a],t));const r=nH(()=>n.apply(this,i));if(!e){if(r instanceof zi.y){const a=mh();return r.pipe((0,ev.R)(a.outsideAngular),(0,fm.Q)(a.insideAngular))}return gh(()=>r)}return r instanceof zi.y?r.pipe(Is):r instanceof Promise?gh(()=>new Promise((a,u)=>r.then(f=>gh(()=>a(f)),f=>gh(()=>u(f))))):"function"==typeof r&&t?function(){return setTimeout(()=>{t&&"scheduled"===t.state&&t.invoke()},10),r.apply(this,arguments)}:gh(()=>r)};class mm{constructor(e){return e}}class YP{constructor(){return(0,Ht.getApps)()}}const kM=new c.OlP("angularfire2._apps"),oH={provide:mm,useFactory:function sH(n){return n&&1===n.length?n[0]:new mm((0,Ht.getApp)())},deps:[[new c.FiY,kM]]},aH={provide:YP,deps:[[new c.FiY,kM]]};function lH(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new mm(i)}}let cH=(()=>{class n{constructor(t){(0,Ht.registerVersion)("angularfire",bE.full,"core"),(0,Ht.registerVersion)("angularfire",bE.full,"app"),(0,Ht.registerVersion)("angular",c.q4F.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.Lbi))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[oH,aH]}),n})();function uH(n,...e){return{ngModule:cH,providers:[{provide:kM,useFactory:lH(n),multi:!0,deps:[c.R0b,c.zs3,wE,...e]}]}}const dH=CE(Ht.initializeApp,!0);F(573);class KP{constructor(){return xM("auth")}}const QP=new Map,mH={activated:!1,tokenObservers:[]},gH={initialized:!1,enabled:!1};function Oi(n){return QP.get(n)||mH}function Ho(n,e){QP.set(n,e)}function EE(){return gH}class wH{constructor(e,t,i,r,a){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=a,this.pending=null,this.nextErrorWaitInterval=r,r>a)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,q.Z)(function*(){t.stop();try{t.pending=new Ge.BH,yield function CH(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Ge.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(i){t.retryPolicy(i)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const xr=new Ge.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function XP(n){if(!Oi(n).activated)throw xr.create("use-before-activation",{appName:n.name})}function NM(n,e){return LM.apply(this,arguments)}function LM(){return(LM=(0,q.Z)(function*({url:n,body:e},t){const i={"Content-Type":"application/json"},r=t.getImmediate({optional:!0});if(r){const I=yield r.getHeartbeatsHeader();I&&(i["X-Firebase-Client"]=I)}const a={method:"POST",body:JSON.stringify(e),headers:i};let u,f;try{u=yield fetch(n,a)}catch(I){throw xr.create("fetch-network-error",{originalErrorMessage:I.message})}if(200!==u.status)throw xr.create("fetch-status-error",{httpStatus:u.status});try{f=yield u.json()}catch(I){throw xr.create("fetch-parse-error",{originalErrorMessage:I.message})}const g=f.ttl.match(/^([\d.]+)(s)$/);if(!g||!g[2]||isNaN(Number(g[1])))throw xr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${f.ttl}`});const v=1e3*Number(g[1]),D=Date.now();return{token:f.attestationToken,expireTimeMillis:D+v,issuedAtTimeMillis:D}})).apply(this,arguments)}function SH(n,e){const{projectId:t,appId:i,apiKey:r}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${t}/apps/${i}:exchangeDebugToken?key=${r}`,body:{debug_token:e}}}const tv="firebase-app-check-store";let AE=null;function tF(){return AE||(AE=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=i=>{n(i.target.result)},t.onerror=i=>{var r;e(xr.create("storage-open",{originalErrorMessage:null===(r=i.target.error)||void 0===r?void 0:r.message}))},t.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(tv,{keyPath:"compositeKey"})}}catch(t){e(xr.create("storage-open",{originalErrorMessage:t.message}))}}),AE)}function VM(){return(VM=(0,q.Z)(function*(n,e){const i=(yield tF()).transaction(tv,"readwrite"),a=i.objectStore(tv).put({compositeKey:n,value:e});return new Promise((u,f)=>{a.onsuccess=g=>{u()},i.onerror=g=>{var v;f(xr.create("storage-set",{originalErrorMessage:null===(v=g.target.error)||void 0===v?void 0:v.message}))}})})).apply(this,arguments)}const nv=new Kr.Yd("@firebase/app-check");function sF(n,e){return(0,Ge.hl)()?function kH(n,e){return function nF(n,e){return VM.apply(this,arguments)}(function rF(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{nv.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function oF(){return EE().enabled}function aF(){return HM.apply(this,arguments)}function HM(){return(HM=(0,q.Z)(function*(){const n=EE();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const LH={error:"UNKNOWN_ERROR"};function VH(n){return Ge.US.encodeString(JSON.stringify(n),!1)}function SE(n){return $M.apply(this,arguments)}function $M(){return($M=(0,q.Z)(function*(n,e=!1){const t=n.app;XP(t);const i=Oi(t);let a,r=i.token;if(!r){const g=yield i.cachedTokenPromise;g&&TE(g)&&(r=g)}if(!e&&r&&TE(r))return{token:r.token};let f,u=!1;if(oF()){i.exchangeTokenPromise||(i.exchangeTokenPromise=NM(SH(t,yield aF()),n.heartbeatServiceProvider).then(v=>(i.exchangeTokenPromise=void 0,v)),u=!0);const g=yield i.exchangeTokenPromise;return yield sF(t,g),Ho(t,Object.assign(Object.assign({},i),{token:g})),{token:g.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().then(g=>(i.exchangeTokenPromise=void 0,g)),u=!0),r=yield i.exchangeTokenPromise}catch(g){"appCheck/throttled"===g.code?nv.warn(g.message):nv.error(g),a=g}return r?(f={token:r.token},Ho(t,Object.assign(Object.assign({},i),{token:r})),yield sF(t,r)):f=UH(a),u&&cF(t,f),f})).apply(this,arguments)}function GM(n,e){const t=Oi(n),i=t.tokenObservers.filter(r=>r.next!==e);0===i.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),Ho(n,Object.assign(Object.assign({},t),{tokenObservers:i}))}function lF(n){const{app:e}=n,t=Oi(e);let i=t.tokenRefresher;i||(i=function BH(n){const{app:e}=n;return new wH((0,q.Z)(function*(){let i;if(i=Oi(e).token?yield SE(n,!0):yield SE(n),i.error)throw i.error}),()=>!0,()=>{const t=Oi(e);if(t.token){let i=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,t.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(n),Ho(e,Object.assign(Object.assign({},t),{tokenRefresher:i}))),!i.isRunning()&&t.isTokenAutoRefreshEnabled&&i.start()}function cF(n,e){const t=Oi(n).tokenObservers;for(const i of t)try{"EXTERNAL"===i.type&&null!=e.error?i.error(e.error):i.next(e)}catch(r){}}function TE(n){return n.expireTimeMillis-Date.now()>0}function UH(n){return{token:VH(LH),error:n}}class jH{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Oi(this.app);for(const t of e)GM(this.app,t.next);return Promise.resolve()}}const _F="app-check-internal";!function t$(){(0,Ht._registerComponent)(new Yi.wA("app-check",n=>function HH(n,e){return new jH(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(_F).initialize()})),(0,Ht._registerComponent)(new Yi.wA(_F,n=>function $H(n){return{getToken:e=>SE(n,e),addTokenListener:e=>function zM(n,e,t,i){const{app:r}=n,a=Oi(r),u={next:t,error:i,type:e};if(Ho(r,Object.assign(Object.assign({},a),{tokenObservers:[...a.tokenObservers,u]})),a.token&&TE(a.token)){const f=a.token;Promise.resolve().then(()=>{t({token:f.token}),lF(n)}).catch(()=>{})}a.cachedTokenPromise.then(()=>lF(n))}(n,"INTERNAL",e),removeTokenListener:e=>GM(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Ht.registerVersion)("@firebase/app-check","0.5.6")}();class xE{constructor(){return xM("app-check")}}"undefined"!=typeof window&&window;var Xe,o$="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Vl={},KM=KM||{},Tt=o$||self;function kE(){}function QM(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function iv(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var JM="closure_uid_"+(1e9*Math.random()>>>0),l$=0;function c$(n,e,t){return n.call.apply(n.bind,arguments)}function u$(n,e,t){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(e,r)}}return function(){return n.apply(e,arguments)}}function Ki(n,e,t){return(Ki=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?c$:u$).apply(null,arguments)}function RE(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function Qi(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(i,r,a){for(var u=Array(arguments.length-2),f=2;f<arguments.length;f++)u[f-2]=arguments[f];return e.prototype[r].apply(i,u)}}function cu(){this.s=this.s,this.o=this.o}var h$={};cu.prototype.s=!1,cu.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function a$(n){return Object.prototype.hasOwnProperty.call(n,JM)&&n[JM]||(n[JM]=++l$)}(this);delete h$[n]}},cu.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const vF=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},bF=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const i=n.length,r="string"==typeof n?n.split(""):n;for(let a=0;a<i;a++)a in r&&e.call(t,r[a],a,n)};function wF(n){return Array.prototype.concat.apply([],arguments)}function XM(n){const e=n.length;if(0<e){const t=Array(e);for(let i=0;i<e;i++)t[i]=n[i];return t}return[]}function OE(n){return/^[\s\xa0]*$/.test(n)}var Rr,CF=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function kr(n,e){return-1!=n.indexOf(e)}function ex(n,e){return n<e?-1:n>e?1:0}e:{var EF=Tt.navigator;if(EF){var DF=EF.userAgent;if(DF){Rr=DF;break e}}Rr=""}function tx(n,e,t){for(const i in n)e.call(t,n[i],i,n)}function IF(n){const e={};for(const t in n)e[t]=n[t];return e}var AF="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function SF(n,e){let t,i;for(let r=1;r<arguments.length;r++){for(t in i=arguments[r],i)n[t]=i[t];for(let a=0;a<AF.length;a++)t=AF[a],Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}}function nx(n){return nx[" "](n),n}nx[" "]=kE;var PE,n,m$=kr(Rr,"Opera"),gm=kr(Rr,"Trident")||kr(Rr,"MSIE"),TF=kr(Rr,"Edge"),ix=TF||gm,MF=kr(Rr,"Gecko")&&!(kr(Rr.toLowerCase(),"webkit")&&!kr(Rr,"Edge"))&&!(kr(Rr,"Trident")||kr(Rr,"MSIE"))&&!kr(Rr,"Edge"),g$=kr(Rr.toLowerCase(),"webkit")&&!kr(Rr,"Edge");function xF(){var n=Tt.document;return n?n.documentMode:void 0}e:{var rx="",sx=(n=Rr,MF?/rv:([^\);]+)(\)|;)/.exec(n):TF?/Edge\/([\d\.]+)/.exec(n):gm?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):g$?/WebKit\/(\S+)/.exec(n):m$?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(sx&&(rx=sx?sx[1]:""),gm){var ox=xF();if(null!=ox&&ox>parseFloat(rx)){PE=String(ox);break e}}PE=rx}var _$={};var v$=Tt.document&&gm&&(xF()||parseInt(PE,10))||void 0,b$=function(){if(!Tt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Tt.addEventListener("test",kE,e),Tt.removeEventListener("test",kE,e)}catch(t){}return n}();function hr(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function rv(n,e){if(hr.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(MF){e:{try{nx(e.nodeName);var r=!0;break e}catch(a){}r=!1}r||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:w$[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&rv.Z.h.call(this)}}hr.prototype.h=function(){this.defaultPrevented=!0},Qi(rv,hr);var w$={2:"touch",3:"pen",4:"mouse"};rv.prototype.h=function(){rv.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var sv="closure_listenable_"+(1e6*Math.random()|0),C$=0;function E$(n,e,t,i,r){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!i,this.ia=r,this.key=++C$,this.ca=this.fa=!1}function FE(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function NE(n){this.src=n,this.g={},this.h=0}function lx(n,e){var t=e.type;if(t in n.g){var a,i=n.g[t],r=vF(i,e);(a=0<=r)&&Array.prototype.splice.call(i,r,1),a&&(FE(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function cx(n,e,t,i){for(var r=0;r<n.length;++r){var a=n[r];if(!a.ca&&a.listener==e&&a.capture==!!t&&a.ia==i)return r}return-1}NE.prototype.add=function(n,e,t,i,r){var a=n.toString();(n=this.g[a])||(n=this.g[a]=[],this.h++);var u=cx(n,e,i,r);return-1<u?(e=n[u],t||(e.fa=!1)):((e=new E$(e,this.src,a,!!i,r)).fa=t,n.push(e)),e};var ux="closure_lm_"+(1e6*Math.random()|0),dx={};function RF(n,e,t,i,r){if(i&&i.once)return PF(n,e,t,i,r);if(Array.isArray(e)){for(var a=0;a<e.length;a++)RF(n,e[a],t,i,r);return null}return t=mx(t),n&&n[sv]?n.N(e,t,iv(i)?!!i.capture:!!i,r):OF(n,e,t,!1,i,r)}function OF(n,e,t,i,r,a){if(!e)throw Error("Invalid event type");var u=iv(r)?!!r.capture:!!r,f=fx(n);if(f||(n[ux]=f=new NE(n)),(t=f.add(e,t,i,u,a)).proxy)return t;if(i=function D$(){var e=I$;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=i,i.src=n,i.listener=t,n.addEventListener)b$||(r=u),void 0===r&&(r=!1),n.addEventListener(e.toString(),i,r);else if(n.attachEvent)n.attachEvent(NF(e.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return t}function PF(n,e,t,i,r){if(Array.isArray(e)){for(var a=0;a<e.length;a++)PF(n,e[a],t,i,r);return null}return t=mx(t),n&&n[sv]?n.O(e,t,iv(i)?!!i.capture:!!i,r):OF(n,e,t,!0,i,r)}function FF(n,e,t,i,r){if(Array.isArray(e))for(var a=0;a<e.length;a++)FF(n,e[a],t,i,r);else i=iv(i)?!!i.capture:!!i,t=mx(t),n&&n[sv]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=cx(a=n.g[e],t,i,r))&&(FE(a[t]),Array.prototype.splice.call(a,t,1),0==a.length&&(delete n.g[e],n.h--))):n&&(n=fx(n))&&(e=n.g[e.toString()],n=-1,e&&(n=cx(e,t,i,r)),(t=-1<n?e[n]:null)&&hx(t))}function hx(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[sv])lx(e.i,n);else{var t=n.type,i=n.proxy;e.removeEventListener?e.removeEventListener(t,i,n.capture):e.detachEvent?e.detachEvent(NF(t),i):e.addListener&&e.removeListener&&e.removeListener(i),(t=fx(e))?(lx(t,n),0==t.h&&(t.src=null,e[ux]=null)):FE(n)}}}function NF(n){return n in dx?dx[n]:dx[n]="on"+n}function I$(n,e){if(n.ca)n=!0;else{e=new rv(e,this);var t=n.listener,i=n.ia||n.src;n.fa&&hx(n),n=t.call(i,e)}return n}function fx(n){return(n=n[ux])instanceof NE?n:null}var px="__closure_events_fn_"+(1e9*Math.random()>>>0);function mx(n){return"function"==typeof n?n:(n[px]||(n[px]=function(e){return n.handleEvent(e)}),n[px])}function Pi(){cu.call(this),this.i=new NE(this),this.P=this,this.I=null}function Ji(n,e){var t,i=n.I;if(i)for(t=[];i;i=i.I)t.push(i);if(n=n.P,i=e.type||e,"string"==typeof e)e=new hr(e,n);else if(e instanceof hr)e.target=e.target||n;else{var r=e;SF(e=new hr(i,n),r)}if(r=!0,t)for(var a=t.length-1;0<=a;a--){var u=e.g=t[a];r=LE(u,i,!0,e)&&r}if(r=LE(u=e.g=n,i,!0,e)&&r,r=LE(u,i,!1,e)&&r,t)for(a=0;a<t.length;a++)r=LE(u=e.g=t[a],i,!1,e)&&r}function LE(n,e,t,i){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var r=!0,a=0;a<e.length;++a){var u=e[a];if(u&&!u.ca&&u.capture==t){var f=u.listener,g=u.ia||u.src;u.fa&&lx(n.i,u),r=!1!==f.call(g,i)&&r}}return r&&!i.defaultPrevented}Qi(Pi,cu),Pi.prototype[sv]=!0,Pi.prototype.removeEventListener=function(n,e,t,i){FF(this,n,e,t,i)},Pi.prototype.M=function(){if(Pi.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],i=0;i<t.length;i++)FE(t[i]);delete n.g[e],n.h--}}this.I=null},Pi.prototype.N=function(n,e,t,i){return this.i.add(String(n),e,!1,t,i)},Pi.prototype.O=function(n,e,t,i){return this.i.add(String(n),e,!0,t,i)};var gx=Tt.JSON.stringify;function A$(){var n=VF;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var yx,LF=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new T$,n=>n.reset());class T${constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function M$(n){Tt.setTimeout(()=>{throw n},0)}function _x(n,e){yx||function x$(){var n=Tt.Promise.resolve(void 0);yx=function(){n.then(k$)}}(),vx||(yx(),vx=!0),VF.add(n,e)}var vx=!1,VF=new class S${constructor(){this.h=this.g=null}add(e,t){const i=LF.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i}};function k$(){for(var n;n=A$();){try{n.h.call(n.g)}catch(t){M$(t)}var e=LF;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}vx=!1}function VE(n,e){Pi.call(this),this.h=n||1,this.g=e||Tt,this.j=Ki(this.kb,this),this.l=Date.now()}function bx(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function wx(n,e,t){if("function"==typeof n)t&&(n=Ki(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Ki(n.handleEvent,n)}return 2147483647<Number(e)?-1:Tt.setTimeout(n,e||0)}function BF(n){n.g=wx(()=>{n.g=null,n.i&&(n.i=!1,BF(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Qi(VE,Pi),(Xe=VE.prototype).da=!1,Xe.S=null,Xe.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Ji(this,"tick"),this.da&&(bx(this),this.start()))}},Xe.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Xe.M=function(){VE.Z.M.call(this),bx(this),delete this.g};class R$ extends cu{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:BF(this)}M(){super.M(),this.g&&(Tt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ov(n){cu.call(this),this.h=n,this.g={}}Qi(ov,cu);var UF=[];function jF(n,e,t,i){Array.isArray(t)||(t&&(UF[0]=t.toString()),t=UF);for(var r=0;r<t.length;r++){var a=RF(e,t[r],i||n.handleEvent,!1,n.h||n);if(!a)break;n.g[a.key]=a}}function HF(n){tx(n.g,function(e,t){this.g.hasOwnProperty(t)&&hx(e)},n),n.g={}}function BE(){this.g=!0}function _m(n,e,t,i){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function N$(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var i=t[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var a=r[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var u=1;u<r.length;u++)r[u]=""}}}return gx(t)}catch(f){return e}}(n,t)+(i?" "+i:"")})}ov.prototype.M=function(){ov.Z.M.call(this),HF(this)},ov.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},BE.prototype.Aa=function(){this.g=!1},BE.prototype.info=function(){};var _h={},$F=null;function UE(){return $F=$F||new Pi}function zF(n){hr.call(this,_h.Ma,n)}function av(n){const e=UE();Ji(e,new zF(e,n))}function GF(n,e){hr.call(this,_h.STAT_EVENT,n),this.stat=e}function Or(n){const e=UE();Ji(e,new GF(e,n))}function qF(n,e){hr.call(this,_h.Na,n),this.size=e}function lv(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Tt.setTimeout(function(){n()},e)}_h.Ma="serverreachability",Qi(zF,hr),_h.STAT_EVENT="statevent",Qi(GF,hr),_h.Na="timingevent",Qi(qF,hr);var jE={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},WF={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Cx(){}function ZF(){}Cx.prototype.h=null;var Ix,cv={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Ex(){hr.call(this,"d")}function Dx(){hr.call(this,"c")}function HE(){}function uv(n,e,t,i){this.l=n,this.j=e,this.m=t,this.X=i||1,this.V=new ov(this),this.P=L$,this.W=new VE(n=ix?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new KF}function KF(){this.i=null,this.g="",this.h=!1}Qi(Ex,hr),Qi(Dx,hr),Qi(HE,Cx),HE.prototype.g=function(){return new XMLHttpRequest},HE.prototype.i=function(){return{}},Ix=new HE;var L$=45e3,Ax={},$E={};function Sx(n,e,t){n.K=1,n.v=YE(Bl(e)),n.s=t,n.U=!0,QF(n,null)}function QF(n,e){n.F=Date.now(),dv(n),n.A=Bl(n.v);var t=n.A,i=n.X;Array.isArray(i)||(i=[String(i)]),oN(t.h,"t",i),n.C=0,t=n.l.H,n.h=new KF,n.g=MN(n.l,t?e:null,!n.s),0<n.O&&(n.L=new R$(Ki(n.Ia,n,n.g),n.O)),jF(n.V,n.g,"readystatechange",n.gb),e=n.H?IF(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),av(1),function O$(n,e,t,i,r,a){n.info(function(){if(n.g)if(a)for(var u="",f=a.split("&"),g=0;g<f.length;g++){var v=f[g].split("=");if(1<v.length){var D=v[0];v=v[1];var I=D.split("_");u=2<=I.length&&"type"==I[1]?u+(D+"=")+v+"&":u+(D+"=redacted&")}}else u=null;else u=a;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+"\n"+t+"\n"+u})}(n.j,n.u,n.A,n.m,n.X,n.s)}function JF(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function XF(n,e,t){let r,i=!0;for(;!n.I&&n.C<t.length;){if(r=V$(n,t),r==$E){4==e&&(n.o=4,Or(14),i=!1),_m(n.j,n.m,null,"[Incomplete Response]");break}if(r==Ax){n.o=4,Or(15),_m(n.j,n.m,t,"[Invalid Chunk]"),i=!1;break}_m(n.j,n.m,r,null),Tx(n,r)}JF(n)&&r!=$E&&r!=Ax&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Or(16),i=!1),n.i=n.i&&i,i?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),Bx(e),e.L=!0,Or(11))):(_m(n.j,n.m,t,"[Invalid Chunked Response]"),yh(n),hv(n))}function V$(n,e){var t=n.C,i=e.indexOf("\n",t);return-1==i?$E:(t=Number(e.substring(t,i)),isNaN(t)?Ax:(i+=1)+t>e.length?$E:(e=e.substr(i,t),n.C=i+t,e))}function dv(n){n.Y=Date.now()+n.P,eN(n,n.P)}function eN(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=lv(Ki(n.eb,n),e)}function zE(n){n.B&&(Tt.clearTimeout(n.B),n.B=null)}function hv(n){0==n.l.G||n.I||IN(n.l,n)}function yh(n){zE(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,bx(n.W),HF(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function Tx(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||kx(t.i,n)))if(t.I=n.N,!n.J&&kx(t.i,n)&&3==t.G){try{var i=t.Ca.g.parse(e)}catch(v){i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0])e:if(t.u)t.ta=r[1],0<t.ta-t.U&&37500>r[2]&&t.N&&0==t.A&&!t.v&&(t.v=lv(Ki(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;eD(t),JE(t)}Vx(t),Or(18)}if(1>=cN(t.i)&&t.ka){try{t.ka()}catch(v){}t.ka=void 0}}else wh(t,11)}else if((n.J||t.g==n)&&eD(t),!OE(e))for(r=t.Ca.g.parse(e),e=0;e<r.length;e++){let v=r[e];if(t.U=v[0],v=v[1],2==t.G)if("c"==v[0]){t.J=v[1],t.la=v[2];const D=v[3];null!=D&&(t.ma=D,t.h.info("VER="+t.ma));const I=v[4];null!=I&&(t.za=I,t.h.info("SVER="+t.za));const R=v[5];null!=R&&"number"==typeof R&&0<R&&(t.K=i=1.5*R,t.h.info("backChannelRequestTimeoutMs_="+i)),i=t;const V=n.g;if(V){const H=V.g?V.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(H){var a=i.i;!a.g&&(kr(H,"spdy")||kr(H,"quic")||kr(H,"h2"))&&(a.j=a.l,a.g=new Set,a.h&&(Rx(a,a.h),a.h=null))}if(i.D){const J=V.g?V.g.getResponseHeader("X-HTTP-Session-Id"):null;J&&(i.sa=J,Rn(i.F,i.D,J))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var u=n;if((i=t).oa=TN(i,i.H?i.la:null,i.W),u.J){uN(i.i,u);var f=u,g=i.K;g&&f.setTimeout(g),f.B&&(zE(f),dv(f)),i.g=u}else EN(i);0<t.l.length&&XE(t)}else"stop"!=v[0]&&"close"!=v[0]||wh(t,7);else 3==t.G&&("stop"==v[0]||"close"==v[0]?"stop"==v[0]?wh(t,7):Nx(t):"noop"!=v[0]&&t.j&&t.j.wa(v),t.A=0)}av(4)}catch(v){}}function Mx(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(QM(n)||"string"==typeof n)bF(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(QM(n)||"string"==typeof n){t=[];for(var i=n.length,r=0;r<i;r++)t.push(r)}else for(r in t=[],i=0,n)t[i++]=r;i=function B$(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(QM(n)){for(var e=[],t=n.length,i=0;i<t;i++)e.push(n[i]);return e}for(i in e=[],t=0,n)e[t++]=n[i];return e}(n),r=i.length;for(var a=0;a<r;a++)e.call(void 0,i[a],t&&t[a],n)}}function ym(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var i=0;i<t;i+=2)this.set(arguments[i],arguments[i+1])}else if(n)if(n instanceof ym)for(t=n.T(),i=0;i<t.length;i++)this.set(t[i],n.get(t[i]));else for(i in n)this.set(i,n[i])}function xx(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var i=n.g[e];vh(n.h,i)&&(n.g[t++]=i),e++}n.g.length=t}if(n.i!=n.g.length){var r={};for(t=e=0;e<n.g.length;)vh(r,i=n.g[e])||(n.g[t++]=i,r[i]=1),e++;n.g.length=t}}function vh(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(Xe=uv.prototype).setTimeout=function(n){this.P=n},Xe.gb=function(n){n=n.target;const e=this.L;e&&3==Ul(n)?e.l():this.Ia(n)},Xe.Ia=function(n){try{if(n==this.g)e:{const D=Ul(this.g);var e=this.g.Da();const I=this.g.ba();if(!(3>D)&&(3!=D||ix||this.g&&(this.h.h||this.g.ga()||yN(this.g)))){this.I||4!=D||7==e||av(8==e||0>=I?3:2),zE(this);var t=this.g.ba();this.N=t;t:if(JF(this)){var i=yN(this.g);n="";var r=i.length,a=4==Ul(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){yh(this),hv(this);var u="";break t}this.h.i=new Tt.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,n+=this.h.i.decode(i[e],{stream:a&&e==r-1});i.splice(0,r),this.h.g+=n,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==t,function P$(n,e,t,i,r,a,u){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+"\n"+t+"\n"+a+" "+u})}(this.j,this.u,this.A,this.m,this.X,D,t),this.i){if(this.$&&!this.J){t:{if(this.g){var f,g=this.g;if((f=g.g?g.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!OE(f)){var v=f;break t}}v=null}if(!(t=v)){this.i=!1,this.o=3,Or(12),yh(this),hv(this);break e}_m(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Tx(this,t)}this.U?(XF(this,D,u),ix&&this.i&&3==D&&(jF(this.V,this.W,"tick",this.fb),this.W.start())):(_m(this.j,this.m,u,null),Tx(this,u)),4==D&&yh(this),this.i&&!this.I&&(4==D?IN(this.l,this):(this.i=!1,dv(this)))}else 400==t&&0<u.indexOf("Unknown SID")?(this.o=3,Or(12)):(this.o=0,Or(13)),yh(this),hv(this)}}}catch(D){}},Xe.fb=function(){if(this.g){var n=Ul(this.g),e=this.g.ga();this.C<e.length&&(zE(this),XF(this,n,e),this.i&&4!=n&&dv(this))}},Xe.cancel=function(){this.I=!0,yh(this)},Xe.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function F$(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(av(3),Or(17)),yh(this),this.o=2,hv(this)):eN(this,this.Y-n)},(Xe=ym.prototype).R=function(){xx(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},Xe.T=function(){return xx(this),this.g.concat()},Xe.get=function(n,e){return vh(this.h,n)?this.h[n]:e},Xe.set=function(n,e){vh(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},Xe.forEach=function(n,e){for(var t=this.T(),i=0;i<t.length;i++){var r=t[i],a=this.get(r);n.call(e,a,r,this)}};var tN=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function bh(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof bh){this.g=void 0!==e?e:n.g,GE(this,n.j),this.s=n.s,qE(this,n.i),WE(this,n.m),this.l=n.l,e=n.h;var t=new mv;t.i=e.i,e.g&&(t.g=new ym(e.g),t.h=e.h),nN(this,t),this.o=n.o}else n&&(t=String(n).match(tN))?(this.g=!!e,GE(this,t[1]||"",!0),this.s=fv(t[2]||""),qE(this,t[3]||"",!0),WE(this,t[4]),this.l=fv(t[5]||"",!0),nN(this,t[6]||"",!0),this.o=fv(t[7]||"")):(this.g=!!e,this.h=new mv(null,this.g))}function Bl(n){return new bh(n)}function GE(n,e,t){n.j=t?fv(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function qE(n,e,t){n.i=t?fv(e,!0):e}function WE(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function nN(n,e,t){e instanceof mv?(n.h=e,function Y$(n,e){e&&!n.j&&(uu(n),n.i=null,n.g.forEach(function(t,i){var r=i.toLowerCase();i!=r&&(rN(this,i),oN(this,r,t))},n)),n.j=e}(n.h,n.g)):(t||(e=pv(e,q$)),n.h=new mv(e,n.g))}function Rn(n,e,t){n.h.set(e,t)}function YE(n){return Rn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function fv(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function pv(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,$$),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function $$(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}bh.prototype.toString=function(){var n=[],e=this.j;e&&n.push(pv(e,iN,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(pv(e,iN,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(pv(t,"/"==t.charAt(0)?G$:z$,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",pv(t,W$)),n.join("")};var iN=/[#\/\?@]/g,z$=/[#\?:]/g,G$=/[#\?]/g,q$=/[#\?@]/g,W$=/#/g;function mv(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function uu(n){n.g||(n.g=new ym,n.h=0,n.i&&function U$(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var i=n[t].indexOf("="),r=null;if(0<=i){var a=n[t].substring(0,i);r=n[t].substring(i+1)}else a=n[t];e(a,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function rN(n,e){uu(n),e=vm(n,e),vh(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,vh((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&xx(n)))}function sN(n,e){return uu(n),e=vm(n,e),vh(n.g.h,e)}function oN(n,e,t){rN(n,e),0<t.length&&(n.i=null,n.g.set(vm(n,e),XM(t)),n.h+=t.length)}function vm(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function aN(n){this.l=n||K$,n=Tt.PerformanceNavigationTiming?0<(n=Tt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Tt.g&&Tt.g.Ea&&Tt.g.Ea()&&Tt.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Xe=mv.prototype).add=function(n,e){uu(this),this.i=null,n=vm(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},Xe.forEach=function(n,e){uu(this),this.g.forEach(function(t,i){bF(t,function(r){n.call(e,r,i,this)},this)},this)},Xe.T=function(){uu(this);for(var n=this.g.R(),e=this.g.T(),t=[],i=0;i<e.length;i++)for(var r=n[i],a=0;a<r.length;a++)t.push(e[i]);return t},Xe.R=function(n){uu(this);var e=[];if("string"==typeof n)sN(this,n)&&(e=wF(e,this.g.get(vm(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=wF(e,n[t])}return e},Xe.set=function(n,e){return uu(this),this.i=null,sN(this,n=vm(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},Xe.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},Xe.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var i=e[t],r=encodeURIComponent(String(i));i=this.R(i);for(var a=0;a<i.length;a++){var u=r;""!==i[a]&&(u+="="+encodeURIComponent(String(i[a]))),n.push(u)}}return this.i=n.join("&")};var K$=10;function lN(n){return!!n.h||!!n.g&&n.g.size>=n.j}function cN(n){return n.h?1:n.g?n.g.size:0}function kx(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function Rx(n,e){n.g?n.g.add(e):n.h=e}function uN(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function dN(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return XM(n.i)}function Ox(){}function Q$(){this.g=new Ox}function J$(n,e,t){const i=t||"";try{Mx(n,function(r,a){let u=r;iv(r)&&(u=gx(r)),e.push(i+a+"="+encodeURIComponent(u))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function ZE(n,e,t,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch(a){}}function gv(n){this.l=n.$b||null,this.j=n.ib||!1}function KE(n,e){Pi.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=Px,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}aN.prototype.cancel=function(){if(this.i=dN(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},Ox.prototype.stringify=function(n){return Tt.JSON.stringify(n,void 0)},Ox.prototype.parse=function(n){return Tt.JSON.parse(n,void 0)},Qi(gv,Cx),gv.prototype.g=function(){return new KE(this.l,this.j)},gv.prototype.i=function(n){return function(){return n}}({}),Qi(KE,Pi);var Px=0;function hN(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function _v(n){n.readyState=4,n.l=null,n.j=null,n.A=null,yv(n)}function yv(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Xe=KE.prototype).open=function(n,e){if(this.readyState!=Px)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,yv(this)},Xe.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||Tt).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},Xe.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,_v(this)),this.readyState=Px},Xe.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,yv(this)),this.g&&(this.readyState=3,yv(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Tt.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;hN(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},Xe.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?_v(this):yv(this),3==this.readyState&&hN(this)}},Xe.Ua=function(n){this.g&&(this.response=this.responseText=n,_v(this))},Xe.Ta=function(n){this.g&&(this.response=n,_v(this))},Xe.ha=function(){this.g&&_v(this)},Xe.setRequestHeader=function(n,e){this.v.append(n,e)},Xe.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Xe.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(KE.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var e3=Tt.JSON.parse;function di(n){Pi.call(this),this.headers=new ym,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=fN,this.K=this.L=!1}Qi(di,Pi);var fN="",t3=/^https?$/i,n3=["POST","PUT"];function r3(n){return"content-type"==n.toLowerCase()}function pN(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,mN(n),QE(n)}function mN(n){n.D||(n.D=!0,Ji(n,"complete"),Ji(n,"error"))}function gN(n){if(n.h&&void 0!==KM&&(!n.C[1]||4!=Ul(n)||2!=n.ba()))if(n.v&&4==Ul(n))wx(n.Fa,0,n);else if(Ji(n,"readystatechange"),4==Ul(n)){n.h=!1;try{const f=n.ba();e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var i;if(i=0===f){var r=String(n.H).match(tN)[1]||null;if(!r&&Tt.self&&Tt.self.location){var a=Tt.self.location.protocol;r=a.substr(0,a.length-1)}i=!t3.test(r?r.toLowerCase():"")}t=i}if(t)Ji(n,"complete"),Ji(n,"success");else{n.m=6;try{var u=2<Ul(n)?n.g.statusText:""}catch(g){u=""}n.j=u+" ["+n.ba()+"]",mN(n)}}finally{QE(n)}}}function QE(n,e){if(n.g){_N(n);const t=n.g,i=n.C[0]?kE:null;n.g=null,n.C=null,e||Ji(n,"ready");try{t.onreadystatechange=i}catch(r){}}}function _N(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Tt.clearTimeout(n.A),n.A=null)}function Ul(n){return n.g?n.g.readyState:0}function yN(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case fN:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Fx(n,e,t){e:{for(i in t){var i=!1;break e}i=!0}i||(t=function s3(n){let e="";return tx(n,function(t,i){e+=i,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Rn(n,e,t))}function vv(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function vN(n){this.za=0,this.l=[],this.h=new BE,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=vv("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=vv("baseRetryDelayMs",5e3,n),this.$a=vv("retryDelaySeedMs",1e4,n),this.Ya=vv("forwardChannelMaxRetries",2,n),this.ra=vv("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new aN(n&&n.concurrentRequestLimit),this.Ca=new Q$,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function Nx(n){if(bN(n),3==n.G){var e=n.V++,t=Bl(n.F);Rn(t,"SID",n.J),Rn(t,"RID",e),Rn(t,"TYPE","terminate"),bv(n,t),(e=new uv(n,n.h,e,void 0)).K=2,e.v=YE(Bl(t)),t=!1,Tt.navigator&&Tt.navigator.sendBeacon&&(t=Tt.navigator.sendBeacon(e.v.toString(),"")),!t&&Tt.Image&&((new Image).src=e.v,t=!0),t||(e.g=MN(e.l,null),e.g.ea(e.v)),e.F=Date.now(),dv(e)}SN(n)}function JE(n){n.g&&(Bx(n),n.g.cancel(),n.g=null)}function bN(n){JE(n),n.u&&(Tt.clearTimeout(n.u),n.u=null),eD(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Tt.clearTimeout(n.m),n.m=null)}function Lx(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&XE(n)}function XE(n){lN(n.i)||n.m||(n.m=!0,_x(n.Ha,n),n.C=0)}function wN(n,e){var t;t=e?e.m:n.V++;const i=Bl(n.F);Rn(i,"SID",n.J),Rn(i,"RID",t),Rn(i,"AID",n.U),bv(n,i),n.o&&n.s&&Fx(i,n.o,n.s),t=new uv(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=CN(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),Rx(n.i,t),Sx(t,i,e)}function bv(n,e){n.j&&Mx({},function(t,i){Rn(e,i,t)})}function CN(n,e,t){t=Math.min(n.l.length,t);var i=n.j?Ki(n.j.Oa,n.j,n):null;e:{var r=n.l;let a=-1;for(;;){const u=["count="+t];-1==a?0<t?(a=r[0].h,u.push("ofs="+a)):a=0:u.push("ofs="+a);let f=!0;for(let g=0;g<t;g++){let v=r[g].h;const D=r[g].g;if(v-=a,0>v)a=Math.max(0,r[g].h-100),f=!1;else try{J$(D,u,"req"+v+"_")}catch(I){i&&i(D)}}if(f){i=u.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,i}function EN(n){n.g||n.u||(n.Y=1,_x(n.Ga,n),n.A=0)}function Vx(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=lv(Ki(n.Ga,n),AN(n,n.A)),n.A++,0))}function Bx(n){null!=n.B&&(Tt.clearTimeout(n.B),n.B=null)}function DN(n){n.g=new uv(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=Bl(n.oa);Rn(e,"RID","rpc"),Rn(e,"SID",n.J),Rn(e,"CI",n.N?"0":"1"),Rn(e,"AID",n.U),bv(n,e),Rn(e,"TYPE","xmlhttp"),n.o&&n.s&&Fx(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=YE(Bl(e)),t.s=null,t.U=!0,QF(t,n)}function eD(n){null!=n.v&&(Tt.clearTimeout(n.v),n.v=null)}function IN(n,e){var t=null;if(n.g==e){eD(n),Bx(n),n.g=null;var i=2}else{if(!kx(n.i,e))return;t=e.D,uN(n.i,e),i=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==i){t=e.s?e.s.length:0,e=Date.now()-e.F;var r=n.C;Ji(i=UE(),new qF(i,t,e,r)),XE(n)}else EN(n);else if(3==(r=e.o)||0==r&&0<n.I||!(1==i&&function o3(n,e){return!(cN(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=lv(Ki(n.Ha,n,e),AN(n,n.C)),n.C++,0)))}(n,e)||2==i&&Vx(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),r){case 1:wh(n,5);break;case 4:wh(n,10);break;case 3:wh(n,6);break;default:wh(n,2)}}function AN(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function wh(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var i=Ki(n.jb,n);t||(t=new bh("//www.google.com/images/cleardot.gif"),Tt.location&&"http"==Tt.location.protocol||GE(t,"https"),YE(t)),function X$(n,e){const t=new BE;if(Tt.Image){const i=new Image;i.onload=RE(ZE,t,i,"TestLoadImage: loaded",!0,e),i.onerror=RE(ZE,t,i,"TestLoadImage: error",!1,e),i.onabort=RE(ZE,t,i,"TestLoadImage: abort",!1,e),i.ontimeout=RE(ZE,t,i,"TestLoadImage: timeout",!1,e),Tt.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else e(!1)}(t.toString(),i)}else Or(2);n.G=0,n.j&&n.j.va(e),SN(n),bN(n)}function SN(n){n.G=0,n.I=-1,n.j&&((0!=dN(n.i).length||0!=n.l.length)&&(n.i.i.length=0,XM(n.l),n.l.length=0),n.j.ua())}function TN(n,e,t){let i=function j$(n){return n instanceof bh?Bl(n):new bh(n,void 0)}(t);if(""!=i.i)e&&qE(i,e+"."+i.i),WE(i,i.m);else{const r=Tt.location;i=function H$(n,e,t,i){var r=new bh(null,void 0);return n&&GE(r,n),e&&qE(r,e),t&&WE(r,t),i&&(r.l=i),r}(r.protocol,e?e+"."+r.hostname:r.hostname,+r.port,t)}return n.aa&&tx(n.aa,function(r,a){Rn(i,a,r)}),t=n.sa,(e=n.D)&&t&&Rn(i,e,t),Rn(i,"VER",n.ma),bv(n,i),i}function MN(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new di(t&&n.Ba&&!n.qa?new gv({ib:!0}):n.qa)).L=n.H,e}function xN(){}function tD(){if(gm&&!(10<=Number(v$)))throw Error("Environmental error: no available transport.")}function As(n,e){Pi.call(this),this.g=new vN(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!OE(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!OE(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new bm(this)}function kN(n){Ex.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function RN(){Dx.call(this),this.status=1}function bm(n){this.g=n}(Xe=di.prototype).ea=function(n,e,t,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Ix.g(),this.C=function YF(n){return n.h||(n.h=n.i())}(this.u?this.u:Ix),this.g.onreadystatechange=Ki(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(a){return void pN(this,a)}n=t||"";const r=new ym(this.headers);i&&Mx(i,function(a,u){r.set(u,a)}),i=function f$(n){e:{var e=r3;const t=n.length,i="string"==typeof n?n.split(""):n;for(let r=0;r<t;r++)if(r in i&&e.call(void 0,i[r],r,n)){e=r;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(r.T()),t=Tt.FormData&&n instanceof Tt.FormData,!(0<=vF(n3,e))||i||t||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),r.forEach(function(a,u){this.g.setRequestHeader(u,a)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{_N(this),0<this.B&&((this.K=function i3(n){return gm&&function y$(){return function p$(n){var e=_$;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=CF(String(PE)).split("."),t=CF("9").split("."),i=Math.max(e.length,t.length);for(let u=0;0==n&&u<i;u++){var r=e[u]||"",a=t[u]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==r[0].length&&0==a[0].length)break;n=ex(0==r[1].length?0:parseInt(r[1],10),0==a[1].length?0:parseInt(a[1],10))||ex(0==r[2].length,0==a[2].length)||ex(r[2],a[2]),r=r[3],a=a[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ki(this.pa,this)):this.A=wx(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(a){pN(this,a)}},Xe.pa=function(){void 0!==KM&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ji(this,"timeout"),this.abort(8))},Xe.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Ji(this,"complete"),Ji(this,"abort"),QE(this))},Xe.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),QE(this,!0)),di.Z.M.call(this)},Xe.Fa=function(){this.s||(this.F||this.v||this.l?gN(this):this.cb())},Xe.cb=function(){gN(this)},Xe.ba=function(){try{return 2<Ul(this)?this.g.status:-1}catch(n){return-1}},Xe.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},Xe.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),e3(e)}},Xe.Da=function(){return this.m},Xe.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(Xe=vN.prototype).ma=8,Xe.G=1,Xe.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},Xe.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const r=new uv(this,this.h,n,void 0);let a=this.s;if(this.P&&(a?(a=IF(a),SF(a,this.P)):a=this.P),null===this.o&&(r.H=a),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var i=this.l[t];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=CN(this,r,e),Rn(t=Bl(this.F),"RID",n),Rn(t,"CVER",22),this.D&&Rn(t,"X-HTTP-Session-Id",this.D),bv(this,t),this.o&&a&&Fx(t,this.o,a),Rx(this.i,r),this.Ra&&Rn(t,"TYPE","init"),this.ja?(Rn(t,"$req",e),Rn(t,"SID","null"),r.$=!0,Sx(r,t,null)):Sx(r,t,e),this.G=2}}else 3==this.G&&(n?wN(this,n):0==this.l.length||lN(this.i)||wN(this))},Xe.Ga=function(){if(this.u=null,DN(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=lv(Ki(this.bb,this),n)}},Xe.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Or(10),JE(this),DN(this))},Xe.ab=function(){null!=this.v&&(this.v=null,JE(this),Vx(this),Or(19))},Xe.jb=function(n){n?(this.h.info("Successfully pinged google.com"),Or(2)):(this.h.info("Failed to ping google.com"),Or(1))},(Xe=xN.prototype).xa=function(){},Xe.wa=function(){},Xe.va=function(){},Xe.ua=function(){},Xe.Oa=function(){},tD.prototype.g=function(n,e){return new As(n,e)},Qi(As,Pi),As.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),_x(Ki(n.hb,n,e))),Or(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=TN(n,null,n.W),XE(n)},As.prototype.close=function(){Nx(this.g)},As.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,Lx(this.g,e)}else this.v?((e={}).__data__=gx(n),Lx(this.g,e)):Lx(this.g,n)},As.prototype.M=function(){this.g.j=null,delete this.j,Nx(this.g),delete this.g,As.Z.M.call(this)},Qi(kN,Ex),Qi(RN,Dx),Qi(bm,xN),bm.prototype.xa=function(){Ji(this.g,"a")},bm.prototype.wa=function(n){Ji(this.g,new kN(n))},bm.prototype.va=function(n){Ji(this.g,new RN(n))},bm.prototype.ua=function(){Ji(this.g,"b")},tD.prototype.createWebChannel=tD.prototype.g,As.prototype.send=As.prototype.u,As.prototype.open=As.prototype.m,As.prototype.close=As.prototype.close,jE.NO_ERROR=0,jE.TIMEOUT=8,jE.HTTP_ERROR=6,WF.COMPLETE="complete",ZF.EventType=cv,cv.OPEN="a",cv.CLOSE="b",cv.ERROR="c",cv.MESSAGE="d",Pi.prototype.listen=Pi.prototype.N,di.prototype.listenOnce=di.prototype.O,di.prototype.getLastError=di.prototype.La,di.prototype.getLastErrorCode=di.prototype.Da,di.prototype.getStatus=di.prototype.ba,di.prototype.getResponseJson=di.prototype.Qa,di.prototype.getResponseText=di.prototype.ga,di.prototype.send=di.prototype.ea;var a3=Vl.createWebChannelTransport=function(){return new tD},l3=Vl.getStatEventTarget=function(){return UE()},Ux=Vl.ErrorCode=jE,c3=Vl.EventType=WF,u3=Vl.Event=_h,ON=Vl.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},d3=Vl.FetchXmlHttpFactory=gv,nD=Vl.WebChannel=ZF,h3=Vl.XhrIo=di;const PN="@firebase/firestore";class Xi{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Xi.UNAUTHENTICATED=new Xi(null),Xi.GOOGLE_CREDENTIALS=new Xi("google-credentials-uid"),Xi.FIRST_PARTY=new Xi("first-party-uid"),Xi.MOCK_USER=new Xi("mock-user");let wm="9.6.11";const du=new Kr.Yd("@firebase/firestore");function jx(){return du.logLevel}function xe(n,...e){if(du.logLevel<=Kr.in.DEBUG){const t=e.map(Hx);du.debug(`Firestore (${wm}): ${n}`,...t)}}function hi(n,...e){if(du.logLevel<=Kr.in.ERROR){const t=e.map(Hx);du.error(`Firestore (${wm}): ${n}`,...t)}}function wv(n,...e){if(du.logLevel<=Kr.in.WARN){const t=e.map(Hx);du.warn(`Firestore (${wm}): ${n}`,...t)}}function Hx(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function tt(n="Unexpected state"){const e=`FIRESTORE (${wm}) INTERNAL ASSERTION FAILED: `+n;throw hi(e),new Error(e)}function Et(n,e){n||tt()}function He(n,e){return n}const ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class we extends Ge.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Fi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class FN{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class m3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Xi.UNAUTHENTICATED))}shutdown(){}}class g3{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class _3{constructor(e){this.t=e,this.currentUser=Xi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var i=this;let r=this.i;const a=v=>this.i!==r?(r=this.i,t(v)):Promise.resolve();let u=new Fi;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Fi,e.enqueueRetryable(()=>a(this.currentUser))};const f=()=>{const v=u;e.enqueueRetryable((0,q.Z)(function*(){yield v.promise,yield a(i.currentUser)}))},g=v=>{xe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.auth.addAuthTokenListener(this.o),f()};this.t.onInit(v=>g(v)),setTimeout(()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?g(v):(xe("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Fi)}},0),f()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(xe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Et("string"==typeof i.accessToken),new FN(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Et(null===e||"string"==typeof e),new Xi(e)}}class y3{constructor(e,t,i){this.type="FirstParty",this.user=Xi.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const r=e.auth.getAuthHeaderValueForFirstParty([]);r&&this.headers.set("Authorization",r),i&&this.headers.set("X-Goog-Iam-Authorization-Token",i)}}class v3{constructor(e,t,i){this.h=e,this.l=t,this.m=i}getToken(){return Promise.resolve(new y3(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Xi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class NN{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class b3{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const i=a=>{null!=a.error&&xe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.p;return this.p=a.token,xe("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>i(a))};const r=a=>{xe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.appCheck.addTokenListener(this.o)};this.g.onInit(a=>r(a)),setTimeout(()=>{if(!this.appCheck){const a=this.g.getImmediate({optional:!0});a?r(a):xe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Et("string"==typeof t.token),this.p=t.token,new NN(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class Ss{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.I(i),this.T=i=>t.writeSequenceNumber(i))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function w3(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}Ss.A=-1;class LN{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const r=w3(40);for(let a=0;a<r.length;++a)i.length<20&&r[a]<t&&(i+=e.charAt(r[a]%e.length))}return i}}function Pt(n,e){return n<e?-1:n>e?1:0}function Cm(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}function VN(n){return n+"\0"}class On{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new we(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new we(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new we(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new we(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return On.fromMillis(Date.now())}static fromDate(e){return On.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new On(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Pt(this.nanoseconds,e.nanoseconds):Pt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class bt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new bt(e)}static min(){return new bt(new On(0,0))}static max(){return new bt(new On(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function BN(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ch(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function UN(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class Cv{constructor(e,t,i){void 0===t?t=0:t>e.length&&tt(),void 0===i?i=e.length-t:i>e.length-t&&tt(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===Cv.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Cv?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const a=e.get(r),u=t.get(r);if(a<u)return-1;if(a>u)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Kt extends Cv{construct(e,t,i){return new Kt(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new we(ie.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new Kt(t)}static emptyPath(){return new Kt([])}}const C3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ni extends Cv{construct(e,t,i){return new Ni(e,t,i)}static isValidIdentifier(e){return C3.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ni.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ni(["__name__"])}static fromServerFormat(e){const t=[];let i="",r=0;const a=()=>{if(0===i.length)throw new we(ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let u=!1;for(;r<e.length;){const f=e[r];if("\\"===f){if(r+1===e.length)throw new we(ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[r+1];if("\\"!==g&&"."!==g&&"`"!==g)throw new we(ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=g,r+=2}else"`"===f?(u=!u,r++):"."!==f||u?(i+=f,r++):(a(),r++)}if(a(),u)throw new we(ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ni(t)}static emptyPath(){return new Ni([])}}class Em{constructor(e){this.fields=e,e.sort(Ni.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Cm(this.fields,e.fields,(t,i)=>t.isEqual(i))}}class Ci{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Ci(t)}static fromUint8Array(e){const t=function(i){let r="";for(let a=0;a<i.length;++a)r+=String.fromCharCode(i[a]);return r}(e);return new Ci(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Pt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ci.EMPTY_BYTE_STRING=new Ci("");const D3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function hu(n){if(Et(!!n),"string"==typeof n){let e=0;const t=D3.exec(n);if(Et(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:qn(n.seconds),nanos:qn(n.nanos)}}function qn(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Eh(n){return"string"==typeof n?Ci.fromBase64String(n):Ci.fromUint8Array(n)}function $x(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function jN(n){const e=n.mapValue.fields.__previous_value__;return $x(e)?jN(e):e}function Ev(n){const e=hu(n.mapValue.fields.__local_write_time__.timestampValue);return new On(e.seconds,e.nanos)}class I3{constructor(e,t,i,r,a,u,f,g){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=f,this.useFetchStreams=g}}class jl{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new jl("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof jl&&e.projectId===this.projectId&&e.database===this.database}}function Dh(n){return null==n}function Dv(n){return 0===n&&1/n==-1/0}function HN(n){return"number"==typeof n&&Number.isInteger(n)&&!Dv(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class Ne{constructor(e){this.path=e}static fromPath(e){return new Ne(Kt.fromString(e))}static fromName(e){return new Ne(Kt.fromString(e).popFirst(5))}static empty(){return new Ne(Kt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Kt.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Kt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ne(new Kt(e.slice()))}}const $N={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},zN={nullValue:"NULL_VALUE"};function Ih(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?$x(n)?4:YN(n)?9:10:tt()}function Ma(n,e){if(n===e)return!0;const t=Ih(n);if(t!==Ih(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Ev(n).isEqual(Ev(e));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const a=hu(i.timestampValue),u=hu(r.timestampValue);return a.seconds===u.seconds&&a.nanos===u.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return r=e,Eh(n.bytesValue).isEqual(Eh(r.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,r){return qn(i.geoPointValue.latitude)===qn(r.geoPointValue.latitude)&&qn(i.geoPointValue.longitude)===qn(r.geoPointValue.longitude)}(n,e);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return qn(i.integerValue)===qn(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const a=qn(i.doubleValue),u=qn(r.doubleValue);return a===u?Dv(a)===Dv(u):isNaN(a)&&isNaN(u)}return!1}(n,e);case 9:return Cm(n.arrayValue.values||[],e.arrayValue.values||[],Ma);case 10:return function(i,r){const a=i.mapValue.fields||{},u=r.mapValue.fields||{};if(BN(a)!==BN(u))return!1;for(const f in a)if(a.hasOwnProperty(f)&&(void 0===u[f]||!Ma(a[f],u[f])))return!1;return!0}(n,e);default:return tt()}var r}function Iv(n,e){return void 0!==(n.values||[]).find(t=>Ma(t,e))}function fu(n,e){if(n===e)return 0;const t=Ih(n),i=Ih(e);if(t!==i)return Pt(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Pt(n.booleanValue,e.booleanValue);case 2:return function(r,a){const u=qn(r.integerValue||r.doubleValue),f=qn(a.integerValue||a.doubleValue);return u<f?-1:u>f?1:u===f?0:isNaN(u)?isNaN(f)?0:-1:1}(n,e);case 3:return GN(n.timestampValue,e.timestampValue);case 4:return GN(Ev(n),Ev(e));case 5:return Pt(n.stringValue,e.stringValue);case 6:return function(r,a){const u=Eh(r),f=Eh(a);return u.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(r,a){const u=r.split("/"),f=a.split("/");for(let g=0;g<u.length&&g<f.length;g++){const v=Pt(u[g],f[g]);if(0!==v)return v}return Pt(u.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(r,a){const u=Pt(qn(r.latitude),qn(a.latitude));return 0!==u?u:Pt(qn(r.longitude),qn(a.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(r,a){const u=r.values||[],f=a.values||[];for(let g=0;g<u.length&&g<f.length;++g){const v=fu(u[g],f[g]);if(v)return v}return Pt(u.length,f.length)}(n.arrayValue,e.arrayValue);case 10:return function(r,a){const u=r.fields||{},f=Object.keys(u),g=a.fields||{},v=Object.keys(g);f.sort(),v.sort();for(let D=0;D<f.length&&D<v.length;++D){const I=Pt(f[D],v[D]);if(0!==I)return I;const R=fu(u[f[D]],g[v[D]]);if(0!==R)return R}return Pt(f.length,v.length)}(n.mapValue,e.mapValue);default:throw tt()}}function GN(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Pt(n,e);const t=hu(n),i=hu(e),r=Pt(t.seconds,i.seconds);return 0!==r?r:Pt(t.nanos,i.nanos)}function Dm(n){return zx(n)}function zx(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=hu(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Eh(n.bytesValue).toBase64():"referenceValue"in n?Ne.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(i){let r="[",a=!0;for(const u of i.values||[])a?a=!1:r+=",",r+=zx(u);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let a="{",u=!0;for(const f of r)u?u=!1:a+=",",a+=`${f}:${zx(i.fields[f])}`;return a+"}"}(n.mapValue):tt();var e}function Ah(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Gx(n){return!!n&&"integerValue"in n}function Av(n){return!!n&&"arrayValue"in n}function qN(n){return!!n&&"nullValue"in n}function WN(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function iD(n){return!!n&&"mapValue"in n}function Sv(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Ch(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Sv(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Sv(n.arrayValue.values[t]);return e}return Object.assign({},n)}function YN(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function A3(n){return"nullValue"in n?zN:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Ah(jl.empty(),Ne.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:tt()}function S3(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Ah(jl.empty(),Ne.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?$N:tt()}function ZN(n,e){return void 0===n?e:void 0===e||fu(n,e)>0?n:e}function KN(n,e){return void 0===n?e:void 0===e||fu(n,e)<0?n:e}class fr{constructor(e){this.value=e}static empty(){return new fr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!iD(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Sv(t)}setAll(e){let t=Ni.emptyPath(),i={},r=[];e.forEach((u,f)=>{if(!t.isImmediateParentOf(f)){const g=this.getFieldsMap(t);this.applyChanges(g,i,r),i={},r=[],t=f.popLast()}u?i[f.lastSegment()]=Sv(u):r.push(f.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,i,r)}delete(e){const t=this.field(e.popLast());iD(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ma(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];iD(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){Ch(t,(r,a)=>e[r]=a);for(const r of i)delete e[r]}clone(){return new fr(Sv(this.value))}}function QN(n){const e=[];return Ch(n.fields,(t,i)=>{const r=new Ni([t]);if(iD(i)){const a=QN(i.mapValue).fields;if(0===a.length)e.push(r);else for(const u of a)e.push(r.child(u))}else e.push(r)}),new Em(e)}class En{constructor(e,t,i,r,a,u){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.data=a,this.documentState=u}static newInvalidDocument(e){return new En(e,0,bt.min(),bt.min(),fr.empty(),0)}static newFoundDocument(e,t,i){return new En(e,1,t,bt.min(),i,0)}static newNoDocument(e,t){return new En(e,2,t,bt.min(),fr.empty(),0)}static newUnknownDocument(e,t){return new En(e,3,t,bt.min(),fr.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=fr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=fr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof En&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new En(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class rD{constructor(e,t,i,r){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=r}}function qx(n){return n.fields.find(e=>2===e.kind)}function Sh(n){return n.fields.filter(e=>2!==e.kind)}rD.UNKNOWN_ID=-1;class sD{constructor(e,t){this.fieldPath=e,this.kind=t}}class Tv{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Tv(0,Hl.min())}}function JN(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=bt.fromTimestamp(1e9===i?new On(t+1,0):new On(t,i));return new Hl(r,Ne.empty(),e)}function T3(n){return new Hl(n.readTime,n.key,-1)}class Hl{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Hl(bt.min(),Ne.empty(),-1)}static max(){return new Hl(bt.max(),Ne.empty(),-1)}}function M3(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Ne.comparator(n.documentKey,e.documentKey),0!==t?t:Pt(n.largestBatchId,e.largestBatchId))}class x3{constructor(e,t=null,i=[],r=[],a=null,u=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=a,this.startAt=u,this.endAt=f,this.P=null}}function XN(n,e=null,t=[],i=[],r=null,a=null,u=null){return new x3(n,e,t,i,r,a,u)}function Th(n){const e=He(n);if(null===e.P){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>{return(r=i).field.canonicalString()+r.op.toString()+Dm(r.value);var r}).join(","),t+="|ob:",t+=e.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),Dh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Dm(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Dm(i)).join(",")),e.P=t}return e.P}function Mv(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<n.orderBy.length;r++)if(!B3(n.orderBy[r],e.orderBy[r]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let r=0;r<n.filters.length;r++)if((t=n.filters[r]).op!==(i=e.filters[r]).op||!t.field.isEqual(i.field)||!Ma(t.value,i.value))return!1;var t,i;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!rL(n.startAt,e.startAt)&&rL(n.endAt,e.endAt)}function oD(n){return Ne.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function aD(n,e){return n.filters.filter(t=>t instanceof er&&t.field.isEqual(e))}function eL(n,e,t){let i,r=!0;for(const a of aD(n,e)){let u,f=!0;switch(a.op){case"<":case"<=":u=A3(a.value);break;case"==":case"in":case">=":u=a.value;break;case">":u=a.value,f=!1;break;case"!=":case"not-in":u=zN}ZN(i,u)===u&&(i=u,r=f)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const u=t.position[a];ZN(i,u)===u&&(i=u,r=t.inclusive);break}return{value:i,inclusive:r}}function tL(n,e,t){let i,r=!0;for(const a of aD(n,e)){let u,f=!0;switch(a.op){case">=":case">":u=S3(a.value),f=!1;break;case"==":case"in":case"<=":u=a.value;break;case"<":u=a.value,f=!1;break;case"!=":case"not-in":u=$N}KN(i,u)===u&&(i=u,r=f)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const u=t.position[a];KN(i,u)===u&&(i=u,r=t.inclusive);break}return{value:i,inclusive:r}}class er extends class{}{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,i):new R3(e,t,i):"array-contains"===t?new F3(e,i):"in"===t?new N3(e,i):"not-in"===t?new L3(e,i):"array-contains-any"===t?new V3(e,i):new er(e,t,i)}static V(e,t,i){return"in"===t?new O3(e,i):new P3(e,i)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(fu(t,this.value)):null!==t&&Ih(this.value)===Ih(t)&&this.v(fu(t,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return tt()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class R3 extends er{constructor(e,t,i){super(e,t,i),this.key=Ne.fromName(i.referenceValue)}matches(e){const t=Ne.comparator(e.key,this.key);return this.v(t)}}class O3 extends er{constructor(e,t){super(e,"in",t),this.keys=nL(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class P3 extends er{constructor(e,t){super(e,"not-in",t),this.keys=nL(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function nL(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(i=>Ne.fromName(i.referenceValue))}class F3 extends er{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Av(t)&&Iv(t.arrayValue,this.value)}}class N3 extends er{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Iv(this.value.arrayValue,t)}}class L3 extends er{constructor(e,t){super(e,"not-in",t)}matches(e){if(Iv(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Iv(this.value.arrayValue,t)}}class V3 extends er{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Av(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Iv(this.value.arrayValue,i))}}class pu{constructor(e,t){this.position=e,this.inclusive=t}}class Im{constructor(e,t="asc"){this.field=e,this.dir=t}}function B3(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function iL(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){const a=e[r],u=n.position[r];if(i=a.field.isKeyField()?Ne.comparator(Ne.fromName(u.referenceValue),t.key):fu(u,t.data.field(a.field)),"desc"===a.dir&&(i*=-1),0!==i)break}return i}function rL(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ma(n.position[t],e.position[t]))return!1;return!0}class $l{constructor(e,t=null,i=[],r=[],a=null,u="F",f=null,g=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=a,this.limitType=u,this.startAt=f,this.endAt=g,this.D=null,this.C=null}}function sL(n,e,t,i,r,a,u,f){return new $l(n,e,t,i,r,a,u,f)}function Am(n){return new $l(n)}function lD(n){return!Dh(n.limit)&&"F"===n.limitType}function cD(n){return!Dh(n.limit)&&"L"===n.limitType}function Wx(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Yx(n){for(const e of n.filters)if(e.S())return e.field;return null}function Zx(n){return null!==n.collectionGroup}function Sm(n){const e=He(n);if(null===e.D){e.D=[];const t=Yx(e),i=Wx(e);if(null!==t&&null===i)t.isKeyField()||e.D.push(new Im(t)),e.D.push(new Im(Ni.keyField(),"asc"));else{let r=!1;for(const a of e.explicitOrderBy)e.D.push(a),a.field.isKeyField()&&(r=!0);if(!r){const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.D.push(new Im(Ni.keyField(),a))}}}return e.D}function Xs(n){const e=He(n);if(!e.C)if("F"===e.limitType)e.C=XN(e.path,e.collectionGroup,Sm(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const a of Sm(e))t.push(new Im(a.field,"desc"===a.dir?"asc":"desc"));const i=e.endAt?new pu(e.endAt.position,!e.endAt.inclusive):null,r=e.startAt?new pu(e.startAt.position,!e.startAt.inclusive):null;e.C=XN(e.path,e.collectionGroup,t,e.filters,e.limit,i,r)}return e.C}function oL(n,e,t){return new $l(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function xv(n,e){return Mv(Xs(n),Xs(e))&&n.limitType===e.limitType}function aL(n){return`${Th(Xs(n))}|lt:${n.limitType}`}function Kx(n){return`Query(target=${function k3(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(i=t).field.canonicalString()} ${i.op} ${Dm(i.value)}`;var i}).join(", ")}]`),Dh(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(i=t).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>Dm(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>Dm(t)).join(",")),`Target(${e})`}(Xs(n))}; limitType=${n.limitType})`}function Qx(n,e){return e.isFoundDocument()&&function(t,i){const r=i.key.path;return null!==t.collectionGroup?i.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(r):Ne.isDocumentKey(t.path)?t.path.isEqual(r):t.path.isImmediateParentOf(r)}(n,e)&&function(t,i){for(const r of t.explicitOrderBy)if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,e)&&function(t,i){for(const r of t.filters)if(!r.matches(i))return!1;return!0}(n,e)&&(i=e,!((t=n).startAt&&!function(r,a,u){const f=iL(r,a,u);return r.inclusive?f<=0:f<0}(t.startAt,Sm(t),i)||t.endAt&&!function(r,a,u){const f=iL(r,a,u);return r.inclusive?f>=0:f>0}(t.endAt,Sm(t),i)));var t,i}function lL(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function cL(n){return(e,t)=>{let i=!1;for(const r of Sm(n)){const a=U3(r,e,t);if(0!==a)return a;i=i||r.field.isKeyField()}return 0}}function U3(n,e,t){const i=n.field.isKeyField()?Ne.comparator(e.key,t.key):function(r,a,u){const f=a.data.field(r),g=u.data.field(r);return null!==f&&null!==g?fu(f,g):tt()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return tt()}}function uL(n,e){if(n.N){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Dv(e)?"-0":e}}function dL(n){return{integerValue:""+n}}function hL(n,e){return HN(e)?dL(e):uL(n,e)}class uD{constructor(){this._=void 0}}function j3(n,e,t){return n instanceof Tm?function(i,r){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&(a.fields.__previous_value__=r),{mapValue:a}}(t,e):n instanceof Mh?pL(n,e):n instanceof xh?mL(n,e):function(i,r){const a=fL(i,r),u=gL(a)+gL(i.k);return Gx(a)&&Gx(i.k)?dL(u):uL(i.M,u)}(n,e)}function H3(n,e,t){return n instanceof Mh?pL(n,e):n instanceof xh?mL(n,e):t}function fL(n,e){return n instanceof Mm?Gx(t=e)||(i=t)&&"doubleValue"in i?e:{integerValue:0}:null;var i,t}class Tm extends uD{}class Mh extends uD{constructor(e){super(),this.elements=e}}function pL(n,e){const t=_L(e);for(const i of n.elements)t.some(r=>Ma(r,i))||t.push(i);return{arrayValue:{values:t}}}class xh extends uD{constructor(e){super(),this.elements=e}}function mL(n,e){let t=_L(e);for(const i of n.elements)t=t.filter(r=>!Ma(r,i));return{arrayValue:{values:t}}}class Mm extends uD{constructor(e,t){super(),this.M=e,this.k=t}}function gL(n){return qn(n.integerValue||n.doubleValue)}function _L(n){return Av(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class kv{constructor(e,t){this.field=e,this.transform=t}}class z3{constructor(e,t){this.version=e,this.transformResults=t}}class fi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new fi}static exists(e){return new fi(void 0,e)}static updateTime(e){return new fi(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function dD(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class hD{}function G3(n,e,t){n instanceof Rv?function(i,r,a){const u=i.value.clone(),f=wL(i.fieldTransforms,r,a.transformResults);u.setAll(f),r.convertToFoundDocument(a.version,u).setHasCommittedMutations()}(n,e,t):n instanceof kh?function(i,r,a){if(!dD(i.precondition,r))return void r.convertToUnknownDocument(a.version);const u=wL(i.fieldTransforms,r,a.transformResults),f=r.data;f.setAll(bL(i)),f.setAll(u),r.convertToFoundDocument(a.version,f).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Jx(n,e,t){var r;n instanceof Rv?function(i,r,a){if(!dD(i.precondition,r))return;const u=i.value.clone(),f=CL(i.fieldTransforms,a,r);u.setAll(f),r.convertToFoundDocument(vL(r),u).setHasLocalMutations()}(n,e,t):n instanceof kh?function(i,r,a){if(!dD(i.precondition,r))return;const u=CL(i.fieldTransforms,a,r),f=r.data;f.setAll(bL(i)),f.setAll(u),r.convertToFoundDocument(vL(r),f).setHasLocalMutations()}(n,e,t):dD(n.precondition,r=e)&&r.convertToNoDocument(bt.min())}function q3(n,e){let t=null;for(const i of n.fieldTransforms){const r=e.data.field(i.field),a=fL(i.transform,r||null);null!=a&&(null==t&&(t=fr.empty()),t.set(i.field,a))}return t||null}function yL(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===i||t&&i&&Cm(t,i,(r,a)=>function $3(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(t=n.transform)instanceof Mh&&i instanceof Mh||t instanceof xh&&i instanceof xh?Cm(t.elements,i.elements,Ma):t instanceof Mm&&i instanceof Mm?Ma(t.k,i.k):t instanceof Tm&&i instanceof Tm);var t,i}(r,a))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,i}function vL(n){return n.isFoundDocument()?n.version:bt.min()}class Rv extends hD{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}}class kh extends hD{constructor(e,t,i,r,a=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=a,this.type=1}}function bL(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function wL(n,e,t){const i=new Map;Et(n.length===t.length);for(let r=0;r<t.length;r++){const a=n[r],u=a.transform,f=e.data.field(a.field);i.set(a.field,H3(u,f,t[r]))}return i}function CL(n,e,t){const i=new Map;for(const r of n){const a=r.transform,u=t.data.field(r.field);i.set(r.field,j3(a,u,e))}return i}class Ov extends hD{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class Xx extends hD{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class W3{constructor(e){this.count=e}}var pi,Qt;function EL(n){switch(n){default:return tt();case ie.CANCELLED:case ie.UNKNOWN:case ie.DEADLINE_EXCEEDED:case ie.RESOURCE_EXHAUSTED:case ie.INTERNAL:case ie.UNAVAILABLE:case ie.UNAUTHENTICATED:return!1;case ie.INVALID_ARGUMENT:case ie.NOT_FOUND:case ie.ALREADY_EXISTS:case ie.PERMISSION_DENIED:case ie.FAILED_PRECONDITION:case ie.ABORTED:case ie.OUT_OF_RANGE:case ie.UNIMPLEMENTED:case ie.DATA_LOSS:return!0}}function DL(n){if(void 0===n)return hi("GRPC error has no .code"),ie.UNKNOWN;switch(n){case pi.OK:return ie.OK;case pi.CANCELLED:return ie.CANCELLED;case pi.UNKNOWN:return ie.UNKNOWN;case pi.DEADLINE_EXCEEDED:return ie.DEADLINE_EXCEEDED;case pi.RESOURCE_EXHAUSTED:return ie.RESOURCE_EXHAUSTED;case pi.INTERNAL:return ie.INTERNAL;case pi.UNAVAILABLE:return ie.UNAVAILABLE;case pi.UNAUTHENTICATED:return ie.UNAUTHENTICATED;case pi.INVALID_ARGUMENT:return ie.INVALID_ARGUMENT;case pi.NOT_FOUND:return ie.NOT_FOUND;case pi.ALREADY_EXISTS:return ie.ALREADY_EXISTS;case pi.PERMISSION_DENIED:return ie.PERMISSION_DENIED;case pi.FAILED_PRECONDITION:return ie.FAILED_PRECONDITION;case pi.ABORTED:return ie.ABORTED;case pi.OUT_OF_RANGE:return ie.OUT_OF_RANGE;case pi.UNIMPLEMENTED:return ie.UNIMPLEMENTED;case pi.DATA_LOSS:return ie.DATA_LOSS;default:return tt()}}(Qt=pi||(pi={}))[Qt.OK=0]="OK",Qt[Qt.CANCELLED=1]="CANCELLED",Qt[Qt.UNKNOWN=2]="UNKNOWN",Qt[Qt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Qt[Qt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Qt[Qt.NOT_FOUND=5]="NOT_FOUND",Qt[Qt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Qt[Qt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Qt[Qt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Qt[Qt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Qt[Qt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Qt[Qt.ABORTED=10]="ABORTED",Qt[Qt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Qt[Qt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Qt[Qt.INTERNAL=13]="INTERNAL",Qt[Qt.UNAVAILABLE=14]="UNAVAILABLE",Qt[Qt.DATA_LOSS=15]="DATA_LOSS";class mu{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(const[r,a]of i)if(this.equalsFn(r,e))return a}has(e){return void 0!==this.get(e)}set(e,t){const i=this.mapKeyFn(e),r=this.inner[i];if(void 0===r)return this.inner[i]=[[e,t]],void this.innerSize++;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return void(r[a]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return 1===i.length?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Ch(this.inner,(t,i)=>{for(const[r,a]of i)e(r,a)})}isEmpty(){return UN(this.inner)}size(){return this.innerSize}}class ii{constructor(e,t){this.comparator=e,this.root=t||tr.EMPTY}insert(e,t){return new ii(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,tr.BLACK,null,null))}remove(e){return new ii(this.comparator,this.root.remove(e,this.comparator).copy(null,null,tr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(0===r)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new fD(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new fD(this.root,e,this.comparator,!1)}getReverseIterator(){return new fD(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new fD(this.root,e,this.comparator,!0)}}class fD{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?i(e.key,t):1,t&&r&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(0===a){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class tr{constructor(e,t,i,r,a){this.key=e,this.value=t,this.color=null!=i?i:tr.RED,this.left=null!=r?r:tr.EMPTY,this.right=null!=a?a:tr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,a){return new tr(null!=e?e:this.key,null!=t?t:this.value,null!=i?i:this.color,null!=r?r:this.left,null!=a?a:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const a=i(e,r.key);return r=a<0?r.copy(null,null,null,r.left.insert(e,t,i),null):0===a?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return tr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return tr.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,tr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,tr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw tt();const e=this.left.check();if(e!==this.right.check())throw tt();return e+(this.isRed()?0:1)}}tr.EMPTY=null,tr.RED=!0,tr.BLACK=!1,tr.EMPTY=new class{constructor(){this.size=0}get key(){throw tt()}get value(){throw tt()}get color(){throw tt()}get left(){throw tt()}get right(){throw tt()}copy(n,e,t,i,r){return this}insert(n,e,t){return new tr(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Dn{constructor(e){this.comparator=e,this.data=new ii(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new IL(this.data.getIterator())}getIteratorFrom(e){return new IL(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof Dn)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,a=i.getNext().key;if(0!==this.comparator(r,a))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Dn(this.comparator);return t.data=e,t}}class IL{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function xm(n){return n.hasNext()?n.getNext():void 0}const Y3=new ii(Ne.comparator);function eo(){return Y3}const Z3=new ii(Ne.comparator);function ek(){return Z3}function Pv(){return new mu(n=>n.toString(),(n,e)=>n.isEqual(e))}const K3=new ii(Ne.comparator),Q3=new Dn(Ne.comparator);function an(...n){let e=Q3;for(const t of n)e=e.add(t);return e}const J3=new Dn(Pt);function pD(){return J3}class Fv{constructor(e,t,i,r,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t){const i=new Map;return i.set(e,Nv.createSynthesizedTargetChangeForCurrentChange(e,t)),new Fv(bt.min(),i,pD(),eo(),an())}}class Nv{constructor(e,t,i,r,a){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t){return new Nv(Ci.EMPTY_BYTE_STRING,t,an(),an(),an())}}class mD{constructor(e,t,i,r){this.O=e,this.removedTargetIds=t,this.key=i,this.F=r}}class AL{constructor(e,t){this.targetId=e,this.$=t}}class SL{constructor(e,t,i=Ci.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}}class TL{constructor(){this.B=0,this.L=xL(),this.U=Ci.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}get current(){return this.q}get resumeToken(){return this.U}get G(){return 0!==this.B}get j(){return this.K}W(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}H(){let e=an(),t=an(),i=an();return this.L.forEach((r,a)=>{switch(a){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:tt()}}),new Nv(this.U,this.q,e,t,i)}J(){this.K=!1,this.L=xL()}Y(e,t){this.K=!0,this.L=this.L.insert(e,t)}X(e){this.K=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.K=!0,this.q=!0}}class X3{constructor(e){this.nt=e,this.st=new Map,this.it=eo(),this.rt=ML(),this.ot=new Dn(Pt)}ut(e){for(const t of e.O)e.F&&e.F.isFoundDocument()?this.at(t,e.F):this.ct(t,e.key,e.F);for(const t of e.removedTargetIds)this.ct(t,e.key,e.F)}ht(e){this.forEachTarget(e,t=>{const i=this.lt(t);switch(e.state){case 0:this.ft(t)&&i.W(e.resumeToken);break;case 1:i.tt(),i.G||i.J(),i.W(e.resumeToken);break;case 2:i.tt(),i.G||this.removeTarget(t);break;case 3:this.ft(t)&&(i.et(),i.W(e.resumeToken));break;case 4:this.ft(t)&&(this.dt(t),i.W(e.resumeToken));break;default:tt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((i,r)=>{this.ft(r)&&t(r)})}_t(e){const t=e.targetId,i=e.$.count,r=this.wt(t);if(r){const a=r.target;if(oD(a))if(0===i){const u=new Ne(a.path);this.ct(t,u,En.newNoDocument(u,bt.min()))}else Et(1===i);else this.gt(t)!==i&&(this.dt(t),this.ot=this.ot.add(t))}}yt(e){const t=new Map;this.st.forEach((a,u)=>{const f=this.wt(u);if(f){if(a.current&&oD(f.target)){const g=new Ne(f.target.path);null!==this.it.get(g)||this.It(u,g)||this.ct(u,g,En.newNoDocument(g,e))}a.j&&(t.set(u,a.H()),a.J())}});let i=an();this.rt.forEach((a,u)=>{let f=!0;u.forEachWhile(g=>{const v=this.wt(g);return!v||2===v.purpose||(f=!1,!1)}),f&&(i=i.add(a))}),this.it.forEach((a,u)=>u.setReadTime(e));const r=new Fv(e,t,this.ot,this.it,i);return this.it=eo(),this.rt=ML(),this.ot=new Dn(Pt),r}at(e,t){if(!this.ft(e))return;const i=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,i),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}ct(e,t,i){if(!this.ft(e))return;const r=this.lt(e);this.It(e,t)?r.Y(t,1):r.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),i&&(this.it=this.it.insert(t,i))}removeTarget(e){this.st.delete(e)}gt(e){const t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let t=this.st.get(e);return t||(t=new TL,this.st.set(e,t)),t}Tt(e){let t=this.rt.get(e);return t||(t=new Dn(Pt),this.rt=this.rt.insert(e,t)),t}ft(e){const t=null!==this.wt(e);return t||xe("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.st.get(e);return t&&t.G?null:this.nt.Et(e)}dt(e){this.st.set(e,new TL),this.nt.getRemoteKeysForTarget(e).forEach(t=>{this.ct(e,t,null)})}It(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}function ML(){return new ii(Ne.comparator)}function xL(){return new ii(Ne.comparator)}const ez={asc:"ASCENDING",desc:"DESCENDING"},tz={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class nz{constructor(e,t){this.databaseId=e,this.N=t}}function Lv(n,e){return n.N?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function kL(n,e){return n.N?e.toBase64():e.toUint8Array()}function iz(n,e){return Lv(n,e.toTimestamp())}function Li(n){return Et(!!n),bt.fromTimestamp(function(e){const t=hu(e);return new On(t.seconds,t.nanos)}(n))}function tk(n,e){return(t=n,new Kt(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function RL(n){const e=Kt.fromString(n);return Et(jL(e)),e}function Vv(n,e){return tk(n.databaseId,e.path)}function xa(n,e){const t=RL(e);if(t.get(1)!==n.databaseId.projectId)throw new we(ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new we(ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ne(PL(t))}function nk(n,e){return tk(n.databaseId,e)}function OL(n){const e=RL(n);return 4===e.length?Kt.emptyPath():PL(e)}function Bv(n){return new Kt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function PL(n){return Et(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function FL(n,e,t){return{name:Vv(n,e),fields:t.value.mapValue.fields}}function NL(n,e,t){const i=xa(n,e.name),r=Li(e.updateTime),a=new fr({mapValue:{fields:e.fields}}),u=En.newFoundDocument(i,r,a);return t&&u.setHasCommittedMutations(),t?u.setHasCommittedMutations():u}function Uv(n,e){let t;if(e instanceof Rv)t={update:FL(n,e.key,e.value)};else if(e instanceof Ov)t={delete:Vv(n,e.key)};else if(e instanceof kh)t={update:FL(n,e.key,e.data),updateMask:hz(e.fieldMask)};else{if(!(e instanceof Xx))return tt();t={verify:Vv(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(r,a){const u=a.transform;if(u instanceof Tm)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Mh)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof xh)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Mm)return{fieldPath:a.field.canonicalString(),increment:u.k};throw tt()}(0,i))),e.precondition.isNone||(t.currentDocument=void 0!==(r=e.precondition).updateTime?{updateTime:iz(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:tt()),t;var r}function ik(n,e){const t=e.currentDocument?void 0!==(r=e.currentDocument).updateTime?fi.updateTime(Li(r.updateTime)):void 0!==r.exists?fi.exists(r.exists):fi.none():fi.none(),i=e.updateTransforms?e.updateTransforms.map(r=>function(a,u){let f=null;"setToServerValue"in u?(Et("REQUEST_TIME"===u.setToServerValue),f=new Tm):"appendMissingElements"in u?f=new Mh(u.appendMissingElements.values||[]):"removeAllFromArray"in u?f=new xh(u.removeAllFromArray.values||[]):"increment"in u?f=new Mm(a,u.increment):tt();const g=Ni.fromServerFormat(u.fieldPath);return new kv(g,f)}(n,r)):[];var r;if(e.update){const r=xa(n,e.update.name),a=new fr({mapValue:{fields:e.update.fields}});if(e.updateMask){const u=new Em((e.updateMask.fieldPaths||[]).map(v=>Ni.fromServerFormat(v)));return new kh(r,a,u,t,i)}return new Rv(r,a,t,i)}if(e.delete){const r=xa(n,e.delete);return new Ov(r,t)}if(e.verify){const r=xa(n,e.verify);return new Xx(r,t)}return tt()}function LL(n,e){return{documents:[nk(n,e.path)]}}function VL(n,e){const t={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(t.parent=nk(n,i),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=nk(n,i.popLast()),t.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(g){if(0===g.length)return;const v=g.map(D=>function(I){if("=="===I.op){if(WN(I.value))return{unaryFilter:{field:km(I.field),op:"IS_NAN"}};if(qN(I.value))return{unaryFilter:{field:km(I.field),op:"IS_NULL"}}}else if("!="===I.op){if(WN(I.value))return{unaryFilter:{field:km(I.field),op:"IS_NOT_NAN"}};if(qN(I.value))return{unaryFilter:{field:km(I.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:km(I.field),op:cz(I.op),value:I.value}}}(D));return 1===v.length?v[0]:{compositeFilter:{op:"AND",filters:v}}}(e.filters);r&&(t.structuredQuery.where=r);const a=function(g){if(0!==g.length)return g.map(v=>{return{field:km((D=v).field),direction:lz(D.dir)};var D})}(e.orderBy);a&&(t.structuredQuery.orderBy=a);const u=(v=e.limit,n.N||Dh(v)?v:{value:v});var v,f,g;return null!==u&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt={before:(f=e.startAt).inclusive,values:f.position}),e.endAt&&(t.structuredQuery.endAt={before:!(g=e.endAt).inclusive,values:g.position}),t}function BL(n){let e=OL(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let r=null;if(i>0){Et(1===i);const D=t.from[0];D.allDescendants?r=D.collectionId:e=e.child(D.collectionId)}let a=[];t.where&&(a=UL(t.where));let u=[];t.orderBy&&(u=t.orderBy.map(D=>{return new Im(Rm((I=D).field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(I.direction));var I}));let f=null;t.limit&&(f=function(D){let I;return I="object"==typeof D?D.value:D,Dh(I)?null:I}(t.limit));let g=null;var D;t.startAt&&(g=new pu((D=t.startAt).values||[],!!D.before));let v=null;return t.endAt&&(v=function(D){return new pu(D.values||[],!D.before)}(t.endAt)),sL(e,r,u,a,f,"F",g,v)}function UL(n){return n?void 0!==n.unaryFilter?[dz(n)]:void 0!==n.fieldFilter?[uz(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>UL(e)).reduce((e,t)=>e.concat(t)):tt():[]}function lz(n){return ez[n]}function cz(n){return tz[n]}function km(n){return{fieldPath:n.canonicalString()}}function Rm(n){return Ni.fromServerFormat(n.fieldPath)}function uz(n){return er.create(Rm(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return tt()}}(n.fieldFilter.op),n.fieldFilter.value)}function dz(n){switch(n.unaryFilter.op){case"IS_NAN":const e=Rm(n.unaryFilter.field);return er.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=Rm(n.unaryFilter.field);return er.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Rm(n.unaryFilter.field);return er.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=Rm(n.unaryFilter.field);return er.create(r,"!=",{nullValue:"NULL_VALUE"});default:return tt()}}function hz(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function jL(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Pr(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=HL(e)),e=fz(n.get(t),e);return HL(e)}function fz(n,e){let t=e;const i=n.length;for(let r=0;r<i;r++){const a=n.charAt(r);switch(a){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=a}}return t}function HL(n){return n+"\x01\x01"}function ka(n){const e=n.length;if(Et(e>=2),2===e)return Et("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Kt.emptyPath();const t=e-2,i=[];let r="";for(let a=0;a<e;){const u=n.indexOf("\x01",a);switch((u<0||u>t)&&tt(),n.charAt(u+1)){case"\x01":const f=n.substring(a,u);let g;0===r.length?g=f:(r+=f,g=r,r=""),i.push(g);break;case"\x10":r+=n.substring(a,u),r+="\0";break;case"\x11":r+=n.substring(a,u+1);break;default:tt()}a=u+2}return new Kt(i)}const $L=["userId","batchId"];function gD(n,e){return[n,Pr(e)]}function zL(n,e,t){return[n,Pr(e),t]}const pz={},mz=["prefixPath","collectionGroup","readTime","documentId"],gz=["prefixPath","collectionGroup","documentId"],_z=["collectionGroup","readTime","prefixPath","documentId"],yz=["canonicalId","targetId"],vz=["targetId","path"],bz=["path","targetId"],wz=["collectionId","parent"],Cz=["indexId","uid"],Ez=["uid","sequenceNumber"],Dz=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Iz=["indexId","uid","orderedDocumentKey"],Az=["userId","collectionPath","documentId"],Sz=["userId","collectionPath","largestBatchId"],Tz=["userId","collectionGroup","largestBatchId"],GL=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Mz=[...GL,"documentOverlays"],qL=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],xz=[...qL,"indexConfiguration","indexState","indexEntries"],WL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class YL{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class ae{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&tt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ae((i,r)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(i,r)},this.catchCallback=a=>{this.wrapFailure(t,a).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ae?t:ae.resolve(t)}catch(t){return ae.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ae.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ae.reject(t)}static resolve(e){return new ae((t,i)=>{t(e)})}static reject(e){return new ae((t,i)=>{i(e)})}static waitFor(e){return new ae((t,i)=>{let r=0,a=0,u=!1;e.forEach(f=>{++r,f.next(()=>{++a,u&&a===r&&t()},g=>i(g))}),u=!0,a===r&&t()})}static or(e){let t=ae.resolve(!1);for(const i of e)t=t.next(r=>r?ae.resolve(r):i());return t}static forEach(e,t){const i=[];return e.forEach((r,a)=>{i.push(t.call(this,r,a))}),this.waitFor(i)}}class _D{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.At=new Fi,this.transaction.oncomplete=()=>{this.At.resolve()},this.transaction.onabort=()=>{t.error?this.At.reject(new jv(e,t.error)):this.At.resolve()},this.transaction.onerror=i=>{const r=rk(i.target.error);this.At.reject(new jv(e,r))}}static open(e,t,i,r){try{return new _D(t,e.transaction(r,i))}catch(a){throw new jv(t,a)}}get Rt(){return this.At.promise}abort(e){e&&this.At.reject(e),this.aborted||(xe("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}Pt(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Rz(t)}}class $o{constructor(e,t,i){this.name=e,this.version=t,this.bt=i,12.2===$o.Vt((0,Ge.z$)())&&hi("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return xe("SimpleDb","Removing database:",e),Oh(window.indexedDB.deleteDatabase(e)).toPromise()}static vt(){if(!(0,Ge.hl)())return!1;if($o.St())return!0;const e=(0,Ge.z$)(),t=$o.Vt(e),i=0<t&&t<10,r=$o.Dt(e),a=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||a)}static St(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Ct)}static xt(e,t){return e.store(t)}static Vt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static Dt(e){const t=e.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}Nt(e){var t=this;return(0,q.Z)(function*(){return t.db||(xe("SimpleDb","Opening database:",t.name),t.db=yield new Promise((i,r)=>{const a=indexedDB.open(t.name,t.version);a.onsuccess=u=>{i(u.target.result)},a.onblocked=()=>{r(new jv(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=u=>{const f=u.target.error;r("VersionError"===f.name?new we(ie.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===f.name?new we(ie.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+f):new jv(e,f))},a.onupgradeneeded=u=>{xe("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',u.oldVersion),t.bt.kt(u.target.result,a.transaction,u.oldVersion,t.version).next(()=>{xe("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.Mt&&(t.db.onversionchange=i=>t.Mt(i)),t.db})()}Ot(e){this.Mt=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,i,r){var a=this;return(0,q.Z)(function*(){const u="readonly"===t;let f=0;for(;;){++f;try{a.db=yield a.Nt(e);const g=_D.open(a.db,e,u?"readonly":"readwrite",i),v=r(g).next(D=>(g.Pt(),D)).catch(D=>(g.abort(D),ae.reject(D))).toPromise();return v.catch(()=>{}),yield g.Rt,v}catch(g){const v="FirebaseError"!==g.name&&f<3;if(xe("SimpleDb","Transaction failed with error:",g.message,"Retrying:",v),a.close(),!v)return Promise.reject(g)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class kz{constructor(e){this.Ft=e,this.$t=!1,this.Bt=null}get isDone(){return this.$t}get Lt(){return this.Bt}set cursor(e){this.Ft=e}done(){this.$t=!0}Ut(e){this.Bt=e}delete(){return Oh(this.Ft.delete())}}class jv extends we{constructor(e,t){super(ie.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Rh(n){return"IndexedDbTransactionError"===n.name}class Rz{constructor(e){this.store=e}put(e,t){let i;return void 0!==t?(xe("SimpleDb","PUT",this.store.name,e,t),i=this.store.put(t,e)):(xe("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),Oh(i)}add(e){return xe("SimpleDb","ADD",this.store.name,e,e),Oh(this.store.add(e))}get(e){return Oh(this.store.get(e)).next(t=>(void 0===t&&(t=null),xe("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return xe("SimpleDb","DELETE",this.store.name,e),Oh(this.store.delete(e))}count(){return xe("SimpleDb","COUNT",this.store.name),Oh(this.store.count())}qt(e,t){const i=this.options(e,t);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),a=[];return this.Kt(r,(u,f)=>{a.push(f)}).next(()=>a)}{const r=this.store.getAll(i.range);return new ae((a,u)=>{r.onerror=f=>{u(f.target.error)},r.onsuccess=f=>{a(f.target.result)}})}}Gt(e,t){const i=this.store.getAll(e,null===t?void 0:t);return new ae((r,a)=>{i.onerror=u=>{a(u.target.error)},i.onsuccess=u=>{r(u.target.result)}})}Qt(e,t){xe("SimpleDb","DELETE ALL",this.store.name);const i=this.options(e,t);i.jt=!1;const r=this.cursor(i);return this.Kt(r,(a,u,f)=>f.delete())}Wt(e,t){let i;t?i=e:(i={},t=e);const r=this.cursor(i);return this.Kt(r,t)}zt(e){const t=this.cursor({});return new ae((i,r)=>{t.onerror=a=>{const u=rk(a.target.error);r(u)},t.onsuccess=a=>{const u=a.target.result;u?e(u.primaryKey,u.value).next(f=>{f?u.continue():i()}):i()}})}Kt(e,t){const i=[];return new ae((r,a)=>{e.onerror=u=>{a(u.target.error)},e.onsuccess=u=>{const f=u.target.result;if(!f)return void r();const g=new kz(f),v=t(f.primaryKey,f.value,g);if(v instanceof ae){const D=v.catch(I=>(g.done(),ae.reject(I)));i.push(D)}g.isDone?r():null===g.Lt?f.continue():f.continue(g.Lt)}}).next(()=>ae.waitFor(i))}options(e,t){let i;return void 0!==e&&("string"==typeof e?i=e:t=e),{index:i,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const i=this.store.index(e.index);return e.jt?i.openKeyCursor(e.range,t):i.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Oh(n){return new ae((e,t)=>{n.onsuccess=i=>{e(i.target.result)},n.onerror=i=>{const r=rk(i.target.error);t(r)}})}let ZL=!1;function rk(n){const e=$o.Vt((0,Ge.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const i=new we("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return ZL||(ZL=!0,setTimeout(()=>{throw i},0)),i}}return n}class KL extends YL{constructor(e,t){super(),this.Ht=e,this.currentSequenceNumber=t}}function Vi(n,e){const t=He(n);return $o.xt(t.Ht,e)}class sk{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const a=this.mutations[r];a.key.isEqual(e.key)&&G3(a,e,i[r])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&Jx(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&Jx(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const i=e.get(t.key),r=i;this.applyToLocalView(r),i.isValidDocument()||r.convertToNoDocument(bt.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),an())}isEqual(e){return this.batchId===e.batchId&&Cm(this.mutations,e.mutations,(t,i)=>yL(t,i))&&Cm(this.baseMutations,e.baseMutations,(t,i)=>yL(t,i))}}class ok{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){Et(e.mutations.length===i.length);let r=K3;const a=e.mutations;for(let u=0;u<a.length;u++)r=r.insert(a[u].key,i[u].version);return new ok(e,t,i,r)}}class ak{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class gu{constructor(e,t,i,r,a=bt.min(),u=bt.min(),f=Ci.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=f}withSequenceNumber(e){return new gu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new gu(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new gu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class QL{constructor(e){this.Jt=e}}function JL(n,e){const t=e.key,i={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:yD(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())i.document={name:Vv(r=n.Jt,(a=e).key),fields:a.data.value.mapValue.fields,updateTime:Lv(r,a.version.toTimestamp())};else if(e.isNoDocument())i.noDocument={path:t.path.toArray(),readTime:Ph(e.version)};else{if(!e.isUnknownDocument())return tt();i.unknownDocument={path:t.path.toArray(),version:Ph(e.version)}}var r,a;return i}function yD(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Ph(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Fh(n){const e=new On(n.seconds,n.nanoseconds);return bt.fromTimestamp(e)}function Om(n,e){const t=(e.baseMutations||[]).map(a=>ik(n.Jt,a));for(let a=0;a<e.mutations.length-1;++a){const u=e.mutations[a];a+1<e.mutations.length&&void 0!==e.mutations[a+1].transform&&(u.updateTransforms=e.mutations[a+1].transform.fieldTransforms,e.mutations.splice(a+1,1),++a)}const i=e.mutations.map(a=>ik(n.Jt,a)),r=On.fromMillis(e.localWriteTimeMs);return new sk(e.batchId,r,t,i)}function Hv(n){const e=Fh(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Fh(n.lastLimboFreeSnapshotVersion):bt.min();let i;var r;return void 0!==n.query.documents?(Et(1===(r=n.query).documents.length),i=Xs(Am(OL(r.documents[0])))):i=Xs(BL(n.query)),new gu(i,n.targetId,0,n.lastListenSequenceNumber,e,t,Ci.fromBase64String(n.resumeToken))}function XL(n,e){const t=Ph(e.snapshotVersion),i=Ph(e.lastLimboFreeSnapshotVersion);let r;r=oD(e.target)?LL(n.Jt,e.target):VL(n.Jt,e.target);const a=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Th(e.target),readTime:t,resumeToken:a,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function lk(n){const e=BL({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?oL(e,e.limit,"L"):e}function ck(n,e){return new ak(e.largestBatchId,ik(n.Jt,e.overlayMutation))}function eV(n,e){const t=e.path.lastSegment();return[n,Pr(e.path.popLast()),t]}class Pz{getBundleMetadata(e,t){return tV(e).get(t).next(i=>{if(i)return{id:(r=i).bundleId,createTime:Fh(r.createTime),version:r.version};var r})}saveBundleMetadata(e,t){return tV(e).put({bundleId:(i=t).id,createTime:Ph(Li(i.createTime)),version:i.version});var i}getNamedQuery(e,t){return nV(e).get(t).next(i=>{if(i)return{name:(r=i).name,query:lk(r.bundledQuery),readTime:Fh(r.readTime)};var r})}saveNamedQuery(e,t){return nV(e).put({name:(i=t).name,readTime:Ph(Li(i.readTime)),bundledQuery:i.bundledQuery});var i}}function tV(n){return Vi(n,"bundles")}function nV(n){return Vi(n,"namedQueries")}class uk{constructor(e,t){this.M=e,this.userId=t}static Yt(e,t){return new uk(e,t.uid||"")}getOverlay(e,t){return $v(e).get(eV(this.userId,t)).next(i=>i?ck(this.M,i):null)}saveOverlays(e,t,i){const r=[];return i.forEach((a,u)=>{const f=new ak(t,u);r.push(this.Xt(e,f))}),ae.waitFor(r)}removeOverlaysForBatchId(e,t,i){const r=new Set;t.forEach(u=>r.add(Pr(u.getCollectionPath())));const a=[];return r.forEach(u=>{const f=IDBKeyRange.bound([this.userId,u,i],[this.userId,u,i+1],!1,!0);a.push($v(e).Qt("collectionPathOverlayIndex",f))}),ae.waitFor(a)}getOverlaysForCollection(e,t,i){const r=Pv(),a=Pr(t),u=IDBKeyRange.bound([this.userId,a,i],[this.userId,a,Number.POSITIVE_INFINITY],!0);return $v(e).qt("collectionPathOverlayIndex",u).next(f=>{for(const g of f){const v=ck(this.M,g);r.set(v.getKey(),v)}return r})}getOverlaysForCollectionGroup(e,t,i,r){const a=Pv();let u;const f=IDBKeyRange.bound([this.userId,t,i],[this.userId,t,Number.POSITIVE_INFINITY],!0);return $v(e).Wt({index:"collectionGroupOverlayIndex",range:f},(g,v,D)=>{const I=ck(this.M,v);a.size()<r||I.largestBatchId===u?(a.set(I.getKey(),I),u=I.largestBatchId):D.done()}).next(()=>a)}Xt(e,t){return $v(e).put(function(i,r,a){const[u,f,g]=eV(r,a.mutation.key);return{userId:r,collectionPath:f,documentId:g,collectionGroup:a.mutation.key.getCollectionGroup(),largestBatchId:a.largestBatchId,overlayMutation:Uv(i.Jt,a.mutation)}}(this.M,this.userId,t))}}function $v(n){return Vi(n,"documentOverlays")}class Nh{constructor(){}Zt(e,t){this.te(e,t),t.ee()}te(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(qn(e.integerValue));else if("doubleValue"in e){const i=qn(e.doubleValue);isNaN(i)?this.ne(t,13):(this.ne(t,15),Dv(i)?t.se(0):t.se(i))}else if("timestampValue"in e){const i=e.timestampValue;this.ne(t,20),"string"==typeof i?t.ie(i):(t.ie(`${i.seconds||""}`),t.se(i.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue(Eh(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.ne(t,45),t.se(i.latitude||0),t.se(i.longitude||0)}else"mapValue"in e?YN(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):tt()}re(e,t){this.ne(t,25),this.le(e,t)}le(e,t){t.ie(e)}ce(e,t){const i=e.fields||{};this.ne(t,55);for(const r of Object.keys(i))this.re(r,t),this.te(i[r],t)}he(e,t){const i=e.values||[];this.ne(t,50);for(const r of i)this.te(r,t)}ae(e,t){this.ne(t,37),Ne.fromName(e).path.forEach(i=>{this.ne(t,60),this.le(i,t)})}ne(e,t){e.se(t)}oe(e){e.se(2)}}function Fz(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function iV(n){const e=64-function(t){let i=0;for(let r=0;r<8;++r){const a=Fz(255&t[r]);if(i+=a,8!==a)break}return i}(n);return Math.ceil(e/8)}Nh.fe=new Nh;class Nz{constructor(){this.buffer=new Uint8Array(1024),this.position=0}de(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this._e(i.value),i=t.next();this.we()}me(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.ge(i.value),i=t.next();this.ye()}pe(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this._e(i);else if(i<2048)this._e(960|i>>>6),this._e(128|63&i);else if(t<"\ud800"||"\udbff"<t)this._e(480|i>>>12),this._e(128|63&i>>>6),this._e(128|63&i);else{const r=t.codePointAt(0);this._e(240|r>>>18),this._e(128|63&r>>>12),this._e(128|63&r>>>6),this._e(128|63&r)}}this.we()}Ie(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.ge(i);else if(i<2048)this.ge(960|i>>>6),this.ge(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.ge(480|i>>>12),this.ge(128|63&i>>>6),this.ge(128|63&i);else{const r=t.codePointAt(0);this.ge(240|r>>>18),this.ge(128|63&r>>>12),this.ge(128|63&r>>>6),this.ge(128|63&r)}}this.ye()}Te(e){const t=this.Ee(e),i=iV(t);this.Ae(1+i),this.buffer[this.position++]=255&i;for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=255&t[r]}Re(e){const t=this.Ee(e),i=iV(t);this.Ae(1+i),this.buffer[this.position++]=~(255&i);for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}Pe(){this.be(255),this.be(255)}Ve(){this.ve(255),this.ve(255)}reset(){this.position=0}seed(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}Se(){return this.buffer.slice(0,this.position)}Ee(e){const t=function(r){const a=new DataView(new ArrayBuffer(8));return a.setFloat64(0,r,!1),new Uint8Array(a.buffer)}(e),i=0!=(128&t[0]);t[0]^=i?255:128;for(let r=1;r<t.length;++r)t[r]^=i?255:0;return t}_e(e){const t=255&e;0===t?(this.be(0),this.be(255)):255===t?(this.be(255),this.be(0)):this.be(t)}ge(e){const t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}we(){this.be(0),this.be(1)}ye(){this.ve(0),this.ve(1)}be(e){this.Ae(1),this.buffer[this.position++]=e}ve(e){this.Ae(1),this.buffer[this.position++]=~e}Ae(e){const t=e+this.position;if(t<=this.buffer.length)return;let i=2*this.buffer.length;i<t&&(i=t);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class Lz{constructor(e){this.De=e}ue(e){this.De.de(e)}ie(e){this.De.pe(e)}se(e){this.De.Te(e)}ee(){this.De.Pe()}}class Vz{constructor(e){this.De=e}ue(e){this.De.me(e)}ie(e){this.De.Ie(e)}se(e){this.De.Re(e)}ee(){this.De.Ve()}}class zv{constructor(){this.De=new Nz,this.Ce=new Lz(this.De),this.xe=new Vz(this.De)}seed(e){this.De.seed(e)}Ne(e){return 0===e?this.Ce:this.xe}Se(){return this.De.Se()}reset(){this.De.reset()}}class _u{constructor(e,t,i,r){this.indexId=e,this.documentKey=t,this.arrayValue=i,this.directionalValue=r}ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,i=new Uint8Array(t);return i.set(this.directionalValue,0),t!==e?i.set([0],this.directionalValue.length):++i[i.length-1],new _u(this.indexId,this.documentKey,this.arrayValue,i)}}function Lh(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=rV(n.arrayValue,e.arrayValue),0!==t?t:(t=rV(n.directionalValue,e.directionalValue),0!==t?t:Ne.comparator(n.documentKey,e.documentKey)))}function rV(n,e){for(let t=0;t<n.length&&t<e.length;++t){const i=n[t]-e[t];if(0!==i)return i}return n.length-e.length}class Bz{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Me=e.orderBy,this.Oe=[];for(const t of e.filters){const i=t;i.S()?this.Fe=i:this.Oe.push(i)}}$e(e){const t=qx(e);if(void 0!==t&&!this.Be(t))return!1;const i=Sh(e);let r=0,a=0;for(;r<i.length&&this.Be(i[r]);++r);if(r===i.length)return!0;if(void 0!==this.Fe){const u=i[r];if(!this.Le(this.Fe,u)||!this.Ue(this.Me[a++],u))return!1;++r}for(;r<i.length;++r){const u=i[r];if(a>=this.Me.length||!this.Ue(this.Me[a++],u))return!1}return!0}Be(e){for(const t of this.Oe)if(this.Le(t,e))return!0;return!1}Le(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Ue(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class Uz{constructor(){this.qe=new dk}addToCollectionParentIndex(e,t){return this.qe.add(t),ae.resolve()}getCollectionParents(e,t){return ae.resolve(this.qe.getEntries(t))}addFieldIndex(e,t){return ae.resolve()}deleteFieldIndex(e,t){return ae.resolve()}getDocumentsMatchingTarget(e,t){return ae.resolve(null)}getFieldIndex(e,t){return ae.resolve(null)}getFieldIndexes(e,t){return ae.resolve([])}getNextCollectionGroupToUpdate(e){return ae.resolve(null)}updateCollectionGroup(e,t,i){return ae.resolve()}updateIndexEntries(e,t){return ae.resolve()}}class dk{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new Dn(Kt.comparator),a=!r.has(i);return this.index[t]=r.add(i),a}has(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new Dn(Kt.comparator)).toArray()}}const Pm=new Uint8Array(0);class jz{constructor(e,t){this.user=e,this.databaseId=t,this.Ke=new dk,this.Ge=new mu(i=>Th(i),(i,r)=>Mv(i,r)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Ke.has(t)){const i=t.lastSegment(),r=t.popLast();e.addOnCommittedListener(()=>{this.Ke.add(t)});const a={collectionId:i,parent:Pr(r)};return sV(e).put(a)}return ae.resolve()}getCollectionParents(e,t){const i=[],r=IDBKeyRange.bound([t,""],[VN(t),""],!1,!0);return sV(e).qt(r).next(a=>{for(const u of a){if(u.collectionId!==t)break;i.push(ka(u.parent))}return i})}addFieldIndex(e,t){const i=vD(e),r={indexId:(a=t).indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(u=>[u.fieldPath.canonicalString(),u.kind])};var a;return delete r.indexId,i.add(r).next()}deleteFieldIndex(e,t){const i=vD(e),r=bD(e),a=Gv(e);return i.delete(t.indexId).next(()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const i=Gv(e);let r=!0;const a=new Map;return ae.forEach(this.Qe(t),u=>this.getFieldIndex(e,u).next(f=>{r&&(r=!!f),a.set(u,f)})).next(()=>{if(r){let u=an();const f=[];return ae.forEach(a,(g,v)=>{var D;xe("IndexedDbIndexManager",`Using index ${D=g,`id=${D.indexId}|cg=${D.collectionGroup}|f=${D.fields.map(Je=>`${Je.fieldPath}:${Je.kind}`).join(",")}`} to execute ${Th(t)}`);const I=function(Je,et){const Mt=qx(et);if(void 0===Mt)return null;for(const Ft of aD(Je,Mt.fieldPath))switch(Ft.op){case"array-contains-any":return Ft.value.arrayValue.values||[];case"array-contains":return[Ft.value]}return null}(v,g),R=function(Je,et){const Mt=new Map;for(const Ft of Sh(et))for(const tn of aD(Je,Ft.fieldPath))switch(tn.op){case"==":case"in":Mt.set(Ft.fieldPath.canonicalString(),tn.value);break;case"not-in":case"!=":return Mt.set(Ft.fieldPath.canonicalString(),tn.value),Array.from(Mt.values())}return null}(v,g),V=function(Je,et){const Mt=[];let Ft=!0;for(const tn of Sh(et)){const rr=0===tn.kind?eL(Je,tn.fieldPath,Je.startAt):tL(Je,tn.fieldPath,Je.startAt);if(!rr.value)return null;Mt.push(rr.value),Ft&&(Ft=rr.inclusive)}return new pu(Mt,Ft)}(v,g),H=function(Je,et){const Mt=[];let Ft=!0;for(const tn of Sh(et)){const rr=0===tn.kind?tL(Je,tn.fieldPath,Je.endAt):eL(Je,tn.fieldPath,Je.endAt);if(!rr.value)return null;Mt.push(rr.value),Ft&&(Ft=rr.inclusive)}return new pu(Mt,Ft)}(v,g),J=this.je(g,v,V),be=this.je(g,v,H),qe=this.We(g,v,R),Ke=this.ze(g.indexId,I,J,!!V&&V.inclusive,be,!!H&&H.inclusive,qe);return ae.forEach(Ke,Je=>i.Gt(Je,t.limit).next(et=>{et.forEach(Mt=>{const Ft=Ne.fromSegments(Mt.documentKey);u.has(Ft)||(u=u.add(Ft),f.push(Ft))})}))}).next(()=>f)}return ae.resolve(null)})}Qe(e){let t=this.Ge.get(e);return t||(t=[e],this.Ge.set(e,t),t)}ze(e,t,i,r,a,u,f){const g=(null!=t?t.length:1)*Math.max(null!=i?i.length:1,null!=a?a.length:1),v=g/(null!=t?t.length:1),D=[];for(let I=0;I<g;++I){const R=t?this.He(t[I/v]):Pm,V=i?this.Je(e,R,i[I%v],r):this.Ye(e),H=a?this.Xe(e,R,a[I%v],u):this.Ye(e+1);D.push(...this.createRange(V,H,f.map(J=>this.Je(e,R,J,!0))))}return D}Je(e,t,i,r){const a=new _u(e,Ne.empty(),t,i);return r?a:a.ke()}Xe(e,t,i,r){const a=new _u(e,Ne.empty(),t,i);return r?a.ke():a}Ye(e){return new _u(e,Ne.empty(),Pm,Pm)}getFieldIndex(e,t){const i=new Bz(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next(a=>{const u=a.filter(f=>i.$e(f));return u.sort((f,g)=>g.fields.length-f.fields.length),u.length>0?u[0]:null})}Ze(e,t){const i=new zv;for(const r of Sh(e)){const a=t.data.field(r.fieldPath);if(null==a)return null;const u=i.Ne(r.kind);Nh.fe.Zt(a,u)}return i.Se()}He(e){const t=new zv;return Nh.fe.Zt(e,t.Ne(0)),t.Se()}tn(e,t){const i=new zv;return Nh.fe.Zt(Ah(this.databaseId,t),i.Ne(function(r){const a=Sh(r);return 0===a.length?0:a[a.length-1].kind}(e))),i.Se()}We(e,t,i){if(null===i)return[];let r=[];r.push(new zv);let a=0;for(const u of Sh(e)){const f=i[a++];for(const g of r)if(this.en(t,u.fieldPath)&&Av(f))r=this.nn(r,u,f);else{const v=g.Ne(u.kind);Nh.fe.Zt(f,v)}}return this.sn(r)}je(e,t,i){return null==i?null:this.We(e,t,i.position)}sn(e){const t=[];for(let i=0;i<e.length;++i)t[i]=e[i].Se();return t}nn(e,t,i){const r=[...e],a=[];for(const u of i.arrayValue.values||[])for(const f of r){const g=new zv;g.seed(f.Se()),Nh.fe.Zt(u,g.Ne(t.kind)),a.push(g)}return a}en(e,t){return!!e.filters.find(i=>i instanceof er&&i.field.isEqual(t)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(e,t){const i=vD(e),r=bD(e);return(t?i.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)):i.qt()).next(a=>{const u=[];return ae.forEach(a,f=>r.get([f.indexId,this.uid]).next(g=>{u.push(function(v,D){const I=D?new Tv(D.sequenceNumber,new Hl(Fh(D.readTime),new Ne(ka(D.documentKey)),D.largestBatchId)):Tv.empty(),R=v.fields.map(([V,H])=>new sD(Ni.fromServerFormat(V),H));return new rD(v.indexId,v.collectionGroup,R,I)}(f,g))})).next(()=>u)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((i,r)=>{const a=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==a?a:Pt(i.collectionGroup,r.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,i){const r=vD(e),a=bD(e);return this.rn(e).next(u=>r.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(f=>ae.forEach(f,g=>{return a.put({indexId:g.indexId,uid:this.user.uid||"",sequenceNumber:u,readTime:Ph((R=i).readTime),documentKey:Pr(R.documentKey.path),largestBatchId:R.largestBatchId});var R})))}updateIndexEntries(e,t){const i=new Map;return ae.forEach(t,(r,a)=>{const u=i.get(r.collectionGroup);return(u?ae.resolve(u):this.getFieldIndexes(e,r.collectionGroup)).next(f=>(i.set(r.collectionGroup,f),ae.forEach(f,g=>this.on(e,r,g).next(v=>{const D=this.un(a,g);return v.isEqual(D)?ae.resolve():this.an(e,a,g,v,D)}))))})}cn(e,t,i,r){return Gv(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.tn(i,t.key),documentKey:t.key.path.toArray()})}hn(e,t,i,r){return Gv(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.tn(i,t.key),t.key.path.toArray()])}on(e,t,i){const r=Gv(e);let a=new Dn(Lh);return r.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.tn(i,t)])},(u,f)=>{a=a.add(new _u(i.indexId,t,f.arrayValue,f.directionalValue))}).next(()=>a)}un(e,t){let i=new Dn(Lh);const r=this.Ze(t,e);if(null==r)return i;const a=qx(t);if(null!=a){const u=e.data.field(a.fieldPath);if(Av(u))for(const f of u.arrayValue.values||[])i=i.add(new _u(t.indexId,e.key,this.He(f),r))}else i=i.add(new _u(t.indexId,e.key,Pm,r));return i}an(e,t,i,r,a){xe("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const u=[];return function(f,g,v,D,I){const R=f.getIterator(),V=g.getIterator();let H=xm(R),J=xm(V);for(;H||J;){let be=!1,qe=!1;if(H&&J){const Ke=v(H,J);Ke<0?qe=!0:Ke>0&&(be=!0)}else null!=H?qe=!0:be=!0;be?(D(J),J=xm(V)):qe?(I(H),H=xm(R)):(H=xm(R),J=xm(V))}}(r,a,Lh,f=>{u.push(this.cn(e,t,i,f))},f=>{u.push(this.hn(e,t,i,f))}),ae.waitFor(u)}rn(e){let t=1;return bD(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,a)=>{a.done(),t=r.sequenceNumber+1}).next(()=>t)}createRange(e,t,i){i=i.sort((u,f)=>Lh(u,f)).filter((u,f,g)=>!f||0!==Lh(u,g[f-1]));const r=[];r.push(e);for(const u of i){const f=Lh(u,e),g=Lh(u,t);if(0===f)r[0]=e.ke();else if(f>0&&g<0)r.push(u),r.push(u.ke());else if(g>0)break}r.push(t);const a=[];for(let u=0;u<r.length;u+=2)a.push(IDBKeyRange.bound([r[u].indexId,this.uid,r[u].arrayValue,r[u].directionalValue,Pm,[]],[r[u+1].indexId,this.uid,r[u+1].arrayValue,r[u+1].directionalValue,Pm,[]]));return a}}function sV(n){return Vi(n,"collectionParents")}function Gv(n){return Vi(n,"indexEntries")}function vD(n){return Vi(n,"indexConfiguration")}function bD(n){return Vi(n,"indexState")}const oV={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Xr{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new Xr(e,Xr.DEFAULT_COLLECTION_PERCENTILE,Xr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function aV(n,e,t){const i=n.store("mutations"),r=n.store("documentMutations"),a=[],u=IDBKeyRange.only(t.batchId);let f=0;const g=i.Wt({range:u},(D,I,R)=>(f++,R.delete()));a.push(g.next(()=>{Et(1===f)}));const v=[];for(const D of t.mutations){const I=zL(e,D.key.path,t.batchId);a.push(r.delete(I)),v.push(D.key)}return ae.waitFor(a).next(()=>v)}function wD(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw tt();e=n.noDocument}return JSON.stringify(e).length}Xr.DEFAULT_COLLECTION_PERCENTILE=10,Xr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Xr.DEFAULT=new Xr(41943040,Xr.DEFAULT_COLLECTION_PERCENTILE,Xr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Xr.DISABLED=new Xr(-1,0,0);class hk{constructor(e,t,i,r){this.userId=e,this.M=t,this.indexManager=i,this.referenceDelegate=r,this.ln={}}static Yt(e,t,i,r){Et(""!==e.uid);const a=e.isAuthenticated()?e.uid:"";return new hk(a,t,i,r)}checkEmpty(e){let t=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return yu(e).Wt({index:"userMutationsIndex",range:i},(r,a,u)=>{t=!1,u.done()}).next(()=>t)}addMutationBatch(e,t,i,r){const a=Fm(e),u=yu(e);return u.add({}).next(f=>{Et("number"==typeof f);const g=new sk(f,t,i,r),v=function(R,V,H){const J=H.baseMutations.map(qe=>Uv(R.Jt,qe)),be=H.mutations.map(qe=>Uv(R.Jt,qe));return{userId:V,batchId:H.batchId,localWriteTimeMs:H.localWriteTime.toMillis(),baseMutations:J,mutations:be}}(this.M,this.userId,g),D=[];let I=new Dn((R,V)=>Pt(R.canonicalString(),V.canonicalString()));for(const R of r){const V=zL(this.userId,R.key.path,f);I=I.add(R.key.path.popLast()),D.push(u.put(v)),D.push(a.put(V,pz))}return I.forEach(R=>{D.push(this.indexManager.addToCollectionParentIndex(e,R))}),e.addOnCommittedListener(()=>{this.ln[f]=g.keys()}),ae.waitFor(D).next(()=>g)})}lookupMutationBatch(e,t){return yu(e).get(t).next(i=>i?(Et(i.userId===this.userId),Om(this.M,i)):null)}fn(e,t){return this.ln[t]?ae.resolve(this.ln[t]):this.lookupMutationBatch(e,t).next(i=>{if(i){const r=i.keys();return this.ln[t]=r,r}return null})}getNextMutationBatchAfterBatchId(e,t){const i=t+1,r=IDBKeyRange.lowerBound([this.userId,i]);let a=null;return yu(e).Wt({index:"userMutationsIndex",range:r},(u,f,g)=>{f.userId===this.userId&&(Et(f.batchId>=i),a=Om(this.M,f)),g.done()}).next(()=>a)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return yu(e).Wt({index:"userMutationsIndex",range:t,reverse:!0},(r,a,u)=>{i=a.batchId,u.done()}).next(()=>i)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return yu(e).qt("userMutationsIndex",t).next(i=>i.map(r=>Om(this.M,r)))}getAllMutationBatchesAffectingDocumentKey(e,t){const i=gD(this.userId,t.path),r=IDBKeyRange.lowerBound(i),a=[];return Fm(e).Wt({range:r},(u,f,g)=>{const[v,D,I]=u,R=ka(D);if(v===this.userId&&t.path.isEqual(R))return yu(e).get(I).next(V=>{if(!V)throw tt();Et(V.userId===this.userId),a.push(Om(this.M,V))});g.done()}).next(()=>a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Dn(Pt);const r=[];return t.forEach(a=>{const u=gD(this.userId,a.path),f=IDBKeyRange.lowerBound(u),g=Fm(e).Wt({range:f},(v,D,I)=>{const[R,V,H]=v,J=ka(V);R===this.userId&&a.path.isEqual(J)?i=i.add(H):I.done()});r.push(g)}),ae.waitFor(r).next(()=>this.dn(e,i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1,a=gD(this.userId,i),u=IDBKeyRange.lowerBound(a);let f=new Dn(Pt);return Fm(e).Wt({range:u},(g,v,D)=>{const[I,R,V]=g,H=ka(R);I===this.userId&&i.isPrefixOf(H)?H.length===r&&(f=f.add(V)):D.done()}).next(()=>this.dn(e,f))}dn(e,t){const i=[],r=[];return t.forEach(a=>{r.push(yu(e).get(a).next(u=>{if(null===u)throw tt();Et(u.userId===this.userId),i.push(Om(this.M,u))}))}),ae.waitFor(r).next(()=>i)}removeMutationBatch(e,t){return aV(e.Ht,this.userId,t).next(i=>(e.addOnCommittedListener(()=>{this._n(t.batchId)}),ae.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(e,r))))}_n(e){delete this.ln[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return ae.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return Fm(e).Wt({range:i},(a,u,f)=>{if(a[0]===this.userId){const g=ka(a[1]);r.push(g)}else f.done()}).next(()=>{Et(0===r.length)})})}containsKey(e,t){return lV(e,this.userId,t)}wn(e){return cV(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function lV(n,e,t){const i=gD(e,t.path),r=i[1],a=IDBKeyRange.lowerBound(i);let u=!1;return Fm(n).Wt({range:a,jt:!0},(f,g,v)=>{const[D,I,R]=f;D===e&&I===r&&(u=!0),v.done()}).next(()=>u)}function yu(n){return Vi(n,"mutations")}function Fm(n){return Vi(n,"documentMutations")}function cV(n){return Vi(n,"mutationQueues")}class Vh{constructor(e){this.mn=e}next(){return this.mn+=2,this.mn}static gn(){return new Vh(0)}static yn(){return new Vh(-1)}}class Hz{constructor(e,t){this.referenceDelegate=e,this.M=t}allocateTargetId(e){return this.pn(e).next(t=>{const i=new Vh(t.highestTargetId);return t.highestTargetId=i.next(),this.In(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.pn(e).next(t=>bt.fromTimestamp(new On(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.pn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,i){return this.pn(e).next(r=>(r.highestListenSequenceNumber=t,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.In(e,r)))}addTargetData(e,t){return this.Tn(e,t).next(()=>this.pn(e).next(i=>(i.targetCount+=1,this.En(t,i),this.In(e,i))))}updateTargetData(e,t){return this.Tn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Nm(e).delete(t.targetId)).next(()=>this.pn(e)).next(i=>(Et(i.targetCount>0),i.targetCount-=1,this.In(e,i)))}removeTargets(e,t,i){let r=0;const a=[];return Nm(e).Wt((u,f)=>{const g=Hv(f);g.sequenceNumber<=t&&null===i.get(g.targetId)&&(r++,a.push(this.removeTargetData(e,g)))}).next(()=>ae.waitFor(a)).next(()=>r)}forEachTarget(e,t){return Nm(e).Wt((i,r)=>{const a=Hv(r);t(a)})}pn(e){return uV(e).get("targetGlobalKey").next(t=>(Et(null!==t),t))}In(e,t){return uV(e).put("targetGlobalKey",t)}Tn(e,t){return Nm(e).put(XL(this.M,t))}En(e,t){let i=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,i=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.pn(e).next(t=>t.targetCount)}getTargetData(e,t){const i=Th(t),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let a=null;return Nm(e).Wt({range:r,index:"queryTargetsIndex"},(u,f,g)=>{const v=Hv(f);Mv(t,v.target)&&(a=v,g.done())}).next(()=>a)}addMatchingKeys(e,t,i){const r=[],a=vu(e);return t.forEach(u=>{const f=Pr(u.path);r.push(a.put({targetId:i,path:f})),r.push(this.referenceDelegate.addReference(e,i,u))}),ae.waitFor(r)}removeMatchingKeys(e,t,i){const r=vu(e);return ae.forEach(t,a=>{const u=Pr(a.path);return ae.waitFor([r.delete([i,u]),this.referenceDelegate.removeReference(e,i,a)])})}removeMatchingKeysForTargetId(e,t){const i=vu(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(e,t){const i=IDBKeyRange.bound([t],[t+1],!1,!0),r=vu(e);let a=an();return r.Wt({range:i,jt:!0},(u,f,g)=>{const v=ka(u[1]),D=new Ne(v);a=a.add(D)}).next(()=>a)}containsKey(e,t){const i=Pr(t.path),r=IDBKeyRange.bound([i],[VN(i)],!1,!0);let a=0;return vu(e).Wt({index:"documentTargetsIndex",jt:!0,range:r},([u,f],g,v)=>{0!==u&&(a++,v.done())}).next(()=>a>0)}Et(e,t){return Nm(e).get(t).next(i=>i?Hv(i):null)}}function Nm(n){return Vi(n,"targets")}function uV(n){return Vi(n,"targetGlobal")}function vu(n){return Vi(n,"targetDocuments")}function Bh(n){return fk.apply(this,arguments)}function fk(){return fk=(0,q.Z)(function*(n){if(n.code!==ie.FAILED_PRECONDITION||n.message!==WL)throw n;xe("LocalStore","Unexpectedly lost primary lease")}),fk.apply(this,arguments)}function dV([n,e],[t,i]){const r=Pt(n,t);return 0===r?Pt(e,i):r}class $z{constructor(e){this.An=e,this.buffer=new Dn(dV),this.Rn=0}Pn(){return++this.Rn}bn(e){const t=[e,this.Pn()];if(this.buffer.size<this.An)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();dV(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class zz{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.Vn=!1,this.vn=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Sn(e)}stop(){this.vn&&(this.vn.cancel(),this.vn=null)}get started(){return null!==this.vn}Sn(e){var t=this;const i=this.Vn?3e5:6e4;xe("LruGarbageCollector",`Garbage collection scheduled in ${i}ms`),this.vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",i,(0,q.Z)(function*(){t.vn=null,t.Vn=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(r){Rh(r)?xe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield Bh(r)}yield t.Sn(e)}))}}class Gz{constructor(e,t){this.Dn=e,this.params=t}calculateTargetCount(e,t){return this.Dn.Cn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(0===t)return ae.resolve(Ss.A);const i=new $z(t);return this.Dn.forEachTarget(e,r=>i.bn(r.sequenceNumber)).next(()=>this.Dn.xn(e,r=>i.bn(r))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.Dn.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.Dn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(xe("LruGarbageCollector","Garbage collection skipped; disabled"),ae.resolve(oV)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(xe("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),oV):this.Nn(e,t))}getCacheSize(e){return this.Dn.getCacheSize(e)}Nn(e,t){let i,r,a,u,f,g,v;const D=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(I=>(I>this.params.maximumSequenceNumbersToCollect?(xe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${I}`),r=this.params.maximumSequenceNumbersToCollect):r=I,u=Date.now(),this.nthSequenceNumber(e,r))).next(I=>(i=I,f=Date.now(),this.removeTargets(e,i,t))).next(I=>(a=I,g=Date.now(),this.removeOrphanedDocuments(e,i))).next(I=>(v=Date.now(),jx()<=Kr.in.DEBUG&&xe("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${u-D}ms\n\tDetermined least recently used ${r} in `+(f-u)+`ms\n\tRemoved ${a} targets in `+(g-f)+`ms\n\tRemoved ${I} documents in `+(v-g)+`ms\nTotal Duration: ${v-D}ms`),ae.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:a,documentsRemoved:I})))}}class qz{constructor(e,t){this.db=e,this.garbageCollector=new Gz(this,t)}Cn(e){const t=this.kn(e);return this.db.getTargetCache().getTargetCount(e).next(i=>t.next(r=>i+r))}kn(e){let t=0;return this.xn(e,i=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}xn(e,t){return this.Mn(e,(i,r)=>t(r))}addReference(e,t,i){return CD(e,i)}removeReference(e,t,i){return CD(e,i)}removeTargets(e,t,i){return this.db.getTargetCache().removeTargets(e,t,i)}markPotentiallyOrphaned(e,t){return CD(e,t)}On(e,t){return function(i,r){let a=!1;return cV(i).zt(u=>lV(i,u,r).next(f=>(f&&(a=!0),ae.resolve(!f)))).next(()=>a)}(e,t)}removeOrphanedDocuments(e,t){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let a=0;return this.Mn(e,(u,f)=>{if(f<=t){const g=this.On(e,u).next(v=>{if(!v)return a++,i.getEntry(e,u).next(()=>(i.removeEntry(u,bt.min()),vu(e).delete([0,Pr(u.path)])))});r.push(g)}}).next(()=>ae.waitFor(r)).next(()=>i.apply(e)).next(()=>a)}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,t){return CD(e,t)}Mn(e,t){const i=vu(e);let r,a=Ss.A;return i.Wt({index:"documentTargetsIndex"},([u,f],{path:g,sequenceNumber:v})=>{0===u?(a!==Ss.A&&t(new Ne(ka(r)),a),a=v,r=g):a=Ss.A}).next(()=>{a!==Ss.A&&t(new Ne(ka(r)),a)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function CD(n,e){return vu(n).put((i=n.currentSequenceNumber,{targetId:0,path:Pr(e.path),sequenceNumber:i}));var i}class hV{constructor(){this.changes=new mu(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,En.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?ae.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Wz{constructor(e){this.M=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,i){return Uh(e).put(i)}removeEntry(e,t,i){return Uh(e).delete(function(r,a){const u=r.path.toArray();return[u.slice(0,u.length-2),u[u.length-2],yD(a),u[u.length-1]]}(t,i))}updateMetadata(e,t){return this.getMetadata(e).next(i=>(i.byteSize+=t,this.Fn(e,i)))}getEntry(e,t){let i=En.newInvalidDocument(t);return Uh(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(qv(t))},(r,a)=>{i=this.$n(t,a)}).next(()=>i)}Bn(e,t){let i={size:0,document:En.newInvalidDocument(t)};return Uh(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(qv(t))},(r,a)=>{i={document:this.$n(t,a),size:wD(a)}}).next(()=>i)}getEntries(e,t){let i=eo();return this.Ln(e,t,(r,a)=>{const u=this.$n(r,a);i=i.insert(r,u)}).next(()=>i)}Un(e,t){let i=eo(),r=new ii(Ne.comparator);return this.Ln(e,t,(a,u)=>{const f=this.$n(a,u);i=i.insert(a,f),r=r.insert(a,wD(u))}).next(()=>({documents:i,qn:r}))}Ln(e,t,i){if(t.isEmpty())return ae.resolve();let r=new Dn(mV);t.forEach(g=>r=r.add(g));const a=IDBKeyRange.bound(qv(r.first()),qv(r.last())),u=r.getIterator();let f=u.getNext();return Uh(e).Wt({index:"documentKeyIndex",range:a},(g,v,D)=>{const I=Ne.fromSegments([...v.prefixPath,v.collectionGroup,v.documentId]);for(;f&&mV(f,I)<0;)i(f,null),f=u.getNext();f&&f.isEqual(I)&&(i(f,v),f=u.hasNext()?u.getNext():null),f?D.Ut(qv(f)):D.done()}).next(()=>{for(;f;)i(f,null),f=u.hasNext()?u.getNext():null})}getAllFromCollection(e,t,i){const r=[t.popLast().toArray(),t.lastSegment(),yD(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Uh(e).qt(IDBKeyRange.bound(r,a,!0)).next(u=>{let f=eo();for(const g of u){const v=this.$n(Ne.fromSegments(g.prefixPath.concat(g.collectionGroup,g.documentId)),g);f=f.insert(v.key,v)}return f})}getAllFromCollectionGroup(e,t,i,r){let a=eo();const u=pV(t,i),f=pV(t,Hl.max());return Uh(e).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(u,f,!0)},(g,v,D)=>{const I=this.$n(Ne.fromSegments(v.prefixPath.concat(v.collectionGroup,v.documentId)),v);a=a.insert(I.key,I),a.size===r&&D.done()}).next(()=>a)}newChangeBuffer(e){return new Yz(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return fV(e).get("remoteDocumentGlobalKey").next(t=>(Et(!!t),t))}Fn(e,t){return fV(e).put("remoteDocumentGlobalKey",t)}$n(e,t){if(t){const i=function Oz(n,e){let t;if(e.document)t=NL(n.Jt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const i=Ne.fromSegments(e.noDocument.path),r=Fh(e.noDocument.readTime);t=En.newNoDocument(i,r),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return tt();{const i=Ne.fromSegments(e.unknownDocument.path),r=Fh(e.unknownDocument.version);t=En.newUnknownDocument(i,r)}}return e.readTime&&t.setReadTime(function(i){const r=new On(i[0],i[1]);return bt.fromTimestamp(r)}(e.readTime)),t}(this.M,t);if(!i.isNoDocument()||!i.version.isEqual(bt.min()))return i}return En.newInvalidDocument(e)}}class Yz extends hV{constructor(e,t){super(),this.Kn=e,this.trackRemovals=t,this.Gn=new mu(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(e){const t=[];let i=0,r=new Dn((a,u)=>Pt(a.canonicalString(),u.canonicalString()));return this.changes.forEach((a,u)=>{const f=this.Gn.get(a);if(t.push(this.Kn.removeEntry(e,a,f.readTime)),u.isValidDocument()){const g=JL(this.Kn.M,u);r=r.add(a.path.popLast()),i+=wD(g)-f.size,t.push(this.Kn.addEntry(e,a,g))}else if(i-=f.size,this.trackRemovals){const g=JL(this.Kn.M,u.convertToNoDocument(bt.min()));t.push(this.Kn.addEntry(e,a,g))}}),r.forEach(a=>{t.push(this.Kn.indexManager.addToCollectionParentIndex(e,a))}),t.push(this.Kn.updateMetadata(e,i)),ae.waitFor(t)}getFromCache(e,t){return this.Kn.Bn(e,t).next(i=>(this.Gn.set(t,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(e,t){return this.Kn.Un(e,t).next(({documents:i,qn:r})=>(r.forEach((a,u)=>{this.Gn.set(a,{size:u,readTime:i.get(a).readTime})}),i))}}function fV(n){return Vi(n,"remoteDocumentGlobal")}function Uh(n){return Vi(n,"remoteDocumentsV14")}function qv(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function pV(n,e){const t=e.documentKey.path.toArray();return[n,yD(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function mV(n,e){const t=n.path.toArray(),i=e.path.toArray();let r=0;for(let a=0;a<t.length-2&&a<i.length-2;++a)if(r=Pt(t[a],i[a]),r)return r;return r=Pt(t.length,i.length),r||(r=Pt(t[t.length-2],i[i.length-2]),r||Pt(t[t.length-1],i[i.length-1]))}class Zz{constructor(e){this.M=e}kt(e,t,i,r){const a=new _D("createOrUpgrade",t);var f;i<1&&r>=1&&(e.createObjectStore("owner"),(f=e).createObjectStore("mutationQueues",{keyPath:"userId"}),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",$L,{unique:!0}),f.createObjectStore("documentMutations"),gV(e),function(f){f.createObjectStore("remoteDocuments")}(e));let u=ae.resolve();return i<3&&r>=3&&(0!==i&&(function(f){f.deleteObjectStore("targetDocuments"),f.deleteObjectStore("targets"),f.deleteObjectStore("targetGlobal")}(e),gV(e)),u=u.next(()=>function(f){const g=f.store("targetGlobal"),v={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:bt.min().toTimestamp(),targetCount:0};return g.put("targetGlobalKey",v)}(a))),i<4&&r>=4&&(0!==i&&(u=u.next(()=>function(f,g){return g.store("mutations").qt().next(v=>{f.deleteObjectStore("mutations"),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",$L,{unique:!0});const D=g.store("mutations"),I=v.map(R=>D.put(R));return ae.waitFor(I)})}(e,a))),u=u.next(()=>{!function(f){f.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),i<5&&r>=5&&(u=u.next(()=>this.Qn(a))),i<6&&r>=6&&(u=u.next(()=>(function(f){f.createObjectStore("remoteDocumentGlobal")}(e),this.jn(a)))),i<7&&r>=7&&(u=u.next(()=>this.Wn(a))),i<8&&r>=8&&(u=u.next(()=>this.zn(e,a))),i<9&&r>=9&&(u=u.next(()=>{!function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")}(e)})),i<10&&r>=10&&(u=u.next(()=>this.Hn(a))),i<11&&r>=11&&(u=u.next(()=>{(function(f){f.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(f){f.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),i<12&&r>=12&&(u=u.next(()=>{!function(f){const g=f.createObjectStore("documentOverlays",{keyPath:Az});g.createIndex("collectionPathOverlayIndex",Sz,{unique:!1}),g.createIndex("collectionGroupOverlayIndex",Tz,{unique:!1})}(e)})),i<13&&r>=13&&(u=u.next(()=>function(f){const g=f.createObjectStore("remoteDocumentsV14",{keyPath:mz});g.createIndex("documentKeyIndex",gz),g.createIndex("collectionGroupIndex",_z)}(e)).next(()=>this.Jn(e,a)).next(()=>e.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(u=u.next(()=>{!function(f){f.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),f.createObjectStore("indexState",{keyPath:Cz}).createIndex("sequenceNumberIndex",Ez,{unique:!1}),f.createObjectStore("indexEntries",{keyPath:Dz}).createIndex("documentKeyIndex",Iz,{unique:!1})}(e)})),u}jn(e){let t=0;return e.store("remoteDocuments").Wt((i,r)=>{t+=wD(r)}).next(()=>{const i={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Qn(e){const t=e.store("mutationQueues"),i=e.store("mutations");return t.qt().next(r=>ae.forEach(r,a=>{const u=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return i.qt("userMutationsIndex",u).next(f=>ae.forEach(f,g=>{Et(g.userId===a.userId);const v=Om(this.M,g);return aV(e,a.userId,v).next(()=>{})}))}))}Wn(e){const t=e.store("targetDocuments"),i=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(r=>{const a=[];return i.Wt((u,f)=>{const g=new Kt(u),v=[0,Pr(g)];a.push(t.get(v).next(D=>D?ae.resolve():t.put({targetId:0,path:Pr(g),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>ae.waitFor(a))})}zn(e,t){e.createObjectStore("collectionParents",{keyPath:wz});const i=t.store("collectionParents"),r=new dk,a=u=>{if(r.add(u)){const f=u.lastSegment(),g=u.popLast();return i.put({collectionId:f,parent:Pr(g)})}};return t.store("remoteDocuments").Wt({jt:!0},(u,f)=>{const g=new Kt(u);return a(g.popLast())}).next(()=>t.store("documentMutations").Wt({jt:!0},([u,f,g],v)=>{const D=ka(f);return a(D.popLast())}))}Hn(e){const t=e.store("targets");return t.Wt((i,r)=>{const a=Hv(r),u=XL(this.M,a);return t.put(u)})}Jn(e,t){const i=t.store("remoteDocuments"),r=[];return i.Wt((a,u)=>{const f=t.store("remoteDocumentsV14"),g=(v=u,v.document?new Ne(Kt.fromString(v.document.name).popFirst(5)):v.noDocument?Ne.fromSegments(v.noDocument.path):v.unknownDocument?Ne.fromSegments(v.unknownDocument.path):tt()).path.toArray();var v;const D={prefixPath:g.slice(0,g.length-2),collectionGroup:g[g.length-2],documentId:g[g.length-1],readTime:u.readTime||[0,0],unknownDocument:u.unknownDocument,noDocument:u.noDocument,document:u.document,hasCommittedMutations:!!u.hasCommittedMutations};r.push(f.put(D))}).next(()=>ae.waitFor(r))}}function gV(n){n.createObjectStore("targetDocuments",{keyPath:vz}).createIndex("documentTargetsIndex",bz,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",yz,{unique:!0}),n.createObjectStore("targetGlobal")}const pk="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class mk{constructor(e,t,i,r,a,u,f,g,v,D,I=13){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=i,this.Yn=a,this.window=u,this.document=f,this.Xn=v,this.Zn=D,this.ts=I,this.es=null,this.ns=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ss=null,this.inForeground=!1,this.rs=null,this.os=null,this.us=Number.NEGATIVE_INFINITY,this.cs=R=>Promise.resolve(),!mk.vt())throw new we(ie.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new qz(this,r),this.hs=t+"main",this.M=new QL(g),this.ls=new $o(this.hs,this.ts,new Zz(this.M)),this.fs=new Hz(this.referenceDelegate,this.M),this.ds=new Wz(this.M),this._s=new Pz,this.window&&this.window.localStorage?this.ws=this.window.localStorage:(this.ws=null,!1===D&&hi("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.gs().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new we(ie.FAILED_PRECONDITION,pk);return this.ys(),this.ps(),this.Is(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.fs.getHighestSequenceNumber(e))}).then(e=>{this.es=new Ss(e,this.Xn)}).then(()=>{this.ns=!0}).catch(e=>(this.ls&&this.ls.close(),Promise.reject(e)))}Ts(e){var t=this;return this.cs=function(){var i=(0,q.Z)(function*(r){if(t.started)return e(r)});return function(r){return i.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ls.Ot(function(){var t=(0,q.Z)(function*(i){null===i.newVersion&&(yield e())});return function(i){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Yn.enqueueAndForget((0,q.Z)(function*(){t.started&&(yield t.gs())})))}gs(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>ED(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Es(e).next(t=>{t||(this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)))})}).next(()=>this.As(e)).next(t=>this.isPrimary&&!t?this.Rs(e).next(()=>!1):!!t&&this.Ps(e).next(()=>!0))).catch(e=>{if(Rh(e))return xe("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return xe("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Yn.enqueueRetryable(()=>this.cs(e)),this.isPrimary=e})}Es(e){return Wv(e).get("owner").next(t=>ae.resolve(this.bs(t)))}Vs(e){return ED(e).delete(this.clientId)}vs(){var e=this;return(0,q.Z)(function*(){if(e.isPrimary&&!e.Ss(e.us,18e5)){e.us=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=Vi(i,"clientMetadata");return r.qt().next(a=>{const u=e.Ds(a,18e5),f=a.filter(g=>-1===u.indexOf(g));return ae.forEach(f,g=>r.delete(g.clientId)).next(()=>f)})}).catch(()=>[]);if(e.ws)for(const i of t)e.ws.removeItem(e.Cs(i.clientId))}})()}Is(){this.os=this.Yn.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.gs().then(()=>this.vs()).then(()=>this.Is()))}bs(e){return!!e&&e.ownerId===this.clientId}As(e){return this.Zn?ae.resolve(!0):Wv(e).get("owner").next(t=>{if(null!==t&&this.Ss(t.leaseTimestampMs,5e3)&&!this.xs(t.ownerId)){if(this.bs(t)&&this.networkEnabled)return!0;if(!this.bs(t)){if(!t.allowTabSynchronization)throw new we(ie.FAILED_PRECONDITION,pk);return!1}}return!(!this.networkEnabled||!this.inForeground)||ED(e).qt().next(i=>void 0===this.Ds(i,5e3).find(r=>{if(this.clientId!==r.clientId){const u=!this.inForeground&&r.inForeground,f=this.networkEnabled===r.networkEnabled;if(!this.networkEnabled&&r.networkEnabled||u&&f)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&xe("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,q.Z)(function*(){e.ns=!1,e.Ns(),e.os&&(e.os.cancel(),e.os=null),e.ks(),e.Ms(),yield e.ls.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const i=new KL(t,Ss.A);return e.Rs(i).next(()=>e.Vs(i))}),e.ls.close(),e.Os()})()}Ds(e,t){return e.filter(i=>this.Ss(i.updateTimeMs,t)&&!this.xs(i.clientId))}Fs(){return this.runTransaction("getActiveClients","readonly",e=>ED(e).qt().next(t=>this.Ds(t,18e5).map(i=>i.clientId)))}get started(){return this.ns}getMutationQueue(e,t){return hk.Yt(e,this.M,t,this.referenceDelegate)}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getIndexManager(e){return new jz(e,this.M.Jt.databaseId)}getDocumentOverlayCache(e){return uk.Yt(this.M,e)}getBundleCache(){return this._s}runTransaction(e,t,i){xe("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",a=14===(u=this.ts)?xz:13===u?qL:12===u?Mz:11===u?GL:void tt();var u;let f;return this.ls.runTransaction(e,r,a,g=>(f=new KL(g,this.es?this.es.next():Ss.A),"readwrite-primary"===t?this.Es(f).next(v=>!!v||this.As(f)).next(v=>{if(!v)throw hi(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)),new we(ie.FAILED_PRECONDITION,WL);return i(f)}).next(v=>this.Ps(f).next(()=>v)):this.$s(f).next(()=>i(f)))).then(g=>(f.raiseOnCommittedEvent(),g))}$s(e){return Wv(e).get("owner").next(t=>{if(null!==t&&this.Ss(t.leaseTimestampMs,5e3)&&!this.xs(t.ownerId)&&!this.bs(t)&&!(this.Zn||this.allowTabSynchronization&&t.allowTabSynchronization))throw new we(ie.FAILED_PRECONDITION,pk)})}Ps(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Wv(e).put("owner",t)}static vt(){return $o.vt()}Rs(e){const t=Wv(e);return t.get("owner").next(i=>this.bs(i)?(xe("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):ae.resolve())}Ss(e,t){const i=Date.now();return!(e<i-t||e>i&&(hi(`Detected an update time that is in the future: ${e} > ${i}`),1))}ys(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.rs=()=>{this.Yn.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.gs()))},this.document.addEventListener("visibilitychange",this.rs),this.inForeground="visible"===this.document.visibilityState)}ks(){this.rs&&(this.document.removeEventListener("visibilitychange",this.rs),this.rs=null)}ps(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ss=()=>{this.Ns(),(0,Ge.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Yn.enterRestrictedMode(!0),this.Yn.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ss))}Ms(){this.ss&&(this.window.removeEventListener("pagehide",this.ss),this.ss=null)}xs(e){var t;try{const i=null!==(null===(t=this.ws)||void 0===t?void 0:t.getItem(this.Cs(e)));return xe("IndexedDbPersistence",`Client '${e}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return hi("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Ns(){if(this.ws)try{this.ws.setItem(this.Cs(this.clientId),String(Date.now()))}catch(e){hi("Failed to set zombie client id.",e)}}Os(){if(this.ws)try{this.ws.removeItem(this.Cs(this.clientId))}catch(e){}}Cs(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Wv(n){return Vi(n,"owner")}function ED(n){return Vi(n,"clientMetadata")}function gk(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class Kz{constructor(e,t,i){this.ds=e,this.Bs=t,this.indexManager=i}Ls(e,t){return this.Bs.getAllMutationBatchesAffectingDocumentKey(e,t).next(i=>this.Us(e,t,i))}Us(e,t,i){return this.ds.getEntry(e,t).next(r=>{for(const a of i)a.applyToLocalView(r);return r})}qs(e,t){e.forEach((i,r)=>{for(const a of t)a.applyToLocalView(r)})}Ks(e,t){return this.ds.getEntries(e,t).next(i=>this.Gs(e,i).next(()=>i))}Gs(e,t){return this.Bs.getAllMutationBatchesAffectingDocumentKeys(e,t).next(i=>this.qs(t,i))}Qs(e,t,i){return Ne.isDocumentKey((r=t).path)&&null===r.collectionGroup&&0===r.filters.length?this.js(e,t.path):Zx(t)?this.Ws(e,t,i):this.zs(e,t,i);var r}js(e,t){return this.Ls(e,new Ne(t)).next(i=>{let r=ek();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}Ws(e,t,i){const r=t.collectionGroup;let a=ek();return this.indexManager.getCollectionParents(e,r).next(u=>ae.forEach(u,f=>{const g=(v=t,D=f.child(r),new $l(D,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt));var v,D;return this.zs(e,g,i).next(v=>{v.forEach((D,I)=>{a=a.insert(D,I)})})}).next(()=>a))}zs(e,t,i){let r;return this.ds.getAllFromCollection(e,t.path,i).next(a=>(r=a,this.Bs.getAllMutationBatchesAffectingQuery(e,t))).next(a=>{for(const u of a)for(const f of u.mutations){const g=f.key;let v=r.get(g);null==v&&(v=En.newInvalidDocument(g),r=r.insert(g,v)),Jx(f,v,u.localWriteTime),v.isFoundDocument()||(r=r.remove(g))}}).next(()=>(r.forEach((a,u)=>{Qx(t,u)||(r=r.remove(a))}),r))}}class _k{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.Hs=i,this.Js=r}static Ys(e,t){let i=an(),r=an();for(const a of t.docChanges)switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:r=r.add(a.doc.key)}return new _k(e,t.fromCache,i,r)}}class _V{Xs(e){this.Zs=e}Qs(e,t,i,r){return 0===(a=t).filters.length&&null===a.limit&&null==a.startAt&&null==a.endAt&&(0===a.explicitOrderBy.length||1===a.explicitOrderBy.length&&a.explicitOrderBy[0].field.isKeyField())||i.isEqual(bt.min())?this.ti(e,t):this.Zs.Ks(e,r).next(a=>{const u=this.ei(t,a);return(lD(t)||cD(t))&&this.ni(t.limitType,u,r,i)?this.ti(e,t):(jx()<=Kr.in.DEBUG&&xe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Kx(t)),this.Zs.Qs(e,t,JN(i,-1)).next(f=>(u.forEach(g=>{f=f.insert(g.key,g)}),f)))});var a}ei(e,t){let i=new Dn(cL(e));return t.forEach((r,a)=>{Qx(e,a)&&(i=i.add(a))}),i}ni(e,t,i,r){if(i.size!==t.size)return!0;const a="F"===e?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(r)>0)}ti(e,t){return jx()<=Kr.in.DEBUG&&xe("QueryEngine","Using full collection scan to execute query:",Kx(t)),this.Zs.Qs(e,t,Hl.min())}}class Qz{constructor(e,t,i,r){this.persistence=e,this.si=t,this.M=r,this.ii=new ii(Pt),this.ri=new mu(a=>Th(a),Mv),this.oi=new Map,this.ui=e.getRemoteDocumentCache(),this.fs=e.getTargetCache(),this._s=e.getBundleCache(),this.ai(i)}ai(e){this.indexManager=this.persistence.getIndexManager(e),this.Bs=this.persistence.getMutationQueue(e,this.indexManager),this.ci=new Kz(this.ui,this.Bs,this.indexManager),this.ui.setIndexManager(this.indexManager),this.si.Xs(this.ci)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.ii))}}function yV(n,e,t,i){return new Qz(n,e,t,i)}function vV(n,e){return yk.apply(this,arguments)}function yk(){return yk=(0,q.Z)(function*(n,e){const t=He(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.Bs.getAllMutationBatches(i).next(a=>(r=a,t.ai(e),t.Bs.getAllMutationBatches(i))).next(a=>{const u=[],f=[];let g=an();for(const v of r){u.push(v.batchId);for(const D of v.mutations)g=g.add(D.key)}for(const v of a){f.push(v.batchId);for(const D of v.mutations)g=g.add(D.key)}return t.ci.Ks(i,g).next(v=>({hi:v,removedBatchIds:u,addedBatchIds:f}))})})}),yk.apply(this,arguments)}function Jz(n,e){const t=He(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),a=t.ui.newChangeBuffer({trackRemovals:!0});return function(u,f,g,v){const D=g.batch,I=D.keys();let R=ae.resolve();return I.forEach(V=>{R=R.next(()=>v.getEntry(f,V)).next(H=>{const J=g.docVersions.get(V);Et(null!==J),H.version.compareTo(J)<0&&(D.applyToRemoteDocument(H,g),H.isValidDocument()&&(H.setReadTime(g.commitVersion),v.addEntry(H)))})}),R.next(()=>u.Bs.removeMutationBatch(f,D))}(t,i,e,a).next(()=>a.apply(i)).next(()=>t.Bs.performConsistencyCheck(i)).next(()=>t.ci.Ks(i,r))})}function bV(n){const e=He(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.fs.getLastRemoteSnapshotVersion(t))}function Xz(n,e){const t=He(n),i=e.snapshotVersion;let r=t.ii;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const u=t.ui.newChangeBuffer({trackRemovals:!0});r=t.ii;const f=[];e.targetChanges.forEach((v,D)=>{const I=r.get(D);if(!I)return;f.push(t.fs.removeMatchingKeys(a,v.removedDocuments,D).next(()=>t.fs.addMatchingKeys(a,v.addedDocuments,D)));let R=I.withSequenceNumber(a.currentSequenceNumber);var V,H,J;e.targetMismatches.has(D)?R=R.withResumeToken(Ci.EMPTY_BYTE_STRING,bt.min()).withLastLimboFreeSnapshotVersion(bt.min()):v.resumeToken.approximateByteSize()>0&&(R=R.withResumeToken(v.resumeToken,i)),r=r.insert(D,R),H=R,J=v,(0===(V=I).resumeToken.approximateByteSize()||H.snapshotVersion.toMicroseconds()-V.snapshotVersion.toMicroseconds()>=3e8||J.addedDocuments.size+J.modifiedDocuments.size+J.removedDocuments.size>0)&&f.push(t.fs.updateTargetData(a,R))});let g=eo();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(a,v))}),f.push(wV(a,u,e.documentUpdates).next(v=>{g=v})),!i.isEqual(bt.min())){const v=t.fs.getLastRemoteSnapshotVersion(a).next(D=>t.fs.setTargetsMetadata(a,a.currentSequenceNumber,i));f.push(v)}return ae.waitFor(f).next(()=>u.apply(a)).next(()=>t.ci.Gs(a,g)).next(()=>g)}).then(a=>(t.ii=r,a))}function wV(n,e,t){let i=an();return t.forEach(r=>i=i.add(r)),e.getEntries(n,i).next(r=>{let a=eo();return t.forEach((u,f)=>{const g=r.get(u);f.isNoDocument()&&f.version.isEqual(bt.min())?(e.removeEntry(u,f.readTime),a=a.insert(u,f)):!g.isValidDocument()||f.version.compareTo(g.version)>0||0===f.version.compareTo(g.version)&&g.hasPendingWrites?(e.addEntry(f),a=a.insert(u,f)):xe("LocalStore","Ignoring outdated watch update for ",u,". Current version:",g.version," Watch version:",f.version)}),a})}function eG(n,e){const t=He(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),t.Bs.getNextMutationBatchAfterBatchId(i,e)))}function Lm(n,e){const t=He(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.fs.getTargetData(i,e).next(a=>a?(r=a,ae.resolve(r)):t.fs.allocateTargetId(i).next(u=>(r=new gu(e,u,0,i.currentSequenceNumber),t.fs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=t.ii.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.ii=t.ii.insert(i.targetId,i),t.ri.set(e,i.targetId)),i})}function Vm(n,e,t){return vk.apply(this,arguments)}function vk(){return vk=(0,q.Z)(function*(n,e,t){const i=He(n),r=i.ii.get(e),a=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",a,u=>i.persistence.referenceDelegate.removeTarget(u,r)))}catch(u){if(!Rh(u))throw u;xe("LocalStore",`Failed to update sequence numbers for target ${e}: ${u}`)}i.ii=i.ii.remove(e),i.ri.delete(r.target)}),vk.apply(this,arguments)}function DD(n,e,t){const i=He(n);let r=bt.min(),a=an();return i.persistence.runTransaction("Execute query","readonly",u=>function(f,g,v){const D=He(f),I=D.ri.get(v);return void 0!==I?ae.resolve(D.ii.get(I)):D.fs.getTargetData(g,v)}(i,u,Xs(e)).next(f=>{if(f)return r=f.lastLimboFreeSnapshotVersion,i.fs.getMatchingKeysForTargetId(u,f.targetId).next(g=>{a=g})}).next(()=>i.si.Qs(u,e,t?r:bt.min(),t?a:an())).next(f=>(DV(i,lL(e),f),{documents:f,li:a})))}function CV(n,e){const t=He(n),i=He(t.fs),r=t.ii.get(e);return r?Promise.resolve(r.target):t.persistence.runTransaction("Get target data","readonly",a=>i.Et(a,e).next(u=>u?u.target:null))}function EV(n,e){const t=He(n),i=t.oi.get(e)||bt.min();return t.persistence.runTransaction("Get new document changes","readonly",r=>t.ui.getAllFromCollectionGroup(r,e,JN(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(DV(t,e,r),r))}function DV(n,e,t){let i=bt.min();t.forEach((r,a)=>{a.readTime.compareTo(i)>0&&(i=a.readTime)}),n.oi.set(e,i)}function bk(){return bk=(0,q.Z)(function*(n,e,t,i){const r=He(n);let a=an(),u=eo();for(const v of t){const D=e.fi(v.metadata.name);v.document&&(a=a.add(D));const I=e.di(v);I.setReadTime(e._i(v.metadata.readTime)),u=u.insert(D,I)}const f=r.ui.newChangeBuffer({trackRemovals:!0}),g=yield Lm(r,(v=i,Xs(Am(Kt.fromString(`__bundle__/docs/${v}`)))));var v;return r.persistence.runTransaction("Apply bundle documents","readwrite",v=>wV(v,f,u).next(D=>(f.apply(v),D)).next(D=>r.fs.removeMatchingKeysForTargetId(v,g.targetId).next(()=>r.fs.addMatchingKeys(v,a,g.targetId)).next(()=>r.ci.Gs(v,D)).next(()=>D)))}),bk.apply(this,arguments)}function nG(n,e){return wk.apply(this,arguments)}function wk(){return wk=(0,q.Z)(function*(n,e,t=an()){const i=yield Lm(n,Xs(lk(e.bundledQuery))),r=He(n);return r.persistence.runTransaction("Save named query","readwrite",a=>{const u=Li(e.readTime);if(i.snapshotVersion.compareTo(u)>=0)return r._s.saveNamedQuery(a,e);const f=i.withResumeToken(Ci.EMPTY_BYTE_STRING,u);return r.ii=r.ii.insert(f.targetId,f),r.fs.updateTargetData(a,f).next(()=>r.fs.removeMatchingKeysForTargetId(a,i.targetId)).next(()=>r.fs.addMatchingKeys(a,t,i.targetId)).next(()=>r._s.saveNamedQuery(a,e))})}),wk.apply(this,arguments)}class iG{constructor(e){this.M=e,this.wi=new Map,this.mi=new Map}getBundleMetadata(e,t){return ae.resolve(this.wi.get(t))}saveBundleMetadata(e,t){var i;return this.wi.set(t.id,{id:(i=t).id,version:i.version,createTime:Li(i.createTime)}),ae.resolve()}getNamedQuery(e,t){return ae.resolve(this.mi.get(t))}saveNamedQuery(e,t){return this.mi.set(t.name,{name:(i=t).name,query:lk(i.bundledQuery),readTime:Li(i.readTime)}),ae.resolve();var i}}class rG{constructor(){this.overlays=new ii(Ne.comparator),this.gi=new Map}getOverlay(e,t){return ae.resolve(this.overlays.get(t))}saveOverlays(e,t,i){return i.forEach((r,a)=>{this.Xt(e,t,a)}),ae.resolve()}removeOverlaysForBatchId(e,t,i){const r=this.gi.get(i);return void 0!==r&&(r.forEach(a=>this.overlays=this.overlays.remove(a)),this.gi.delete(i)),ae.resolve()}getOverlaysForCollection(e,t,i){const r=Pv(),a=t.length+1,u=new Ne(t.child("")),f=this.overlays.getIteratorFrom(u);for(;f.hasNext();){const g=f.getNext().value,v=g.getKey();if(!t.isPrefixOf(v.path))break;v.path.length===a&&g.largestBatchId>i&&r.set(g.getKey(),g)}return ae.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let a=new ii((v,D)=>v-D);const u=this.overlays.getIterator();for(;u.hasNext();){const v=u.getNext().value;if(v.getKey().getCollectionGroup()===t&&v.largestBatchId>i){let D=a.get(v.largestBatchId);null===D&&(D=Pv(),a=a.insert(v.largestBatchId,D)),D.set(v.getKey(),v)}}const f=Pv(),g=a.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((v,D)=>f.set(v,D)),!(f.size()>=r)););return ae.resolve(f)}Xt(e,t,i){if(null===i)return;const r=this.overlays.get(i.key);if(null!==r){const u=this.gi.get(r.largestBatchId).delete(i.key);this.gi.set(r.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new ak(t,i));let a=this.gi.get(t);void 0===a&&(a=an(),this.gi.set(t,a)),this.gi.set(t,a.add(i.key))}}class Ck{constructor(){this.yi=new Dn(Bi.pi),this.Ii=new Dn(Bi.Ti)}isEmpty(){return this.yi.isEmpty()}addReference(e,t){const i=new Bi(e,t);this.yi=this.yi.add(i),this.Ii=this.Ii.add(i)}Ei(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.Ai(new Bi(e,t))}Ri(e,t){e.forEach(i=>this.removeReference(i,t))}Pi(e){const t=new Ne(new Kt([])),i=new Bi(t,e),r=new Bi(t,e+1),a=[];return this.Ii.forEachInRange([i,r],u=>{this.Ai(u),a.push(u.key)}),a}bi(){this.yi.forEach(e=>this.Ai(e))}Ai(e){this.yi=this.yi.delete(e),this.Ii=this.Ii.delete(e)}Vi(e){const t=new Ne(new Kt([])),i=new Bi(t,e),r=new Bi(t,e+1);let a=an();return this.Ii.forEachInRange([i,r],u=>{a=a.add(u.key)}),a}containsKey(e){const t=new Bi(e,0),i=this.yi.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}class Bi{constructor(e,t){this.key=e,this.vi=t}static pi(e,t){return Ne.comparator(e.key,t.key)||Pt(e.vi,t.vi)}static Ti(e,t){return Pt(e.vi,t.vi)||Ne.comparator(e.key,t.key)}}class sG{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.Bs=[],this.Si=1,this.Di=new Dn(Bi.pi)}checkEmpty(e){return ae.resolve(0===this.Bs.length)}addMutationBatch(e,t,i,r){const a=this.Si;this.Si++;const u=new sk(a,t,i,r);this.Bs.push(u);for(const f of r)this.Di=this.Di.add(new Bi(f.key,a)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return ae.resolve(u)}lookupMutationBatch(e,t){return ae.resolve(this.Ci(t))}getNextMutationBatchAfterBatchId(e,t){const r=this.xi(t+1),a=r<0?0:r;return ae.resolve(this.Bs.length>a?this.Bs[a]:null)}getHighestUnacknowledgedBatchId(){return ae.resolve(0===this.Bs.length?-1:this.Si-1)}getAllMutationBatches(e){return ae.resolve(this.Bs.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Bi(t,0),r=new Bi(t,Number.POSITIVE_INFINITY),a=[];return this.Di.forEachInRange([i,r],u=>{const f=this.Ci(u.vi);a.push(f)}),ae.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Dn(Pt);return t.forEach(r=>{const a=new Bi(r,0),u=new Bi(r,Number.POSITIVE_INFINITY);this.Di.forEachInRange([a,u],f=>{i=i.add(f.vi)})}),ae.resolve(this.Ni(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1;let a=i;Ne.isDocumentKey(a)||(a=a.child(""));const u=new Bi(new Ne(a),0);let f=new Dn(Pt);return this.Di.forEachWhile(g=>{const v=g.key.path;return!!i.isPrefixOf(v)&&(v.length===r&&(f=f.add(g.vi)),!0)},u),ae.resolve(this.Ni(f))}Ni(e){const t=[];return e.forEach(i=>{const r=this.Ci(i);null!==r&&t.push(r)}),t}removeMutationBatch(e,t){Et(0===this.ki(t.batchId,"removed")),this.Bs.shift();let i=this.Di;return ae.forEach(t.mutations,r=>{const a=new Bi(r.key,t.batchId);return i=i.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Di=i})}_n(e){}containsKey(e,t){const i=new Bi(t,0),r=this.Di.firstAfterOrEqual(i);return ae.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return ae.resolve()}ki(e,t){return this.xi(e)}xi(e){return 0===this.Bs.length?0:e-this.Bs[0].batchId}Ci(e){const t=this.xi(e);return t<0||t>=this.Bs.length?null:this.Bs[t]}}class oG{constructor(e){this.Mi=e,this.docs=new ii(Ne.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,r=this.docs.get(i),a=r?r.size:0,u=this.Mi(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return ae.resolve(i?i.document.mutableCopy():En.newInvalidDocument(t))}getEntries(e,t){let i=eo();return t.forEach(r=>{const a=this.docs.get(r);i=i.insert(r,a?a.document.mutableCopy():En.newInvalidDocument(r))}),ae.resolve(i)}getAllFromCollection(e,t,i){let r=eo();const a=new Ne(t.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:f,value:{document:g}}=u.getNext();if(!t.isPrefixOf(f.path))break;f.path.length>t.length+1||M3(T3(g),i)<=0||(r=r.insert(g.key,g.mutableCopy()))}return ae.resolve(r)}getAllFromCollectionGroup(e,t,i,r){tt()}Oi(e,t){return ae.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new aG(this)}getSize(e){return ae.resolve(this.size)}}class aG extends hV{constructor(e){super(),this.Kn=e}applyChanges(e){const t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this.Kn.addEntry(e,r)):this.Kn.removeEntry(i)}),ae.waitFor(t)}getFromCache(e,t){return this.Kn.getEntry(e,t)}getAllFromCache(e,t){return this.Kn.getEntries(e,t)}}class lG{constructor(e){this.persistence=e,this.Fi=new mu(t=>Th(t),Mv),this.lastRemoteSnapshotVersion=bt.min(),this.highestTargetId=0,this.$i=0,this.Bi=new Ck,this.targetCount=0,this.Li=Vh.gn()}forEachTarget(e,t){return this.Fi.forEach((i,r)=>t(r)),ae.resolve()}getLastRemoteSnapshotVersion(e){return ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ae.resolve(this.$i)}allocateTargetId(e){return this.highestTargetId=this.Li.next(),ae.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.$i&&(this.$i=t),ae.resolve()}Tn(e){this.Fi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Li=new Vh(t),this.highestTargetId=t),e.sequenceNumber>this.$i&&(this.$i=e.sequenceNumber)}addTargetData(e,t){return this.Tn(t),this.targetCount+=1,ae.resolve()}updateTargetData(e,t){return this.Tn(t),ae.resolve()}removeTargetData(e,t){return this.Fi.delete(t.target),this.Bi.Pi(t.targetId),this.targetCount-=1,ae.resolve()}removeTargets(e,t,i){let r=0;const a=[];return this.Fi.forEach((u,f)=>{f.sequenceNumber<=t&&null===i.get(f.targetId)&&(this.Fi.delete(u),a.push(this.removeMatchingKeysForTargetId(e,f.targetId)),r++)}),ae.waitFor(a).next(()=>r)}getTargetCount(e){return ae.resolve(this.targetCount)}getTargetData(e,t){const i=this.Fi.get(t)||null;return ae.resolve(i)}addMatchingKeys(e,t,i){return this.Bi.Ei(t,i),ae.resolve()}removeMatchingKeys(e,t,i){this.Bi.Ri(t,i);const r=this.persistence.referenceDelegate,a=[];return r&&t.forEach(u=>{a.push(r.markPotentiallyOrphaned(e,u))}),ae.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.Bi.Pi(t),ae.resolve()}getMatchingKeysForTargetId(e,t){const i=this.Bi.Vi(t);return ae.resolve(i)}containsKey(e,t){return ae.resolve(this.Bi.containsKey(t))}}class cG{constructor(e,t){this.Ui={},this.overlays={},this.es=new Ss(0),this.ns=!1,this.ns=!0,this.referenceDelegate=e(this),this.fs=new lG(this),this.indexManager=new Uz,this.ds=new oG(i=>this.referenceDelegate.qi(i)),this.M=new QL(t),this._s=new iG(this.M)}start(){return Promise.resolve()}shutdown(){return this.ns=!1,Promise.resolve()}get started(){return this.ns}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new rG,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Ui[e.toKey()];return i||(i=new sG(t,this.referenceDelegate),this.Ui[e.toKey()]=i),i}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getBundleCache(){return this._s}runTransaction(e,t,i){xe("MemoryPersistence","Starting transaction:",e);const r=new uG(this.es.next());return this.referenceDelegate.Ki(),i(r).next(a=>this.referenceDelegate.Gi(r).next(()=>a)).toPromise().then(a=>(r.raiseOnCommittedEvent(),a))}Qi(e,t){return ae.or(Object.values(this.Ui).map(i=>()=>i.containsKey(e,t)))}}class uG extends YL{constructor(e){super(),this.currentSequenceNumber=e}}class Ek{constructor(e){this.persistence=e,this.ji=new Ck,this.Wi=null}static zi(e){return new Ek(e)}get Hi(){if(this.Wi)return this.Wi;throw tt()}addReference(e,t,i){return this.ji.addReference(i,t),this.Hi.delete(i.toString()),ae.resolve()}removeReference(e,t,i){return this.ji.removeReference(i,t),this.Hi.add(i.toString()),ae.resolve()}markPotentiallyOrphaned(e,t){return this.Hi.add(t.toString()),ae.resolve()}removeTarget(e,t){this.ji.Pi(t.targetId).forEach(r=>this.Hi.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(a=>this.Hi.add(a.toString()))}).next(()=>i.removeTargetData(e,t))}Ki(){this.Wi=new Set}Gi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ae.forEach(this.Hi,i=>{const r=Ne.fromPath(i);return this.Ji(e,r).next(a=>{a||t.removeEntry(r,bt.min())})}).next(()=>(this.Wi=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ji(e,t).next(i=>{i?this.Hi.delete(t.toString()):this.Hi.add(t.toString())})}qi(e){return 0}Ji(e,t){return ae.or([()=>ae.resolve(this.ji.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Qi(e,t)])}}function IV(n,e){return`firestore_clients_${n}_${e}`}function AV(n,e,t){let i=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(i+=`_${e.uid}`),i}function Dk(n,e){return`firestore_targets_${n}_${e}`}class ID{constructor(e,t,i,r){this.user=e,this.batchId=t,this.state=i,this.error=r}static Yi(e,t,i){const r=JSON.parse(i);let a,u="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return u&&r.error&&(u="string"==typeof r.error.message&&"string"==typeof r.error.code,u&&(a=new we(r.error.code,r.error.message))),u?new ID(e,t,r.state,a):(hi("SharedClientState",`Failed to parse mutation state for ID '${t}': ${i}`),null)}Xi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Yv{constructor(e,t,i){this.targetId=e,this.state=t,this.error=i}static Yi(e,t){const i=JSON.parse(t);let r,a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&(a="string"==typeof i.error.message&&"string"==typeof i.error.code,a&&(r=new we(i.error.code,i.error.message))),a?new Yv(e,i.state,r):(hi("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Xi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class AD{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Yi(e,t){const i=JSON.parse(t);let r="object"==typeof i&&i.activeTargetIds instanceof Array,a=pD();for(let u=0;r&&u<i.activeTargetIds.length;++u)r=HN(i.activeTargetIds[u]),a=a.add(i.activeTargetIds[u]);return r?new AD(e,a):(hi("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class Ik{constructor(e,t){this.clientId=e,this.onlineState=t}static Yi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new Ik(t.clientId,t.onlineState):(hi("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Ak{constructor(){this.activeTargetIds=pD()}Zi(e){this.activeTargetIds=this.activeTargetIds.add(e)}tr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Xi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Sk{constructor(e,t,i,r,a){this.window=e,this.Yn=t,this.persistenceKey=i,this.er=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.nr=this.sr.bind(this),this.ir=new ii(Pt),this.started=!1,this.rr=[];const u=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.ur=IV(this.persistenceKey,this.er),this.ar=`firestore_sequence_number_${this.persistenceKey}`,this.ir=this.ir.insert(this.er,new Ak),this.cr=new RegExp(`^firestore_clients_${u}_([^_]*)$`),this.hr=new RegExp(`^firestore_mutations_${u}_(\\d+)(?:_(.*))?$`),this.lr=new RegExp(`^firestore_targets_${u}_(\\d+)$`),this.dr=`firestore_online_state_${this.persistenceKey}`,this._r=function(f){return`firestore_bundle_loaded_v2_${f}`}(this.persistenceKey),this.window.addEventListener("storage",this.nr)}static vt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,q.Z)(function*(){const t=yield e.syncEngine.Fs();for(const r of t){if(r===e.er)continue;const a=e.getItem(IV(e.persistenceKey,r));if(a){const u=AD.Yi(r,a);u&&(e.ir=e.ir.insert(u.clientId,u))}}e.wr();const i=e.storage.getItem(e.dr);if(i){const r=e.mr(i);r&&e.gr(r)}for(const r of e.rr)e.sr(r);e.rr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ar,JSON.stringify(e))}getAllActiveQueryTargets(){return this.yr(this.ir)}isActiveQueryTarget(e){let t=!1;return this.ir.forEach((i,r)=>{r.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.pr(e,"pending")}updateMutationState(e,t,i){this.pr(e,t,i),this.Ir(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(Dk(this.persistenceKey,e));if(i){const r=Yv.Yi(e,i);r&&(t=r.state)}}return this.Tr.Zi(e),this.wr(),t}removeLocalQueryTarget(e){this.Tr.tr(e),this.wr()}isLocalQueryTarget(e){return this.Tr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Dk(this.persistenceKey,e))}updateQueryState(e,t,i){this.Er(e,t,i)}handleUserChange(e,t,i){t.forEach(r=>{this.Ir(r)}),this.currentUser=e,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(e){this.Ar(e)}notifyBundleLoaded(e){this.Rr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.nr),this.removeItem(this.ur),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return xe("SharedClientState","READ",e,t),t}setItem(e,t){xe("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){xe("SharedClientState","REMOVE",e),this.storage.removeItem(e)}sr(e){var t=this;const i=e;if(i.storageArea===this.storage){if(xe("SharedClientState","EVENT",i.key,i.newValue),i.key===this.ur)return void hi("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Yn.enqueueRetryable((0,q.Z)(function*(){if(t.started){if(null!==i.key)if(t.cr.test(i.key)){if(null==i.newValue){const r=t.Pr(i.key);return t.br(r,null)}{const r=t.Vr(i.key,i.newValue);if(r)return t.br(r.clientId,r)}}else if(t.hr.test(i.key)){if(null!==i.newValue){const r=t.vr(i.key,i.newValue);if(r)return t.Sr(r)}}else if(t.lr.test(i.key)){if(null!==i.newValue){const r=t.Dr(i.key,i.newValue);if(r)return t.Cr(r)}}else if(i.key===t.dr){if(null!==i.newValue){const r=t.mr(i.newValue);if(r)return t.gr(r)}}else if(i.key===t.ar){const r=function(a){let u=Ss.A;if(null!=a)try{const f=JSON.parse(a);Et("number"==typeof f),u=f}catch(f){hi("SharedClientState","Failed to read sequence number from WebStorage",f)}return u}(i.newValue);r!==Ss.A&&t.sequenceNumberHandler(r)}else if(i.key===t._r){const r=t.Nr(i.newValue);yield Promise.all(r.map(a=>t.syncEngine.kr(a)))}}else t.rr.push(i)}))}}get Tr(){return this.ir.get(this.er)}wr(){this.setItem(this.ur,this.Tr.Xi())}pr(e,t,i){const r=new ID(this.currentUser,e,t,i),a=AV(this.persistenceKey,this.currentUser,e);this.setItem(a,r.Xi())}Ir(e){const t=AV(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Ar(e){this.storage.setItem(this.dr,JSON.stringify({clientId:this.er,onlineState:e}))}Er(e,t,i){const r=Dk(this.persistenceKey,e),a=new Yv(e,t,i);this.setItem(r,a.Xi())}Rr(e){const t=JSON.stringify(Array.from(e));this.setItem(this._r,t)}Pr(e){const t=this.cr.exec(e);return t?t[1]:null}Vr(e,t){const i=this.Pr(e);return AD.Yi(i,t)}vr(e,t){const i=this.hr.exec(e),r=Number(i[1]);return ID.Yi(new Xi(void 0!==i[2]?i[2]:null),r,t)}Dr(e,t){const i=this.lr.exec(e),r=Number(i[1]);return Yv.Yi(r,t)}mr(e){return Ik.Yi(e)}Nr(e){return JSON.parse(e)}Sr(e){var t=this;return(0,q.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Mr(e.batchId,e.state,e.error);xe("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Cr(e){return this.syncEngine.Or(e.targetId,e.state,e.error)}br(e,t){const i=t?this.ir.insert(e,t):this.ir.remove(e),r=this.yr(this.ir),a=this.yr(i),u=[],f=[];return a.forEach(g=>{r.has(g)||u.push(g)}),r.forEach(g=>{a.has(g)||f.push(g)}),this.syncEngine.Fr(u,f).then(()=>{this.ir=i})}gr(e){this.ir.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}yr(e){let t=pD();return e.forEach((i,r)=>{t=t.unionWith(r.activeTargetIds)}),t}}class SV{constructor(){this.$r=new Ak,this.Br={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.$r.Zi(e),this.Br[e]||"not-current"}updateQueryState(e,t,i){this.Br[e]=t}removeLocalQueryTarget(e){this.$r.tr(e)}isLocalQueryTarget(e){return this.$r.activeTargetIds.has(e)}clearQueryState(e){delete this.Br[e]}getAllActiveQueryTargets(){return this.$r.activeTargetIds}isActiveQueryTarget(e){return this.$r.activeTargetIds.has(e)}start(){return this.$r=new Ak,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class dG{Lr(e){}shutdown(){}}class TV{constructor(){this.Ur=()=>this.qr(),this.Kr=()=>this.Gr(),this.Qr=[],this.jr()}Lr(e){this.Qr.push(e)}shutdown(){window.removeEventListener("online",this.Ur),window.removeEventListener("offline",this.Kr)}jr(){window.addEventListener("online",this.Ur),window.addEventListener("offline",this.Kr)}qr(){xe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Qr)e(0)}Gr(){xe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Qr)e(1)}static vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const hG={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class fG{constructor(e){this.Wr=e.Wr,this.zr=e.zr}Hr(e){this.Jr=e}Yr(e){this.Xr=e}onMessage(e){this.Zr=e}close(){this.zr()}send(e){this.Wr(e)}eo(){this.Jr()}no(e){this.Xr(e)}so(e){this.Zr(e)}}class pG extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.io=(e.ssl?"https":"http")+"://"+e.host,this.ro="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}oo(e,t,i,r,a){const u=this.uo(e,t);xe("RestConnection","Sending: ",u,i);const f={};return this.ao(f,r,a),this.co(e,u,f,i).then(g=>(xe("RestConnection","Received: ",g),g),g=>{throw wv("RestConnection",`${e} failed with error: `,g,"url: ",u,"request:",i),g})}ho(e,t,i,r,a){return this.oo(e,t,i,r,a)}ao(e,t,i){e["X-Goog-Api-Client"]="gl-js/ fire/"+wm,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((r,a)=>e[a]=r),i&&i.headers.forEach((r,a)=>e[a]=r)}uo(e,t){return`${this.io}/v1/${t}:${hG[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}co(e,t,i,r){return new Promise((a,u)=>{const f=new h3;f.listenOnce(c3.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case Ux.NO_ERROR:const v=f.getResponseJson();xe("Connection","XHR received:",JSON.stringify(v)),a(v);break;case Ux.TIMEOUT:xe("Connection",'RPC "'+e+'" timed out'),u(new we(ie.DEADLINE_EXCEEDED,"Request time out"));break;case Ux.HTTP_ERROR:const D=f.getStatus();if(xe("Connection",'RPC "'+e+'" failed with status:',D,"response text:",f.getResponseText()),D>0){const I=f.getResponseJson().error;if(I&&I.status&&I.message){const R=function(V){const H=V.toLowerCase().replace(/_/g,"-");return Object.values(ie).indexOf(H)>=0?H:ie.UNKNOWN}(I.status);u(new we(R,I.message))}else u(new we(ie.UNKNOWN,"Server responded with status "+f.getStatus()))}else u(new we(ie.UNAVAILABLE,"Connection failed."));break;default:tt()}}finally{xe("Connection",'RPC "'+e+'" completed.')}});const g=JSON.stringify(r);f.send(t,"POST",g,i,15)})}lo(e,t,i){const r=[this.io,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=a3(),u=l3(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(f.xmlHttpFactory=new d3({})),this.ao(f.initMessageHeaders,t,i),(0,Ge.uI)()||(0,Ge.b$)()||(0,Ge.d)()||(0,Ge.w1)()||(0,Ge.Mn)()||(0,Ge.ru)()||(f.httpHeadersOverwriteParam="$httpHeaders");const g=r.join("");xe("Connection","Creating WebChannel: "+g,f);const v=a.createWebChannel(g,f);let D=!1,I=!1;const R=new fG({Wr:H=>{I?xe("Connection","Not sending because WebChannel is closed:",H):(D||(xe("Connection","Opening WebChannel transport."),v.open(),D=!0),xe("Connection","WebChannel sending:",H),v.send(H))},zr:()=>v.close()}),V=(H,J,be)=>{H.listen(J,qe=>{try{be(qe)}catch(Ke){setTimeout(()=>{throw Ke},0)}})};return V(v,nD.EventType.OPEN,()=>{I||xe("Connection","WebChannel transport opened.")}),V(v,nD.EventType.CLOSE,()=>{I||(I=!0,xe("Connection","WebChannel transport closed"),R.no())}),V(v,nD.EventType.ERROR,H=>{I||(I=!0,wv("Connection","WebChannel transport errored:",H),R.no(new we(ie.UNAVAILABLE,"The operation could not be completed")))}),V(v,nD.EventType.MESSAGE,H=>{var J;if(!I){const be=H.data[0];Et(!!be);const qe=be,Ke=qe.error||(null===(J=qe[0])||void 0===J?void 0:J.error);if(Ke){xe("Connection","WebChannel received error:",Ke);const Je=Ke.status;let et=function(Ft){const tn=pi[Ft];if(void 0!==tn)return DL(tn)}(Je),Mt=Ke.message;void 0===et&&(et=ie.INTERNAL,Mt="Unknown error status: "+Je+" with message "+Ke.message),I=!0,R.no(new we(et,Mt)),v.close()}else xe("Connection","WebChannel received:",be),R.so(be)}}),V(u,u3.STAT_EVENT,H=>{H.stat===ON.PROXY?xe("Connection","Detected buffering proxy"):H.stat===ON.NOPROXY&&xe("Connection","Detected no buffering proxy")}),setTimeout(()=>{R.eo()},0),R}}function MV(){return"undefined"!=typeof window?window:null}function SD(){return"undefined"!=typeof document?document:null}function Zv(n){return new nz(n,!0)}class Tk{constructor(e,t,i=1e3,r=1.5,a=6e4){this.Yn=e,this.timerId=t,this.fo=i,this._o=r,this.wo=a,this.mo=0,this.yo=null,this.po=Date.now(),this.reset()}reset(){this.mo=0}Io(){this.mo=this.wo}To(e){this.cancel();const t=Math.floor(this.mo+this.Eo()),i=Math.max(0,Date.now()-this.po),r=Math.max(0,t-i);r>0&&xe("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.mo} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.yo=this.Yn.enqueueAfterDelay(this.timerId,r,()=>(this.po=Date.now(),e())),this.mo*=this._o,this.mo<this.fo&&(this.mo=this.fo),this.mo>this.wo&&(this.mo=this.wo)}Ao(){null!==this.yo&&(this.yo.skipDelay(),this.yo=null)}cancel(){null!==this.yo&&(this.yo.cancel(),this.yo=null)}Eo(){return(Math.random()-.5)*this.mo}}class xV{constructor(e,t,i,r,a,u,f,g){this.Yn=e,this.Ro=i,this.Po=r,this.bo=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=f,this.listener=g,this.state=0,this.Vo=0,this.vo=null,this.So=null,this.stream=null,this.Do=new Tk(e,t)}Co(){return 1===this.state||5===this.state||this.xo()}xo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.No()}stop(){var e=this;return(0,q.Z)(function*(){e.Co()&&(yield e.close(0))})()}ko(){this.state=0,this.Do.reset()}Mo(){this.xo()&&null===this.vo&&(this.vo=this.Yn.enqueueAfterDelay(this.Ro,6e4,()=>this.Oo()))}Fo(e){this.$o(),this.stream.send(e)}Oo(){var e=this;return(0,q.Z)(function*(){if(e.xo())return e.close(0)})()}$o(){this.vo&&(this.vo.cancel(),this.vo=null)}Bo(){this.So&&(this.So.cancel(),this.So=null)}close(e,t){var i=this;return(0,q.Z)(function*(){i.$o(),i.Bo(),i.Do.cancel(),i.Vo++,4!==e?i.Do.reset():t&&t.code===ie.RESOURCE_EXHAUSTED?(hi(t.toString()),hi("Using maximum backoff delay to prevent overloading the backend."),i.Do.Io()):t&&t.code===ie.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Lo(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.Yr(t)})()}Lo(){}auth(){this.state=1;const e=this.Uo(this.Vo),t=this.Vo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Vo===t&&this.qo(i,r)},i=>{e(()=>{const r=new we(ie.UNKNOWN,"Fetching auth token failed: "+i.message);return this.Ko(r)})})}qo(e,t){const i=this.Uo(this.Vo);this.stream=this.Go(e,t),this.stream.Hr(()=>{i(()=>(this.state=2,this.So=this.Yn.enqueueAfterDelay(this.Po,1e4,()=>(this.xo()&&(this.state=3),Promise.resolve())),this.listener.Hr()))}),this.stream.Yr(r=>{i(()=>this.Ko(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}No(){var e=this;this.state=5,this.Do.To((0,q.Z)(function*(){e.state=0,e.start()}))}Ko(e){return xe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Uo(e){return t=>{this.Yn.enqueueAndForget(()=>this.Vo===e?t():(xe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class mG extends xV{constructor(e,t,i,r,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,u),this.M=a}Go(e,t){return this.bo.lo("Listen",e,t)}onMessage(e){this.Do.reset();const t=function sz(n,e){let t;if("targetChange"in e){const i="NO_CHANGE"===(g=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===g?1:"REMOVE"===g?2:"CURRENT"===g?3:"RESET"===g?4:tt(),r=e.targetChange.targetIds||[],a=function(g,v){return g.N?(Et(void 0===v||"string"==typeof v),Ci.fromBase64String(v||"")):(Et(void 0===v||v instanceof Uint8Array),Ci.fromUint8Array(v||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,f=u&&function(g){const v=void 0===g.code?ie.UNKNOWN:DL(g.code);return new we(v,g.message||"")}(u);t=new SL(i,r,a,f||null)}else if("documentChange"in e){const i=e.documentChange,r=xa(n,i.document.name),a=Li(i.document.updateTime),u=new fr({mapValue:{fields:i.document.fields}}),f=En.newFoundDocument(r,a,u);t=new mD(i.targetIds||[],i.removedTargetIds||[],f.key,f)}else if("documentDelete"in e){const i=e.documentDelete,r=xa(n,i.document),a=i.readTime?Li(i.readTime):bt.min(),u=En.newNoDocument(r,a);t=new mD([],i.removedTargetIds||[],u.key,u)}else if("documentRemove"in e){const i=e.documentRemove,r=xa(n,i.document);t=new mD([],i.removedTargetIds||[],r,null)}else{if(!("filter"in e))return tt();{const i=e.filter,a=new W3(i.count||0);t=new AL(i.targetId,a)}}var g;return t}(this.M,e),i=function(r){if(!("targetChange"in r))return bt.min();const a=r.targetChange;return a.targetIds&&a.targetIds.length?bt.min():a.readTime?Li(a.readTime):bt.min()}(e);return this.listener.Qo(t,i)}jo(e){const t={};t.database=Bv(this.M),t.addTarget=function(r,a){let u;const f=a.target;return u=oD(f)?{documents:LL(r,f)}:{query:VL(r,f)},u.targetId=a.targetId,a.resumeToken.approximateByteSize()>0?u.resumeToken=kL(r,a.resumeToken):a.snapshotVersion.compareTo(bt.min())>0&&(u.readTime=Lv(r,a.snapshotVersion.toTimestamp())),u}(this.M,e);const i=function az(n,e){const t=function(i,r){switch(r){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return tt()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);i&&(t.labels=i),this.Fo(t)}Wo(e){const t={};t.database=Bv(this.M),t.removeTarget=e,this.Fo(t)}}class gG extends xV{constructor(e,t,i,r,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,u),this.M=a,this.zo=!1}get Ho(){return this.zo}start(){this.zo=!1,this.lastStreamToken=void 0,super.start()}Lo(){this.zo&&this.Jo([])}Go(e,t){return this.bo.lo("Write",e,t)}onMessage(e){if(Et(!!e.streamToken),this.lastStreamToken=e.streamToken,this.zo){this.Do.reset();const t=function oz(n,e){return n&&n.length>0?(Et(void 0!==e),n.map(t=>function(i,r){let a=Li(i.updateTime?i.updateTime:r);return a.isEqual(bt.min())&&(a=Li(r)),new z3(a,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),i=Li(e.commitTime);return this.listener.Yo(i,t)}return Et(!e.writeResults||0===e.writeResults.length),this.zo=!0,this.listener.Xo()}Zo(){const e={};e.database=Bv(this.M),this.Fo(e)}Jo(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>Uv(this.M,i))};this.Fo(t)}}class _G extends class{}{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.bo=i,this.M=r,this.tu=!1}eu(){if(this.tu)throw new we(ie.FAILED_PRECONDITION,"The client has already been terminated.")}oo(e,t,i){return this.eu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,a])=>this.bo.oo(e,t,i,r,a)).catch(r=>{throw"FirebaseError"===r.name?(r.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new we(ie.UNKNOWN,r.toString())})}ho(e,t,i){return this.eu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,a])=>this.bo.ho(e,t,i,r,a)).catch(r=>{throw"FirebaseError"===r.name?(r.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new we(ie.UNKNOWN,r.toString())})}terminate(){this.tu=!0}}class yG{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.nu=0,this.su=null,this.iu=!0}ru(){0===this.nu&&(this.ou("Unknown"),this.su=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.su=null,this.uu("Backend didn't respond within 10 seconds."),this.ou("Offline"),Promise.resolve())))}au(e){"Online"===this.state?this.ou("Unknown"):(this.nu++,this.nu>=1&&(this.cu(),this.uu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ou("Offline")))}set(e){this.cu(),this.nu=0,"Online"===e&&(this.iu=!1),this.ou(e)}ou(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}uu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.iu?(hi(t),this.iu=!1):xe("OnlineStateTracker",t)}cu(){null!==this.su&&(this.su.cancel(),this.su=null)}}class vG{constructor(e,t,i,r,a){var u=this;this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.hu=[],this.lu=new Map,this.fu=new Set,this.du=[],this._u=a,this._u.Lr(f=>{i.enqueueAndForget((0,q.Z)(function*(){var g;bu(u)&&(xe("RemoteStore","Restarting streams for network reachability change."),yield(g=(0,q.Z)(function*(v){const D=He(v);D.fu.add(4),yield Bm(D),D.wu.set("Unknown"),D.fu.delete(4),yield Kv(D)}),function(v){return g.apply(this,arguments)})(u))}))}),this.wu=new yG(i,r)}}function Kv(n){return Mk.apply(this,arguments)}function Mk(){return Mk=(0,q.Z)(function*(n){if(bu(n))for(const e of n.du)yield e(!0)}),Mk.apply(this,arguments)}function Bm(n){return xk.apply(this,arguments)}function xk(){return xk=(0,q.Z)(function*(n){for(const e of n.du)yield e(!1)}),xk.apply(this,arguments)}function TD(n,e){const t=He(n);t.lu.has(e.targetId)||(t.lu.set(e.targetId,e),Ok(t)?Rk(t):jm(t).xo()&&kk(t,e))}function Qv(n,e){const t=He(n),i=jm(t);t.lu.delete(e),i.xo()&&kV(t,e),0===t.lu.size&&(i.xo()?i.Mo():bu(t)&&t.wu.set("Unknown"))}function kk(n,e){n.mu.Z(e.targetId),jm(n).jo(e)}function kV(n,e){n.mu.Z(e),jm(n).Wo(e)}function Rk(n){n.mu=new X3({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.lu.get(e)||null}),jm(n).start(),n.wu.ru()}function Ok(n){return bu(n)&&!jm(n).Co()&&n.lu.size>0}function bu(n){return 0===He(n).fu.size}function RV(n){n.mu=void 0}function bG(n){return Pk.apply(this,arguments)}function Pk(){return Pk=(0,q.Z)(function*(n){n.lu.forEach((e,t)=>{kk(n,e)})}),Pk.apply(this,arguments)}function wG(n,e){return Fk.apply(this,arguments)}function Fk(){return Fk=(0,q.Z)(function*(n,e){RV(n),Ok(n)?(n.wu.au(e),Rk(n)):n.wu.set("Unknown")}),Fk.apply(this,arguments)}function CG(n,e,t){return Nk.apply(this,arguments)}function Nk(){return Nk=(0,q.Z)(function*(n,e,t){if(n.wu.set("Online"),e instanceof SL&&2===e.state&&e.cause)try{yield(i=(0,q.Z)(function*(r,a){const u=a.cause;for(const f of a.targetIds)r.lu.has(f)&&(yield r.remoteSyncer.rejectListen(f,u),r.lu.delete(f),r.mu.removeTarget(f))}),function(r,a){return i.apply(this,arguments)})(n,e)}catch(i){xe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield MD(n,i)}else if(e instanceof mD?n.mu.ut(e):e instanceof AL?n.mu._t(e):n.mu.ht(e),!t.isEqual(bt.min()))try{const i=yield bV(n.localStore);t.compareTo(i)>=0&&(yield function(r,a){const u=r.mu.yt(a);return u.targetChanges.forEach((f,g)=>{if(f.resumeToken.approximateByteSize()>0){const v=r.lu.get(g);v&&r.lu.set(g,v.withResumeToken(f.resumeToken,a))}}),u.targetMismatches.forEach(f=>{const g=r.lu.get(f);if(!g)return;r.lu.set(f,g.withResumeToken(Ci.EMPTY_BYTE_STRING,g.snapshotVersion)),kV(r,f);const v=new gu(g.target,f,1,g.sequenceNumber);kk(r,v)}),r.remoteSyncer.applyRemoteEvent(u)}(n,t))}catch(i){xe("RemoteStore","Failed to raise snapshot:",i),yield MD(n,i)}var i}),Nk.apply(this,arguments)}function MD(n,e,t){return Lk.apply(this,arguments)}function Lk(){return Lk=(0,q.Z)(function*(n,e,t){if(!Rh(e))throw e;n.fu.add(1),yield Bm(n),n.wu.set("Offline"),t||(t=()=>bV(n.localStore)),n.asyncQueue.enqueueRetryable((0,q.Z)(function*(){xe("RemoteStore","Retrying IndexedDB access"),yield t(),n.fu.delete(1),yield Kv(n)}))}),Lk.apply(this,arguments)}function OV(n,e){return e().catch(t=>MD(n,t,e))}function Um(n){return Vk.apply(this,arguments)}function Vk(){return Vk=(0,q.Z)(function*(n){const e=He(n),t=wu(e);let i=e.hu.length>0?e.hu[e.hu.length-1].batchId:-1;for(;EG(e);)try{const r=yield eG(e.localStore,i);if(null===r){0===e.hu.length&&t.Mo();break}i=r.batchId,DG(e,r)}catch(r){yield MD(e,r)}PV(e)&&FV(e)}),Vk.apply(this,arguments)}function EG(n){return bu(n)&&n.hu.length<10}function DG(n,e){n.hu.push(e);const t=wu(n);t.xo()&&t.Ho&&t.Jo(e.mutations)}function PV(n){return bu(n)&&!wu(n).Co()&&n.hu.length>0}function FV(n){wu(n).start()}function IG(n){return Bk.apply(this,arguments)}function Bk(){return Bk=(0,q.Z)(function*(n){wu(n).Zo()}),Bk.apply(this,arguments)}function AG(n){return Uk.apply(this,arguments)}function Uk(){return Uk=(0,q.Z)(function*(n){const e=wu(n);for(const t of n.hu)e.Jo(t.mutations)}),Uk.apply(this,arguments)}function SG(n,e,t){return jk.apply(this,arguments)}function jk(){return jk=(0,q.Z)(function*(n,e,t){const i=n.hu.shift(),r=ok.from(i,e,t);yield OV(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield Um(n)}),jk.apply(this,arguments)}function TG(n,e){return Hk.apply(this,arguments)}function Hk(){return Hk=(0,q.Z)(function*(n,e){var t;e&&wu(n).Ho&&(yield(t=(0,q.Z)(function*(i,r){if(EL(a=r.code)&&a!==ie.ABORTED){const u=i.hu.shift();wu(i).ko(),yield OV(i,()=>i.remoteSyncer.rejectFailedWrite(u.batchId,r)),yield Um(i)}var a}),function(i,r){return t.apply(this,arguments)})(n,e)),PV(n)&&FV(n)}),Hk.apply(this,arguments)}function NV(n,e){return $k.apply(this,arguments)}function $k(){return $k=(0,q.Z)(function*(n,e){const t=He(n);t.asyncQueue.verifyOperationInProgress(),xe("RemoteStore","RemoteStore received new credentials");const i=bu(t);t.fu.add(3),yield Bm(t),i&&t.wu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.fu.delete(3),yield Kv(t)}),$k.apply(this,arguments)}function zk(n,e){return Gk.apply(this,arguments)}function Gk(){return Gk=(0,q.Z)(function*(n,e){const t=He(n);e?(t.fu.delete(2),yield Kv(t)):e||(t.fu.add(2),yield Bm(t),t.wu.set("Unknown"))}),Gk.apply(this,arguments)}function jm(n){return n.gu||(n.gu=function(e,t,i){const r=He(e);return r.eu(),new mG(t,r.bo,r.authCredentials,r.appCheckCredentials,r.M,i)}(n.datastore,n.asyncQueue,{Hr:bG.bind(null,n),Yr:wG.bind(null,n),Qo:CG.bind(null,n)}),n.du.push(function(){var e=(0,q.Z)(function*(t){t?(n.gu.ko(),Ok(n)?Rk(n):n.wu.set("Unknown")):(yield n.gu.stop(),RV(n))});return function(t){return e.apply(this,arguments)}}())),n.gu}function wu(n){return n.yu||(n.yu=function(e,t,i){const r=He(e);return r.eu(),new gG(t,r.bo,r.authCredentials,r.appCheckCredentials,r.M,i)}(n.datastore,n.asyncQueue,{Hr:IG.bind(null,n),Yr:TG.bind(null,n),Xo:AG.bind(null,n),Yo:SG.bind(null,n)}),n.du.push(function(){var e=(0,q.Z)(function*(t){t?(n.yu.ko(),yield Um(n)):(yield n.yu.stop(),n.hu.length>0&&(xe("RemoteStore",`Stopping write stream with ${n.hu.length} pending writes`),n.hu=[]))});return function(t){return e.apply(this,arguments)}}())),n.yu}class qk{constructor(e,t,i,r,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=a,this.deferred=new Fi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}static createAndSchedule(e,t,i,r,a){const u=Date.now()+i,f=new qk(e,t,u,r,a);return f.start(i),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new we(ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Hm(n,e){if(hi("AsyncQueue",`${e}: ${n}`),Rh(n))return new we(ie.UNAVAILABLE,`${e}: ${n}`);throw n}class $m{constructor(e){this.comparator=e?(t,i)=>e(t,i)||Ne.comparator(t.key,i.key):(t,i)=>Ne.comparator(t.key,i.key),this.keyedMap=ek(),this.sortedSet=new ii(this.comparator)}static emptySet(e){return new $m(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof $m)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,a=i.getNext().key;if(!r.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const i=new $m;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class LV{constructor(){this.pu=new ii(Ne.comparator)}track(e){const t=e.doc.key,i=this.pu.get(t);i?0!==e.type&&3===i.type?this.pu=this.pu.insert(t,e):3===e.type&&1!==i.type?this.pu=this.pu.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.pu=this.pu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.pu=this.pu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.pu=this.pu.remove(t):1===e.type&&2===i.type?this.pu=this.pu.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.pu=this.pu.insert(t,{type:2,doc:e.doc}):tt():this.pu=this.pu.insert(t,e)}Iu(){const e=[];return this.pu.inorderTraversal((t,i)=>{e.push(i)}),e}}class zm{constructor(e,t,i,r,a,u,f,g){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=f,this.excludesMetadataChanges=g}static fromInitialDocuments(e,t,i,r){const a=[];return t.forEach(u=>{a.push({type:0,doc:u})}),new zm(e,t,$m.emptySet(t),a,i,r,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&xv(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}}class MG{constructor(){this.Tu=void 0,this.listeners=[]}}class xG{constructor(){this.queries=new mu(e=>aL(e),xv),this.onlineState="Unknown",this.Eu=new Set}}function Wk(n,e){return Yk.apply(this,arguments)}function Yk(){return Yk=(0,q.Z)(function*(n,e){const t=He(n),i=e.query;let r=!1,a=t.queries.get(i);if(a||(r=!0,a=new MG),r)try{a.Tu=yield t.onListen(i)}catch(u){const f=Hm(u,`Initialization of query '${Kx(e.query)}' failed`);return void e.onError(f)}t.queries.set(i,a),a.listeners.push(e),e.Au(t.onlineState),a.Tu&&e.Ru(a.Tu)&&Qk(t)}),Yk.apply(this,arguments)}function Zk(n,e){return Kk.apply(this,arguments)}function Kk(){return Kk=(0,q.Z)(function*(n,e){const t=He(n),i=e.query;let r=!1;const a=t.queries.get(i);if(a){const u=a.listeners.indexOf(e);u>=0&&(a.listeners.splice(u,1),r=0===a.listeners.length)}if(r)return t.queries.delete(i),t.onUnlisten(i)}),Kk.apply(this,arguments)}function kG(n,e){const t=He(n);let i=!1;for(const r of e){const u=t.queries.get(r.query);if(u){for(const f of u.listeners)f.Ru(r)&&(i=!0);u.Tu=r}}i&&Qk(t)}function RG(n,e,t){const i=He(n),r=i.queries.get(e);if(r)for(const a of r.listeners)a.onError(t);i.queries.delete(e)}function Qk(n){n.Eu.forEach(e=>{e.next()})}class Jk{constructor(e,t,i){this.query=e,this.Pu=t,this.bu=!1,this.Vu=null,this.onlineState="Unknown",this.options=i||{}}Ru(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)3!==r.type&&i.push(r);e=new zm(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.bu?this.vu(e)&&(this.Pu.next(e),t=!0):this.Su(e,this.onlineState)&&(this.Du(e),t=!0),this.Vu=e,t}onError(e){this.Pu.error(e)}Au(e){this.onlineState=e;let t=!1;return this.Vu&&!this.bu&&this.Su(this.Vu,e)&&(this.Du(this.Vu),t=!0),t}Su(e,t){return!e.fromCache||!(this.options.Cu&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}vu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Vu&&this.Vu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Du(e){e=zm.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Pu.next(e)}}class OG{constructor(e,t){this.payload=e,this.byteLength=t}xu(){return"metadata"in this.payload}}class VV{constructor(e){this.M=e}fi(e){return xa(this.M,e)}di(e){return e.metadata.exists?NL(this.M,e.document,!1):En.newNoDocument(this.fi(e.metadata.name),this._i(e.metadata.readTime))}_i(e){return Li(e)}}class PG{constructor(e,t,i){this.Nu=e,this.localStore=t,this.M=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=BV(e)}ku(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const i=Kt.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Mu(e){const t=new Map,i=new VV(this.M);for(const r of e)if(r.metadata.queries){const a=i.fi(r.metadata.name);for(const u of r.metadata.queries){const f=(t.get(u)||an()).add(a);t.set(u,f)}}return t}complete(){var e=this;return(0,q.Z)(function*(){const t=yield function tG(n,e,t,i){return bk.apply(this,arguments)}(e.localStore,new VV(e.M),e.documents,e.Nu.id),i=e.Mu(e.documents);for(const r of e.queries)yield nG(e.localStore,r,i.get(r.name));return e.progress.taskState="Success",{progress:e.progress,Ou:e.collectionGroups,Fu:t}})()}}function BV(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class UV{constructor(e){this.key=e}}class jV{constructor(e){this.key=e}}class HV{constructor(e,t){this.query=e,this.$u=t,this.Bu=null,this.current=!1,this.Lu=an(),this.mutatedKeys=an(),this.Uu=cL(e),this.qu=new $m(this.Uu)}get Ku(){return this.$u}Gu(e,t){const i=t?t.Qu:new LV,r=t?t.qu:this.qu;let a=t?t.mutatedKeys:this.mutatedKeys,u=r,f=!1;const g=lD(this.query)&&r.size===this.query.limit?r.last():null,v=cD(this.query)&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((D,I)=>{const R=r.get(D),V=Qx(this.query,I)?I:null,H=!!R&&this.mutatedKeys.has(R.key),J=!!V&&(V.hasLocalMutations||this.mutatedKeys.has(V.key)&&V.hasCommittedMutations);let be=!1;R&&V?R.data.isEqual(V.data)?H!==J&&(i.track({type:3,doc:V}),be=!0):this.ju(R,V)||(i.track({type:2,doc:V}),be=!0,(g&&this.Uu(V,g)>0||v&&this.Uu(V,v)<0)&&(f=!0)):!R&&V?(i.track({type:0,doc:V}),be=!0):R&&!V&&(i.track({type:1,doc:R}),be=!0,(g||v)&&(f=!0)),be&&(V?(u=u.add(V),a=J?a.add(D):a.delete(D)):(u=u.delete(D),a=a.delete(D)))}),lD(this.query)||cD(this.query))for(;u.size>this.query.limit;){const D=lD(this.query)?u.last():u.first();u=u.delete(D.key),a=a.delete(D.key),i.track({type:1,doc:D})}return{qu:u,Qu:i,ni:f,mutatedKeys:a}}ju(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i){const r=this.qu;this.qu=e.qu,this.mutatedKeys=e.mutatedKeys;const a=e.Qu.Iu();a.sort((v,D)=>function(I,R){const V=H=>{switch(H){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return tt()}};return V(I)-V(R)}(v.type,D.type)||this.Uu(v.doc,D.doc)),this.Wu(i);const u=t?this.zu():[],f=0===this.Lu.size&&this.current?1:0,g=f!==this.Bu;return this.Bu=f,0!==a.length||g?{snapshot:new zm(this.query,e.qu,r,a,e.mutatedKeys,0===f,g,!1),Hu:u}:{Hu:u}}Au(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({qu:this.qu,Qu:new LV,mutatedKeys:this.mutatedKeys,ni:!1},!1)):{Hu:[]}}Ju(e){return!this.$u.has(e)&&!!this.qu.has(e)&&!this.qu.get(e).hasLocalMutations}Wu(e){e&&(e.addedDocuments.forEach(t=>this.$u=this.$u.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.$u=this.$u.delete(t)),this.current=e.current)}zu(){if(!this.current)return[];const e=this.Lu;this.Lu=an(),this.qu.forEach(i=>{this.Ju(i.key)&&(this.Lu=this.Lu.add(i.key))});const t=[];return e.forEach(i=>{this.Lu.has(i)||t.push(new jV(i))}),this.Lu.forEach(i=>{e.has(i)||t.push(new UV(i))}),t}Yu(e){this.$u=e.li,this.Lu=an();const t=this.Gu(e.documents);return this.applyChanges(t,!0)}Xu(){return zm.fromInitialDocuments(this.query,this.qu,this.mutatedKeys,0===this.Bu)}}class FG{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class NG{constructor(e){this.key=e,this.Zu=!1}}class LG{constructor(e,t,i,r,a,u){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.ta={},this.ea=new mu(f=>aL(f),xv),this.na=new Map,this.sa=new Set,this.ia=new ii(Ne.comparator),this.ra=new Map,this.oa=new Ck,this.ua={},this.aa=new Map,this.ca=Vh.yn(),this.onlineState="Unknown",this.ha=void 0}get isPrimaryClient(){return!0===this.ha}}function VG(n,e){return Xk.apply(this,arguments)}function Xk(){return Xk=(0,q.Z)(function*(n,e){const t=CR(n);let i,r;const a=t.ea.get(e);if(a)i=a.targetId,t.sharedClientState.addLocalQueryTarget(i),r=a.view.Xu();else{const u=yield Lm(t.localStore,Xs(e));t.isPrimaryClient&&TD(t.remoteStore,u);const f=t.sharedClientState.addLocalQueryTarget(u.targetId);i=u.targetId,r=yield eR(t,e,i,"current"===f)}return r}),Xk.apply(this,arguments)}function eR(n,e,t,i){return tR.apply(this,arguments)}function tR(){return tR=(0,q.Z)(function*(n,e,t,i){n.la=(D,I,R)=>{return(V=(0,q.Z)(function*(H,J,be,qe){let Ke=J.view.Gu(be);Ke.ni&&(Ke=yield DD(H.localStore,J.query,!1).then(({documents:Mt})=>J.view.Gu(Mt,Ke)));const Je=qe&&qe.targetChanges.get(J.targetId),et=J.view.applyChanges(Ke,H.isPrimaryClient,Je);return dR(H,J.targetId,et.Hu),et.snapshot}),function(H,J,be,qe){return V.apply(this,arguments)})(n,D,I,R);var V};const r=yield DD(n.localStore,e,!0),a=new HV(e,r.li),u=a.Gu(r.documents),f=Nv.createSynthesizedTargetChangeForCurrentChange(t,i&&"Offline"!==n.onlineState),g=a.applyChanges(u,n.isPrimaryClient,f);dR(n,t,g.Hu);const v=new FG(e,t,a);return n.ea.set(e,v),n.na.has(t)?n.na.get(t).push(e):n.na.set(t,[e]),g.snapshot}),tR.apply(this,arguments)}function BG(n,e){return nR.apply(this,arguments)}function nR(){return nR=(0,q.Z)(function*(n,e){const t=He(n),i=t.ea.get(e),r=t.na.get(i.targetId);if(r.length>1)return t.na.set(i.targetId,r.filter(a=>!xv(a,e))),void t.ea.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(i.targetId),t.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Vm(t.localStore,i.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(i.targetId),Qv(t.remoteStore,i.targetId),Gm(t,i.targetId)}).catch(Bh))):(Gm(t,i.targetId),yield Vm(t.localStore,i.targetId,!0))}),nR.apply(this,arguments)}function iR(){return iR=(0,q.Z)(function*(n,e,t){const i=ER(n);try{const r=yield function(a,u){const f=He(a),g=On.now(),v=u.reduce((I,R)=>I.add(R.key),an());let D;return f.persistence.runTransaction("Locally write mutations","readwrite",I=>f.ci.Ks(I,v).next(R=>{D=R;const V=[];for(const H of u){const J=q3(H,D.get(H.key));null!=J&&V.push(new kh(H.key,J,QN(J.value.mapValue),fi.exists(!0)))}return f.Bs.addMutationBatch(I,g,V,u)})).then(I=>(I.applyToLocalDocumentSet(D),{batchId:I.batchId,changes:D}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(a,u,f){let g=a.ua[a.currentUser.toKey()];g||(g=new ii(Pt)),g=g.insert(u,f),a.ua[a.currentUser.toKey()]=g}(i,r.batchId,t),yield zl(i,r.changes),yield Um(i.remoteStore)}catch(r){const a=Hm(r,"Failed to persist write");t.reject(a)}}),iR.apply(this,arguments)}function $V(n,e){return rR.apply(this,arguments)}function rR(){return rR=(0,q.Z)(function*(n,e){const t=He(n);try{const i=yield Xz(t.localStore,e);e.targetChanges.forEach((r,a)=>{const u=t.ra.get(a);u&&(Et(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?u.Zu=!0:r.modifiedDocuments.size>0?Et(u.Zu):r.removedDocuments.size>0&&(Et(u.Zu),u.Zu=!1))}),yield zl(t,i,e)}catch(i){yield Bh(i)}}),rR.apply(this,arguments)}function zV(n,e,t){const i=He(n);if(i.isPrimaryClient&&0===t||!i.isPrimaryClient&&1===t){const r=[];i.ea.forEach((a,u)=>{const f=u.view.Au(e);f.snapshot&&r.push(f.snapshot)}),function(a,u){const f=He(a);f.onlineState=u;let g=!1;f.queries.forEach((v,D)=>{for(const I of D.listeners)I.Au(u)&&(g=!0)}),g&&Qk(f)}(i.eventManager,e),r.length&&i.ta.Qo(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function jG(n,e,t){return sR.apply(this,arguments)}function sR(){return sR=(0,q.Z)(function*(n,e,t){const i=He(n);i.sharedClientState.updateQueryState(e,"rejected",t);const r=i.ra.get(e),a=r&&r.key;if(a){let u=new ii(Ne.comparator);u=u.insert(a,En.newNoDocument(a,bt.min()));const f=an().add(a),g=new Fv(bt.min(),new Map,new Dn(Pt),u,f);yield $V(i,g),i.ia=i.ia.remove(a),i.ra.delete(e),hR(i)}else yield Vm(i.localStore,e,!1).then(()=>Gm(i,e,t)).catch(Bh)}),sR.apply(this,arguments)}function HG(n,e){return oR.apply(this,arguments)}function oR(){return oR=(0,q.Z)(function*(n,e){const t=He(n),i=e.batch.batchId;try{const r=yield Jz(t.localStore,e);uR(t,i,null),cR(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield zl(t,r)}catch(r){yield Bh(r)}}),oR.apply(this,arguments)}function $G(n,e,t){return aR.apply(this,arguments)}function aR(){return aR=(0,q.Z)(function*(n,e,t){const i=He(n);try{const r=yield function(a,u){const f=He(a);return f.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let v;return f.Bs.lookupMutationBatch(g,u).next(D=>(Et(null!==D),v=D.keys(),f.Bs.removeMutationBatch(g,D))).next(()=>f.Bs.performConsistencyCheck(g)).next(()=>f.ci.Ks(g,v))})}(i.localStore,e);uR(i,e,t),cR(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield zl(i,r)}catch(r){yield Bh(r)}}),aR.apply(this,arguments)}function lR(){return lR=(0,q.Z)(function*(n,e){const t=He(n);bu(t.remoteStore)||xe("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(a){const u=He(a);return u.persistence.runTransaction("Get highest unacknowledged batch id","readonly",f=>u.Bs.getHighestUnacknowledgedBatchId(f))}(t.localStore);if(-1===i)return void e.resolve();const r=t.aa.get(i)||[];r.push(e),t.aa.set(i,r)}catch(i){const r=Hm(i,"Initialization of waitForPendingWrites() operation failed");e.reject(r)}}),lR.apply(this,arguments)}function cR(n,e){(n.aa.get(e)||[]).forEach(t=>{t.resolve()}),n.aa.delete(e)}function uR(n,e,t){const i=He(n);let r=i.ua[i.currentUser.toKey()];if(r){const a=r.get(e);a&&(t?a.reject(t):a.resolve(),r=r.remove(e)),i.ua[i.currentUser.toKey()]=r}}function Gm(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.na.get(e))n.ea.delete(i),t&&n.ta.fa(i,t);n.na.delete(e),n.isPrimaryClient&&n.oa.Pi(e).forEach(i=>{n.oa.containsKey(i)||GV(n,i)})}function GV(n,e){n.sa.delete(e.path.canonicalString());const t=n.ia.get(e);null!==t&&(Qv(n.remoteStore,t),n.ia=n.ia.remove(e),n.ra.delete(t),hR(n))}function dR(n,e,t){for(const i of t)i instanceof UV?(n.oa.addReference(i.key,e),GG(n,i)):i instanceof jV?(xe("SyncEngine","Document no longer in limbo: "+i.key),n.oa.removeReference(i.key,e),n.oa.containsKey(i.key)||GV(n,i.key)):tt()}function GG(n,e){const t=e.key,i=t.path.canonicalString();n.ia.get(t)||n.sa.has(i)||(xe("SyncEngine","New document in limbo: "+t),n.sa.add(i),hR(n))}function hR(n){for(;n.sa.size>0&&n.ia.size<n.maxConcurrentLimboResolutions;){const e=n.sa.values().next().value;n.sa.delete(e);const t=new Ne(Kt.fromString(e)),i=n.ca.next();n.ra.set(i,new NG(t)),n.ia=n.ia.insert(t,i),TD(n.remoteStore,new gu(Xs(Am(t.path)),i,2,Ss.A))}}function zl(n,e,t){return fR.apply(this,arguments)}function fR(){return fR=(0,q.Z)(function*(n,e,t){const i=He(n),r=[],a=[],u=[];var f;i.ea.isEmpty()||(i.ea.forEach((f,g)=>{u.push(i.la(g,e,t).then(v=>{if(v){i.isPrimaryClient&&i.sharedClientState.updateQueryState(g.targetId,v.fromCache?"not-current":"current"),r.push(v);const D=_k.Ys(g.targetId,v);a.push(D)}}))}),yield Promise.all(u),i.ta.Qo(r),yield(f=(0,q.Z)(function*(g,v){const D=He(g);try{yield D.persistence.runTransaction("notifyLocalViewChanges","readwrite",I=>ae.forEach(v,R=>ae.forEach(R.Hs,V=>D.persistence.referenceDelegate.addReference(I,R.targetId,V)).next(()=>ae.forEach(R.Js,V=>D.persistence.referenceDelegate.removeReference(I,R.targetId,V)))))}catch(I){if(!Rh(I))throw I;xe("LocalStore","Failed to update sequence numbers: "+I)}for(const I of v){const R=I.targetId;if(!I.fromCache){const V=D.ii.get(R),J=V.withLastLimboFreeSnapshotVersion(V.snapshotVersion);D.ii=D.ii.insert(R,J)}}}),function(g,v){return f.apply(this,arguments)})(i.localStore,a))}),fR.apply(this,arguments)}function qG(n,e){return pR.apply(this,arguments)}function pR(){return pR=(0,q.Z)(function*(n,e){const t=He(n);if(!t.currentUser.isEqual(e)){xe("SyncEngine","User change. New user:",e.toKey());const i=yield vV(t.localStore,e);t.currentUser=e,(r=t).aa.forEach(u=>{u.forEach(f=>{f.reject(new we(ie.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.aa.clear(),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield zl(t,i.hi)}var r}),pR.apply(this,arguments)}function WG(n,e){const t=He(n),i=t.ra.get(e);if(i&&i.Zu)return an().add(i.key);{let r=an();const a=t.na.get(e);if(!a)return r;for(const u of a){const f=t.ea.get(u);r=r.unionWith(f.view.Ku)}return r}}function YG(n,e){return mR.apply(this,arguments)}function mR(){return mR=(0,q.Z)(function*(n,e){const t=He(n),i=yield DD(t.localStore,e.query,!0),r=e.view.Yu(i);return t.isPrimaryClient&&dR(t,e.targetId,r.Hu),r}),mR.apply(this,arguments)}function ZG(n,e){return gR.apply(this,arguments)}function gR(){return gR=(0,q.Z)(function*(n,e){const t=He(n);return EV(t.localStore,e).then(i=>zl(t,i))}),gR.apply(this,arguments)}function KG(n,e,t,i){return _R.apply(this,arguments)}function _R(){return _R=(0,q.Z)(function*(n,e,t,i){const r=He(n),a=yield function(u,f){const g=He(u),v=He(g.Bs);return g.persistence.runTransaction("Lookup mutation documents","readonly",D=>v.fn(D,f).next(I=>I?g.ci.Ks(D,I):ae.resolve(null)))}(r.localStore,e);var f;null!==a?("pending"===t?yield Um(r.remoteStore):"acknowledged"===t||"rejected"===t?(uR(r,e,i||null),cR(r,e),f=e,He(He(r.localStore).Bs)._n(f)):tt(),yield zl(r,a)):xe("SyncEngine","Cannot apply mutation batch with id: "+e)}),_R.apply(this,arguments)}function yR(){return yR=(0,q.Z)(function*(n,e){const t=He(n);if(CR(t),ER(t),!0===e&&!0!==t.ha){const i=t.sharedClientState.getAllActiveQueryTargets(),r=yield qV(t,i.toArray());t.ha=!0,yield zk(t.remoteStore,!0);for(const a of r)TD(t.remoteStore,a)}else if(!1===e&&!1!==t.ha){const i=[];let r=Promise.resolve();t.na.forEach((a,u)=>{t.sharedClientState.isLocalQueryTarget(u)?i.push(u):r=r.then(()=>(Gm(t,u),Vm(t.localStore,u,!0))),Qv(t.remoteStore,u)}),yield r,yield qV(t,i),function(a){const u=He(a);u.ra.forEach((f,g)=>{Qv(u.remoteStore,g)}),u.oa.bi(),u.ra=new Map,u.ia=new ii(Ne.comparator)}(t),t.ha=!1,yield zk(t.remoteStore,!1)}}),yR.apply(this,arguments)}function qV(n,e,t){return vR.apply(this,arguments)}function vR(){return vR=(0,q.Z)(function*(n,e,t){const i=He(n),r=[],a=[];for(const u of e){let f;const g=i.na.get(u);if(g&&0!==g.length){f=yield Lm(i.localStore,Xs(g[0]));for(const v of g){const D=i.ea.get(v),I=yield YG(i,D);I.snapshot&&a.push(I.snapshot)}}else{const v=yield CV(i.localStore,u);f=yield Lm(i.localStore,v),yield eR(i,WV(v),u,!1)}r.push(f)}return i.ta.Qo(a),r}),vR.apply(this,arguments)}function WV(n){return sL(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function JG(n){const e=He(n);return He(He(e.localStore).persistence).Fs()}function XG(n,e,t,i){return bR.apply(this,arguments)}function bR(){return bR=(0,q.Z)(function*(n,e,t,i){const r=He(n);if(r.ha)return void xe("SyncEngine","Ignoring unexpected query state notification.");const a=r.na.get(e);if(a&&a.length>0)switch(t){case"current":case"not-current":{const u=yield EV(r.localStore,lL(a[0])),f=Fv.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield zl(r,u,f);break}case"rejected":yield Vm(r.localStore,e,!0),Gm(r,e,i);break;default:tt()}}),bR.apply(this,arguments)}function e6(n,e,t){return wR.apply(this,arguments)}function wR(){return wR=(0,q.Z)(function*(n,e,t){const i=CR(n);if(i.ha){for(const r of e){if(i.na.has(r)){xe("SyncEngine","Adding an already active target "+r);continue}const a=yield CV(i.localStore,r),u=yield Lm(i.localStore,a);yield eR(i,WV(a),u.targetId,!1),TD(i.remoteStore,u)}for(const r of t)i.na.has(r)&&(yield Vm(i.localStore,r,!1).then(()=>{Qv(i.remoteStore,r),Gm(i,r)}).catch(Bh))}}),wR.apply(this,arguments)}function CR(n){const e=He(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=$V.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=WG.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=jG.bind(null,e),e.ta.Qo=kG.bind(null,e.eventManager),e.ta.fa=RG.bind(null,e.eventManager),e}function ER(n){const e=He(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=HG.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=$G.bind(null,e),e}class YV{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,q.Z)(function*(){t.M=Zv(e.databaseInfo.databaseId),t.sharedClientState=t._a(e),t.persistence=t.wa(e),yield t.persistence.start(),t.gcScheduler=t.ma(e),t.localStore=t.ga(e)})()}ma(e){return null}ga(e){return yV(this.persistence,new _V,e.initialUser,this.M)}wa(e){return new cG(Ek.zi,this.M)}_a(e){return new SV}terminate(){var e=this;return(0,q.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class ZV extends YV{constructor(e,t,i){super(),this.ya=e,this.cacheSizeBytes=t,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,i=this;return(0,q.Z)(function*(){yield t().call(i,e),yield i.ya.initialize(i,e),yield ER(i.ya.syncEngine),yield Um(i.ya.remoteStore),yield i.persistence.Ts(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(i.localStore),Promise.resolve()))})()}ga(e){return yV(this.persistence,new _V,e.initialUser,this.M)}ma(e){return new zz(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}wa(e){const t=gk(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?Xr.withCacheSize(this.cacheSizeBytes):Xr.DEFAULT;return new mk(this.synchronizeTabs,t,e.clientId,i,e.asyncQueue,MV(),SD(),this.M,this.sharedClientState,!!this.forceOwnership)}_a(e){return new SV}}class n6 extends ZV{constructor(e,t){super(e,t,!1),this.ya=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,i=this;return(0,q.Z)(function*(){yield t().call(i,e);const r=i.ya.syncEngine;i.sharedClientState instanceof Sk&&(i.sharedClientState.syncEngine={Mr:KG.bind(null,r),Or:XG.bind(null,r),Fr:e6.bind(null,r),Fs:JG.bind(null,r),kr:ZG.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.Ts(function(){var a=(0,q.Z)(function*(u){yield function QG(n,e){return yR.apply(this,arguments)}(i.ya.syncEngine,u),i.gcScheduler&&(u&&!i.gcScheduler.started?i.gcScheduler.start(i.localStore):u||i.gcScheduler.stop())});return function(u){return a.apply(this,arguments)}}())})()}_a(e){const t=MV();if(!Sk.vt(t))throw new we(ie.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=gk(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Sk(t,e.asyncQueue,i,e.clientId,e.initialUser)}}class DR{initialize(e,t){var i=this;return(0,q.Z)(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(t),i.remoteStore=i.createRemoteStore(t),i.eventManager=i.createEventManager(t),i.syncEngine=i.createSyncEngine(t,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>zV(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=qG.bind(null,i.syncEngine),yield zk(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new xG}createDatastore(e){const t=Zv(e.databaseInfo.databaseId),i=new pG(e.databaseInfo);return new _G(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return t=this.localStore,i=this.datastore,r=e.asyncQueue,a=f=>zV(this.syncEngine,f,0),u=TV.vt()?new TV:new dG,new vG(t,i,r,a,u);var t,i,r,a,u}createSyncEngine(e,t){return function(i,r,a,u,f,g,v){const D=new LG(i,r,a,u,f,g);return v&&(D.ha=!0),D}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,q.Z)(function*(t){const i=He(t);xe("RemoteStore","RemoteStore shutting down."),i.fu.add(5),yield Bm(i),i._u.shutdown(),i.wu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function KV(n,e=10240){let t=0;return{read:()=>(0,q.Z)(function*(){if(t<n.byteLength){const i={value:n.slice(t,t+e),done:!1};return t+=e,i}return{done:!0}})(),cancel:()=>(0,q.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class xD{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.pa(this.observer.next,e)}error(e){this.observer.error?this.pa(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Ia(){this.muted=!0}pa(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class i6{constructor(e,t){this.Ta=e,this.M=t,this.metadata=new Fi,this.buffer=new Uint8Array,this.Ea=new TextDecoder("utf-8"),this.Aa().then(i=>{i&&i.xu()?this.metadata.resolve(i.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==i?void 0:i.payload)}`))},i=>this.metadata.reject(i))}close(){return this.Ta.cancel()}getMetadata(){var e=this;return(0,q.Z)(function*(){return e.metadata.promise})()}da(){var e=this;return(0,q.Z)(function*(){return yield e.getMetadata(),e.Aa()})()}Aa(){var e=this;return(0,q.Z)(function*(){const t=yield e.Ra();if(null===t)return null;const i=e.Ea.decode(t),r=Number(i);isNaN(r)&&e.Pa(`length string (${i}) is not valid number`);const a=yield e.ba(r);return new OG(JSON.parse(a),t.length+r)})()}Va(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Ra(){var e=this;return(0,q.Z)(function*(){for(;e.Va()<0&&!(yield e.va()););if(0===e.buffer.length)return null;const t=e.Va();t<0&&e.Pa("Reached the end of bundle when a length string is expected.");const i=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),i})()}ba(e){var t=this;return(0,q.Z)(function*(){for(;t.buffer.length<e;)(yield t.va())&&t.Pa("Reached the end of bundle when more is expected.");const i=t.Ea.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),i})()}Pa(e){throw this.Ta.cancel(),new Error(`Invalid bundle format: ${e}`)}va(){var e=this;return(0,q.Z)(function*(){const t=yield e.Ta.read();if(!t.done){const i=new Uint8Array(e.buffer.length+t.value.length);i.set(e.buffer),i.set(t.value,e.buffer.length),e.buffer=i}return t.done})()}}class r6{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,q.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new we(ie.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,q.Z)(function*(a,u){const f=He(a),g=Bv(f.M)+"/documents",v={documents:u.map(V=>Vv(f.M,V))},D=yield f.ho("BatchGetDocuments",g,v),I=new Map;D.forEach(V=>{const H=function rz(n,e){return"found"in e?function(t,i){Et(!!i.found);const r=xa(t,i.found.name),a=Li(i.found.updateTime),u=new fr({mapValue:{fields:i.found.fields}});return En.newFoundDocument(r,a,u)}(n,e):"missing"in e?function(t,i){Et(!!i.missing),Et(!!i.readTime);const r=xa(t,i.missing),a=Li(i.readTime);return En.newNoDocument(r,a)}(n,e):tt()}(f.M,V);I.set(H.key.toString(),H)});const R=[];return u.forEach(V=>{const H=I.get(V.toString());Et(!!H),R.push(H)}),R}),function(a,u){return r.apply(this,arguments)})(t.datastore,e);var r;return i.forEach(r=>t.recordVersion(r)),i})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(e.toString())}delete(e){this.write(new Ov(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,q.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var i;e.mutations.forEach(i=>{t.delete(i.key.toString())}),t.forEach((i,r)=>{const a=Ne.fromPath(r);e.mutations.push(new Xx(a,e.precondition(a)))}),yield(i=(0,q.Z)(function*(r,a){const u=He(r),f=Bv(u.M)+"/documents",g={writes:a.map(v=>Uv(u.M,v))};yield u.oo("Commit",f,g)}),function(r,a){return i.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw tt();t=bt.min()}const i=this.readVersions.get(e.key.toString());if(i){if(!t.isEqual(i))throw new we(ie.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?fi.updateTime(t):fi.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(bt.min()))throw new we(ie.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return fi.updateTime(t)}return fi.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class s6{constructor(e,t,i,r){this.asyncQueue=e,this.datastore=t,this.updateFunction=i,this.deferred=r,this.Sa=5,this.Do=new Tk(this.asyncQueue,"transaction_retry")}run(){this.Sa-=1,this.Da()}Da(){var e=this;this.Do.To((0,q.Z)(function*(){const t=new r6(e.datastore),i=e.Ca(t);i&&i.then(r=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(r)}).catch(a=>{e.xa(a)}))}).catch(r=>{e.xa(r)})}))}Ca(e){try{const t=this.updateFunction(e);return!Dh(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}xa(e){this.Sa>0&&this.Na(e)?(this.Sa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Da(),Promise.resolve()))):this.deferred.reject(e)}Na(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!EL(t)}return!1}}class o6{constructor(e,t,i,r){var a=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=Xi.UNAUTHENTICATED,this.clientId=LN.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var u=(0,q.Z)(function*(f){xe("FirestoreClient","Received user=",f.uid),yield a.authCredentialListener(f),a.user=f});return function(f){return u.apply(this,arguments)}}()),this.appCheckCredentials.start(i,u=>(xe("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}getConfiguration(){var e=this;return(0,q.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new we(ie.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Fi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,q.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=Hm(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}function QV(n,e){return IR.apply(this,arguments)}function IR(){return IR=(0,q.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),xe("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(function(){var r=(0,q.Z)(function*(a){i.isEqual(a)||(yield vV(e.localStore,a),i=a)});return function(a){return r.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),IR.apply(this,arguments)}function JV(n,e){return AR.apply(this,arguments)}function AR(){return AR=(0,q.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield SR(n);xe("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield e.initialize(t,i),n.setCredentialChangeListener(r=>NV(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,a)=>NV(e.remoteStore,a)),n.onlineComponents=e}),AR.apply(this,arguments)}function SR(n){return TR.apply(this,arguments)}function TR(){return TR=(0,q.Z)(function*(n){return n.offlineComponents||(xe("FirestoreClient","Using default OfflineComponentProvider"),yield QV(n,new YV)),n.offlineComponents}),TR.apply(this,arguments)}function kD(n){return MR.apply(this,arguments)}function MR(){return MR=(0,q.Z)(function*(n){return n.onlineComponents||(xe("FirestoreClient","Using default OnlineComponentProvider"),yield JV(n,new DR)),n.onlineComponents}),MR.apply(this,arguments)}function XV(n){return SR(n).then(e=>e.persistence)}function xR(n){return SR(n).then(e=>e.localStore)}function eB(n){return kD(n).then(e=>e.remoteStore)}function kR(n){return kD(n).then(e=>e.syncEngine)}function qm(n){return RR.apply(this,arguments)}function RR(){return RR=(0,q.Z)(function*(n){const e=yield kD(n),t=e.eventManager;return t.onListen=VG.bind(null,e.syncEngine),t.onUnlisten=BG.bind(null,e.syncEngine),t}),RR.apply(this,arguments)}function tB(n,e,t={}){const i=new Fi;return n.asyncQueue.enqueueAndForget((0,q.Z)(function*(){return function(r,a,u,f,g){const v=new xD({next:I=>{a.enqueueAndForget(()=>Zk(r,D));const R=I.docs.has(u);!R&&I.fromCache?g.reject(new we(ie.UNAVAILABLE,"Failed to get document because the client is offline.")):R&&I.fromCache&&f&&"server"===f.source?g.reject(new we(ie.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(I)},error:I=>g.reject(I)}),D=new Jk(Am(u.path),v,{includeMetadataChanges:!0,Cu:!0});return Wk(r,D)}(yield qm(n),n.asyncQueue,e,t,i)})),i.promise}function nB(n,e,t={}){const i=new Fi;return n.asyncQueue.enqueueAndForget((0,q.Z)(function*(){return function(r,a,u,f,g){const v=new xD({next:I=>{a.enqueueAndForget(()=>Zk(r,D)),I.fromCache&&"server"===f.source?g.reject(new we(ie.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(I)},error:I=>g.reject(I)}),D=new Jk(u,v,{includeMetadataChanges:!0,Cu:!0});return Wk(r,D)}(yield qm(n),n.asyncQueue,e,t,i)})),i.promise}const iB=new Map;function OR(n,e,t){if(!t)throw new we(ie.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function rB(n,e,t,i){if(!0===e&&!0===i)throw new we(ie.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function sB(n){if(!Ne.isDocumentKey(n))throw new we(ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function oB(n){if(Ne.isDocumentKey(n))throw new we(ie.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function RD(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":tt()}function Wt(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new we(ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=RD(n);throw new we(ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function aB(n,e){if(e<=0)throw new we(ie.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class lB{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new we(ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new we(ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,rB("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Jv{constructor(e,t,i){this._authCredentials=t,this._appCheckCredentials=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new lB({}),this._settingsFrozen=!1,e instanceof jl?this._databaseId=e:(this._app=e,this._databaseId=function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new we(ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new jl(r.options.projectId)}(e))}get app(){if(!this._app)throw new we(ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new we(ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new lB(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new m3;switch(t.type){case"gapi":const i=t.client;return Et(!("object"!=typeof i||null===i||!i.auth||!i.auth.getAuthHeaderValueForFirstParty)),new v3(i,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new we(ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=iB.get(e);t&&(xe("ComponentProvider","Removing Datastore"),iB.delete(e),t.terminate())}(this),Promise.resolve()}}class In{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ra(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new In(this.firestore,e,this._key)}}class pr{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new pr(this.firestore,e,this._query)}}class Ra extends pr{constructor(e,t,i){super(e,t,Am(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new In(this.firestore,null,new Ne(e))}withConverter(e){return new Ra(this.firestore,e,this._path)}}function PR(n,e,...t){if(n=(0,Ge.m9)(n),OR("collection","path",e),n instanceof Jv){const i=Kt.fromString(e,...t);return oB(i),new Ra(n,null,i)}{if(!(n instanceof In||n instanceof Ra))throw new we(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Kt.fromString(e,...t));return oB(i),new Ra(n.firestore,null,i)}}function Cu(n,e,...t){if(n=(0,Ge.m9)(n),1===arguments.length&&(e=LN.R()),OR("doc","path",e),n instanceof Jv){const i=Kt.fromString(e,...t);return sB(i),new In(n,null,new Ne(i))}{if(!(n instanceof In||n instanceof Ra))throw new we(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Kt.fromString(e,...t));return sB(i),new In(n.firestore,n instanceof Ra?n.converter:null,new Ne(i))}}function cB(n,e){return n=(0,Ge.m9)(n),e=(0,Ge.m9)(e),(n instanceof In||n instanceof Ra)&&(e instanceof In||e instanceof Ra)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function uB(n,e){return n=(0,Ge.m9)(n),e=(0,Ge.m9)(e),n instanceof pr&&e instanceof pr&&n.firestore===e.firestore&&xv(n._query,e._query)&&n.converter===e.converter}class _6{constructor(){this.ka=Promise.resolve(),this.Ma=[],this.Oa=!1,this.Fa=[],this.$a=null,this.Ba=!1,this.La=!1,this.Ua=[],this.Do=new Tk(this,"async_queue_retry"),this.qa=()=>{const t=SD();t&&xe("AsyncQueue","Visibility state changed to "+t.visibilityState),this.Do.Ao()};const e=SD();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.qa)}get isShuttingDown(){return this.Oa}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ka(),this.Ga(e)}enterRestrictedMode(e){if(!this.Oa){this.Oa=!0,this.La=e||!1;const t=SD();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.qa)}}enqueue(e){if(this.Ka(),this.Oa)return new Promise(()=>{});const t=new Fi;return this.Ga(()=>this.Oa&&this.La?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ma.push(e),this.Qa()))}Qa(){var e=this;return(0,q.Z)(function*(){if(0!==e.Ma.length){try{yield e.Ma[0](),e.Ma.shift(),e.Do.reset()}catch(t){if(!Rh(t))throw t;xe("AsyncQueue","Operation failed with retryable error: "+t)}e.Ma.length>0&&e.Do.To(()=>e.Qa())}})()}Ga(e){const t=this.ka.then(()=>(this.Ba=!0,e().catch(i=>{throw this.$a=i,this.Ba=!1,hi("INTERNAL UNHANDLED ERROR: ",function(a){let u=a.message||"";return a.stack&&(u=a.stack.includes(a.message)?a.stack:a.message+"\n"+a.stack),u}(i)),i}).then(i=>(this.Ba=!1,i))));return this.ka=t,t}enqueueAfterDelay(e,t,i){this.Ka(),this.Ua.indexOf(e)>-1&&(t=0);const r=qk.createAndSchedule(this,e,t,i,a=>this.ja(a));return this.Fa.push(r),r}Ka(){this.$a&&tt()}verifyOperationInProgress(){}Wa(){var e=this;return(0,q.Z)(function*(){let t;do{t=e.ka,yield t}while(t!==e.ka)})()}za(e){for(const t of this.Fa)if(t.timerId===e)return!0;return!1}Ha(e){return this.Wa().then(()=>{this.Fa.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.Fa)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Wa()})}Ja(e){this.Ua.push(e)}ja(e){const t=this.Fa.indexOf(e);this.Fa.splice(t,1)}}function FR(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const i=e;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class y6{constructor(){this._progressObserver={},this._taskCompletionResolver=new Fi,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,i){this._progressObserver={next:e,error:t,complete:i}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Pn extends Jv{constructor(e,t,i){super(e,t,i),this.type="firestore",this._queue=new _6,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||dB(this),this._firestoreClient.terminate()}}function b6(n=(0,Ht.getApp)()){return(0,Ht._getProvider)(n,"firestore").getImmediate()}function mi(n){return n._firestoreClient||dB(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function dB(n){var e;const t=n._freezeSettings(),i=(a=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new I3(n._databaseId,a,n._persistenceKey,(f=t).host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,f.useFetchStreams));var a,f;n._firestoreClient=new o6(n._authCredentials,n._appCheckCredentials,n._queue,i)}function hB(n,e,t){const i=new Fi;return n.asyncQueue.enqueue((0,q.Z)(function*(){try{yield QV(n,t),yield JV(n,e),i.resolve()}catch(r){if(!("FirebaseError"===(a=r).name?a.code===ie.FAILED_PRECONDITION||a.code===ie.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&a instanceof DOMException)||22===a.code||20===a.code||11===a.code))throw r;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r)}var a})).then(()=>i.promise)}function fB(n){if(n._initialized||n._terminated)throw new we(ie.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Gl{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new we(ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ni(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Oa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Oa(Ci.fromBase64String(e))}catch(t){throw new we(ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Oa(Ci.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class jh{constructor(e){this._methodName=e}}class OD{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new we(ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new we(ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Pt(this._lat,e._lat)||Pt(this._long,e._long)}}const M6=/^__.*__$/;class x6{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return null!==this.fieldMask?new kh(e,this.data,this.fieldMask,t,this.fieldTransforms):new Rv(e,this.data,t,this.fieldTransforms)}}class pB{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new kh(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function mB(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw tt()}}class PD{constructor(e,t,i,r,a,u){this.settings=e,this.databaseId=t,this.M=i,this.ignoreUndefinedProperties=r,void 0===a&&this.Ya(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Xa(){return this.settings.Xa}Za(e){return new PD(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}tc(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Za({path:i,ec:!1});return r.nc(e),r}sc(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Za({path:i,ec:!1});return r.Ya(),r}ic(e){return this.Za({path:void 0,ec:!0})}rc(e){return LD(e,this.settings.methodName,this.settings.oc||!1,this.path,this.settings.uc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Ya(){if(this.path)for(let e=0;e<this.path.length;e++)this.nc(this.path.get(e))}nc(e){if(0===e.length)throw this.rc("Document fields must not be empty");if(mB(this.Xa)&&M6.test(e))throw this.rc('Document fields cannot begin and end with "__"')}}class k6{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.M=i||Zv(e)}ac(e,t,i,r=!1){return new PD({Xa:e,methodName:t,uc:i,path:Ni.emptyPath(),ec:!1,oc:r},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function Hh(n){const e=n._freezeSettings(),t=Zv(n._databaseId);return new k6(n._databaseId,!!e.ignoreUndefinedProperties,t)}function FD(n,e,t,i,r,a={}){const u=n.ac(a.merge||a.mergeFields?2:0,e,t,r);BR("Data must be an object, but it was:",u,i);const f=yB(i,u);let g,v;if(a.merge)g=new Em(u.fieldMask),v=u.fieldTransforms;else if(a.mergeFields){const D=[];for(const I of a.mergeFields){const R=UR(e,I,t);if(!u.contains(R))throw new we(ie.INVALID_ARGUMENT,`Field '${R}' is specified in your field mask but missing from your input data.`);bB(D,R)||D.push(R)}g=new Em(D),v=u.fieldTransforms.filter(I=>g.covers(I.field))}else g=null,v=u.fieldTransforms;return new x6(new fr(f),g,v)}class Xv extends jh{_toFieldTransform(e){if(2!==e.Xa)throw e.rc(1===e.Xa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Xv}}function gB(n,e,t){return new PD({Xa:3,uc:e.settings.uc,methodName:n._methodName,ec:t},e.databaseId,e.M,e.ignoreUndefinedProperties)}class NR extends jh{_toFieldTransform(e){return new kv(e.path,new Tm)}isEqual(e){return e instanceof NR}}class R6 extends jh{constructor(e,t){super(e),this.cc=t}_toFieldTransform(e){const t=gB(this,e,!0),i=this.cc.map(a=>$h(a,t)),r=new Mh(i);return new kv(e.path,r)}isEqual(e){return this===e}}class O6 extends jh{constructor(e,t){super(e),this.cc=t}_toFieldTransform(e){const t=gB(this,e,!0),i=this.cc.map(a=>$h(a,t)),r=new xh(i);return new kv(e.path,r)}isEqual(e){return this===e}}class P6 extends jh{constructor(e,t){super(e),this.hc=t}_toFieldTransform(e){const t=new Mm(e.M,hL(e.M,this.hc));return new kv(e.path,t)}isEqual(e){return this===e}}function LR(n,e,t,i){const r=n.ac(1,e,t);BR("Data must be an object, but it was:",r,i);const a=[],u=fr.empty();Ch(i,(g,v)=>{const D=ND(e,g,t);v=(0,Ge.m9)(v);const I=r.sc(D);if(v instanceof Xv)a.push(D);else{const R=$h(v,I);null!=R&&(a.push(D),u.set(D,R))}});const f=new Em(a);return new pB(u,f,r.fieldTransforms)}function VR(n,e,t,i,r,a){const u=n.ac(1,e,t),f=[UR(e,i,t)],g=[r];if(a.length%2!=0)throw new we(ie.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let R=0;R<a.length;R+=2)f.push(UR(e,a[R])),g.push(a[R+1]);const v=[],D=fr.empty();for(let R=f.length-1;R>=0;--R)if(!bB(v,f[R])){const V=f[R];let H=g[R];H=(0,Ge.m9)(H);const J=u.sc(V);if(H instanceof Xv)v.push(V);else{const be=$h(H,J);null!=be&&(v.push(V),D.set(V,be))}}const I=new Em(v);return new pB(D,I,u.fieldTransforms)}function _B(n,e,t,i=!1){return $h(t,n.ac(i?4:3,e))}function $h(n,e){if(vB(n=(0,Ge.m9)(n)))return BR("Unsupported field value:",e,n),yB(n,e);if(n instanceof jh)return function(t,i){if(!mB(i.Xa))throw i.rc(`${t._methodName}() can only be used with update() and set()`);if(!i.path)throw i.rc(`${t._methodName}() is not currently supported inside arrays`);const r=t._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.ec&&4!==e.Xa)throw e.rc("Nested arrays are not supported");return function(t,i){const r=[];let a=0;for(const u of t){let f=$h(u,i.ic(a));null==f&&(f={nullValue:"NULL_VALUE"}),r.push(f),a++}return{arrayValue:{values:r}}}(n,e)}return function(t,i){if(null===(t=(0,Ge.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return hL(i.M,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const r=On.fromDate(t);return{timestampValue:Lv(i.M,r)}}if(t instanceof On){const r=new On(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Lv(i.M,r)}}if(t instanceof OD)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Oa)return{bytesValue:kL(i.M,t._byteString)};if(t instanceof In){const r=i.databaseId,a=t.firestore._databaseId;if(!a.isEqual(r))throw i.rc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:tk(t.firestore._databaseId||i.databaseId,t._key.path)}}throw i.rc(`Unsupported field value: ${RD(t)}`)}(n,e)}function yB(n,e){const t={};return UN(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ch(n,(i,r)=>{const a=$h(r,e.tc(i));null!=a&&(t[i]=a)}),{mapValue:{fields:t}}}function vB(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof On||n instanceof OD||n instanceof Oa||n instanceof In||n instanceof jh)}function BR(n,e,t){if(!vB(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=RD(t);throw e.rc("an object"===i?n+" a custom object":n+" "+i)}var i}function UR(n,e,t){if((e=(0,Ge.m9)(e))instanceof Gl)return e._internalPath;if("string"==typeof e)return ND(n,e);throw LD("Field path arguments must be of type string or ",n,!1,void 0,t)}const F6=new RegExp("[~\\*/\\[\\]]");function ND(n,e,t){if(e.search(F6)>=0)throw LD(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Gl(...e.split("."))._internalPath}catch(i){throw LD(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function LD(n,e,t,i,r){const a=i&&!i.isEmpty(),u=void 0!==r;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let g="";return(a||u)&&(g+=" (found",a&&(g+=` in field ${i}`),u&&(g+=` in document ${r}`),g+=")"),new we(ie.INVALID_ARGUMENT,f+n+g)}function bB(n,e){return n.some(t=>t.isEqual(e))}class eb{constructor(e,t,i,r,a){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new In(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new N6(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(VD("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class N6 extends eb{data(){return super.data()}}function VD(n,e){return"string"==typeof e?ND(n,e):e instanceof Gl?e._internalPath:e._delegate._internalPath}class zh{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ql extends eb{constructor(e,t,i,r,a,u){super(e,t,i,r,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new tb(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(VD("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class tb extends ql{data(e={}){return super.data(e)}}class Eu{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new zh(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new tb(this._firestore,this._userDataWriter,i.key,i,new zh(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new we(ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(u=>({type:"added",doc:new tb(i._firestore,i._userDataWriter,u.doc.key,u.doc,new zh(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:a++}))}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>r||3!==u.type).map(u=>{const f=new tb(i._firestore,i._userDataWriter,u.doc.key,u.doc,new zh(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let g=-1,v=-1;return 0!==u.type&&(g=a.indexOf(u.doc.key),a=a.delete(u.doc.key)),1!==u.type&&(a=a.add(u.doc),v=a.indexOf(u.doc.key)),{type:L6(u.type),doc:f,oldIndex:g,newIndex:v}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function L6(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return tt()}}function wB(n,e){return n instanceof ql&&e instanceof ql?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Eu&&e instanceof Eu&&n._firestore===e._firestore&&uB(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function CB(n){if(cD(n)&&0===n.explicitOrderBy.length)throw new we(ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class nb{}function Wl(n,...e){for(const t of e)n=t._apply(n);return n}class V6 extends nb{constructor(e,t,i){super(),this.lc=e,this.fc=t,this.dc=i,this.type="where"}_apply(e){const t=Hh(e.firestore),i=function(r,a,u,f,g,v,D){let I;if(g.isKeyField()){if("array-contains"===v||"array-contains-any"===v)throw new we(ie.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if("in"===v||"not-in"===v){TB(D,v);const V=[];for(const H of D)V.push(SB(f,r,H));I={arrayValue:{values:V}}}else I=SB(f,r,D)}else"in"!==v&&"not-in"!==v&&"array-contains-any"!==v||TB(D,v),I=_B(u,"where",D,"in"===v||"not-in"===v);const R=er.create(g,v,I);return function(V,H){if(H.S()){const be=Yx(V);if(null!==be&&!be.isEqual(H.field))throw new we(ie.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${be.toString()}' and '${H.field.toString()}'`);const qe=Wx(V);null!==qe&&MB(0,H.field,qe)}const J=function(be,qe){for(const Ke of be.filters)if(qe.indexOf(Ke.op)>=0)return Ke.op;return null}(V,function(be){switch(be){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(H.op));if(null!==J)throw new we(ie.INVALID_ARGUMENT,J===H.op?`Invalid query. You cannot use more than one '${H.op.toString()}' filter.`:`Invalid query. You cannot use '${H.op.toString()}' filters with '${J.toString()}' filters.`)}(r,R),R}(e._query,0,t,e.firestore._databaseId,this.lc,this.fc,this.dc);return new pr(e.firestore,e.converter,function(r,a){const u=r.filters.concat([a]);return new $l(r.path,r.collectionGroup,r.explicitOrderBy.slice(),u,r.limit,r.limitType,r.startAt,r.endAt)}(e._query,i))}}class U6 extends nb{constructor(e,t){super(),this.lc=e,this._c=t,this.type="orderBy"}_apply(e){const t=function(i,r,a){if(null!==i.startAt)throw new we(ie.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new we(ie.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const u=new Im(r,a);return function(f,g){if(null===Wx(f)){const v=Yx(f);null!==v&&MB(0,v,g.field)}}(i,u),u}(e._query,this.lc,this._c);return new pr(e.firestore,e.converter,function(i,r){const a=i.explicitOrderBy.concat([r]);return new $l(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}class EB extends nb{constructor(e,t,i){super(),this.type=e,this.wc=t,this.mc=i}_apply(e){return new pr(e.firestore,e.converter,oL(e._query,this.wc,this.mc))}}class DB extends nb{constructor(e,t,i){super(),this.type=e,this.gc=t,this.yc=i}_apply(e){const t=AB(e,this.type,this.gc,this.yc);return new pr(e.firestore,e.converter,(r=t,new $l((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class IB extends nb{constructor(e,t,i){super(),this.type=e,this.gc=t,this.yc=i}_apply(e){const t=AB(e,this.type,this.gc,this.yc);return new pr(e.firestore,e.converter,(r=t,new $l((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function AB(n,e,t,i){if(t[0]=(0,Ge.m9)(t[0]),t[0]instanceof eb)return function(r,a,u,f,g){if(!f)throw new we(ie.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${u}().`);const v=[];for(const D of Sm(r))if(D.field.isKeyField())v.push(Ah(a,f.key));else{const I=f.data.field(D.field);if($x(I))throw new we(ie.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+D.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===I){const R=D.field.canonicalString();throw new we(ie.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${R}' (used as the orderBy) does not exist.`)}v.push(I)}return new pu(v,g)}(n._query,n.firestore._databaseId,e,t[0]._document,i);{const r=Hh(n.firestore);return function(a,u,f,g,v,D){const I=a.explicitOrderBy;if(v.length>I.length)throw new we(ie.INVALID_ARGUMENT,`Too many arguments provided to ${g}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const R=[];for(let V=0;V<v.length;V++){const H=v[V];if(I[V].field.isKeyField()){if("string"!=typeof H)throw new we(ie.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${g}(), but got a ${typeof H}`);if(!Zx(a)&&-1!==H.indexOf("/"))throw new we(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${g}() must be a plain document ID, but '${H}' contains a slash.`);const J=a.path.child(Kt.fromString(H));if(!Ne.isDocumentKey(J))throw new we(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${g}() must result in a valid document path, but '${J}' is not because it contains an odd number of segments.`);const be=new Ne(J);R.push(Ah(u,be))}else{const J=_B(f,g,H);R.push(J)}}return new pu(R,D)}(n._query,n.firestore._databaseId,r,e,t,i)}}function SB(n,e,t){if("string"==typeof(t=(0,Ge.m9)(t))){if(""===t)throw new we(ie.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Zx(e)&&-1!==t.indexOf("/"))throw new we(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(Kt.fromString(t));if(!Ne.isDocumentKey(i))throw new we(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Ah(n,new Ne(i))}if(t instanceof In)return Ah(n,t._key);throw new we(ie.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${RD(t)}.`)}function TB(n,e){if(!Array.isArray(n)||0===n.length)throw new we(ie.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new we(ie.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function MB(n,e,t){if(!t.isEqual(e))throw new we(ie.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class jR{convertValue(e,t="none"){switch(Ih(e)){case 0:return null;case 1:return e.booleanValue;case 2:return qn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Eh(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw tt()}}convertObject(e,t){const i={};return Ch(e.fields,(r,a)=>{i[r]=this.convertValue(a,t)}),i}convertGeoPoint(e){return new OD(qn(e.latitude),qn(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=jN(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Ev(e));default:return null}}convertTimestamp(e){const t=hu(e);return new On(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=Kt.fromString(e);Et(jL(i));const r=new jl(i.get(1),i.get(3)),a=new Ne(i.popFirst(5));return r.isEqual(t)||hi(`Document ${a} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}function BD(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class Y6 extends jR{constructor(e){super(),this.firestore=e}convertBytes(e){return new Oa(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new In(this.firestore,null,t)}}class xB{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Hh(e)}set(e,t,i){this._verifyNotCommitted();const r=Du(e,this._firestore),a=BD(r.converter,t,i),u=FD(this._dataReader,"WriteBatch.set",r._key,a,null!==r.converter,i);return this._mutations.push(u.toMutation(r._key,fi.none())),this}update(e,t,i,...r){this._verifyNotCommitted();const a=Du(e,this._firestore);let u;return u="string"==typeof(t=(0,Ge.m9)(t))||t instanceof Gl?VR(this._dataReader,"WriteBatch.update",a._key,t,i,r):LR(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(u.toMutation(a._key,fi.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Du(e,this._firestore);return this._mutations=this._mutations.concat(new Ov(t._key,fi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new we(ie.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Du(n,e){if((n=(0,Ge.m9)(n)).firestore!==e)throw new we(ie.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}function kB(n){n=Wt(n,In);const e=Wt(n.firestore,Pn);return tB(mi(e),n._key).then(t=>HR(e,n,t))}class Gh extends jR{constructor(e){super(),this.firestore=e}convertBytes(e){return new Oa(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new In(this.firestore,null,t)}}function RB(n){n=Wt(n,pr);const e=Wt(n.firestore,Pn),t=mi(e),i=new Gh(e);return CB(n._query),nB(t,n._query).then(r=>new Eu(e,i,n,r))}function OB(n,e,t){n=Wt(n,In);const i=Wt(n.firestore,Pn),r=BD(n.converter,e,t);return Wm(i,[FD(Hh(i),"setDoc",n._key,r,null!==n.converter,t).toMutation(n._key,fi.none())])}function UD(n,e,t,...i){n=Wt(n,In);const r=Wt(n.firestore,Pn),a=Hh(r);let u;return u="string"==typeof(e=(0,Ge.m9)(e))||e instanceof Gl?VR(a,"updateDoc",n._key,e,t,i):LR(a,"updateDoc",n._key,e),Wm(r,[u.toMutation(n._key,fi.exists(!0))])}function PB(n){return Wm(Wt(n.firestore,Pn),[new Ov(n._key,fi.none())])}function FB(n,e){const t=Wt(n.firestore,Pn),i=Cu(n),r=BD(n.converter,e);return Wm(t,[FD(Hh(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,fi.exists(!1))]).then(()=>i)}function NB(n,...e){var t,i,r;n=(0,Ge.m9)(n);let a={includeMetadataChanges:!1},u=0;"object"!=typeof e[u]||FR(e[u])||(a=e[u],u++);const f={includeMetadataChanges:a.includeMetadataChanges};if(FR(e[u])){const I=e[u];e[u]=null===(t=I.next)||void 0===t?void 0:t.bind(I),e[u+1]=null===(i=I.error)||void 0===i?void 0:i.bind(I),e[u+2]=null===(r=I.complete)||void 0===r?void 0:r.bind(I)}let g,v,D;if(n instanceof In)v=Wt(n.firestore,Pn),D=Am(n._key.path),g={next:I=>{e[u]&&e[u](HR(v,n,I))},error:e[u+1],complete:e[u+2]};else{const I=Wt(n,pr);v=Wt(I.firestore,Pn),D=I._query;const R=new Gh(v);g={next:V=>{e[u]&&e[u](new Eu(v,R,I,V))},error:e[u+1],complete:e[u+2]},CB(n._query)}return function(I,R,V,H){const J=new xD(H),be=new Jk(R,J,V);return I.asyncQueue.enqueueAndForget((0,q.Z)(function*(){return Wk(yield qm(I),be)})),()=>{J.Ia(),I.asyncQueue.enqueueAndForget((0,q.Z)(function*(){return Zk(yield qm(I),be)}))}}(mi(v),D,f,g)}function Wm(n,e){return function(t,i){const r=new Fi;return t.asyncQueue.enqueueAndForget((0,q.Z)(function*(){return function UG(n,e,t){return iR.apply(this,arguments)}(yield kR(t),i,r)})),r.promise}(mi(n),e)}function HR(n,e,t){const i=t.docs.get(e._key),r=new Gh(n);return new ql(n,r,e._key,i,new zh(t.hasPendingWrites,t.fromCache),e.converter)}class eq extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Hh(e)}get(e){const t=Du(e,this._firestore),i=new Y6(this._firestore);return this._transaction.lookup([t._key]).then(r=>{if(!r||1!==r.length)return tt();const a=r[0];if(a.isFoundDocument())return new eb(this._firestore,i,a.key,a,t.converter);if(a.isNoDocument())return new eb(this._firestore,i,t._key,null,t.converter);throw tt()})}set(e,t,i){const r=Du(e,this._firestore),a=BD(r.converter,t,i),u=FD(this._dataReader,"Transaction.set",r._key,a,null!==r.converter,i);return this._transaction.set(r._key,u),this}update(e,t,i,...r){const a=Du(e,this._firestore);let u;return u="string"==typeof(t=(0,Ge.m9)(t))||t instanceof Gl?VR(this._dataReader,"Transaction.update",a._key,t,i,r):LR(this._dataReader,"Transaction.update",a._key,t),this._transaction.update(a._key,u),this}delete(e){const t=Du(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Du(e,this._firestore),i=new Gh(this._firestore);return super.get(e).then(r=>new ql(this._firestore,i,t._key,r._document,new zh(!1,!1),t.converter))}}!function(n,e=!0){wm=Ht.SDK_VERSION,(0,Ht._registerComponent)(new Yi.wA("firestore",(t,{options:i})=>{const r=t.getProvider("app").getImmediate(),a=new Pn(r,new _3(t.getProvider("auth-internal")),new b3(t.getProvider("app-check-internal")));return i=Object.assign({useFetchStreams:e},i),a._setSettings(i),a},"PUBLIC")),(0,Ht.registerVersion)(PN,"3.4.8",n),(0,Ht.registerVersion)(PN,"3.4.8","esm2017")}();class jD{constructor(e){return e}}const VB="firestore",$R=new c.OlP("angularfire2.firestore-instances");function cq(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new jD(i)}}const uq={provide:class aq{constructor(){return xM(VB)}},deps:[[new c.FiY,$R]]},dq={provide:jD,useFactory:function lq(n,e){const t=function MM(n,e,t){if(e){if(1===e.length)return e[0];const a=e.filter(u=>u.app===t);if(1===a.length)return a[0]}return t.container.getProvider(n).getImmediate({optional:!0})}(VB,n,e);return t&&new jD(t)},deps:[[new c.FiY,$R],mm]};let hq=(()=>{class n{constructor(){(0,Ht.registerVersion)("angularfire",bE.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[dq,uq]}),n})();function fq(n,...e){return{ngModule:hq,providers:[{provide:$R,useFactory:cq(n),multi:!0,deps:[c.R0b,c.zs3,wE,YP,[new c.FiY,KP],[new c.FiY,xE],...e]}]}}const zR=CE(PR,!0),pq=CE(b6,!0),mq=CE(Wl,!0);let yq=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Js,kn],Js,kn]}),n})();const ib={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:i}=ib;i&&(e=i.requestAnimationFrame,t=i.cancelAnimationFrame);const r=e(a=>{t=void 0,n(a)});return new Qn.w0(()=>null==t?void 0:t(r))},requestAnimationFrame(...n){const{delegate:e}=ib;return((null==e?void 0:e.requestAnimationFrame)||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=ib;return((null==e?void 0:e.cancelAnimationFrame)||cancelAnimationFrame)(...n)},delegate:void 0};new class bq extends Yf{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class vq extends Md{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=ib.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(e,t,i);e.actions.some(r=>r.id===t)||(ib.cancelAnimationFrame(t),e._scheduled=void 0)}});let GR,Cq=1;const HD={};function UB(n){return n in HD&&(delete HD[n],!0)}const Eq={setImmediate(n){const e=Cq++;return HD[e]=!0,GR||(GR=Promise.resolve()),GR.then(()=>UB(e)&&n()),e},clearImmediate(n){UB(n)}},{setImmediate:Dq,clearImmediate:Iq}=Eq,$D={setImmediate(...n){const{delegate:e}=$D;return((null==e?void 0:e.setImmediate)||Dq)(...n)},clearImmediate(n){const{delegate:e}=$D;return((null==e?void 0:e.clearImmediate)||Iq)(n)},delegate:void 0};new class Sq extends Yf{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class Aq extends Md{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=$D.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(e,t,i);e.actions.some(r=>r.id===t)||($D.clearImmediate(t),e._scheduled=void 0)}});var xq=F(3532);function jB(n,e=Lc){return function Mq(n){return(0,Jn.e)((e,t)=>{let i=!1,r=null,a=null,u=!1;const f=()=>{if(null==a||a.unsubscribe(),a=null,i){i=!1;const v=r;r=null,t.next(v)}u&&t.complete()},g=()=>{a=null,u&&t.complete()};e.subscribe((0,un.x)(t,v=>{i=!0,r=v,a||(0,or.Xf)(n(v)).subscribe(a=(0,un.x)(t,f,g))},()=>{u=!0,(!i||!a||a.closed)&&t.complete()}))})}(()=>function Rq(n=0,e,t=rA){let i=-1;return null!=e&&((0,xq.K)(e)?t=e:i=e),new zi.y(r=>{let a=function kq(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;a<0&&(a=0);let u=0;return t.schedule(function(){r.closed||(r.next(u++),0<=i?this.schedule(void 0,i):r.complete())},a)})}(n,e))}let Pq=(()=>{class n{constructor(t,i,r){this._ngZone=t,this._platform=i,this._scrolled=new yt.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const i=this.scrollContainers.get(t);i&&(i.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new zi.y(i=>{this._globalSubscription||this._addGlobalListener();const r=t>0?this._scrolled.pipe(jB(t)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):ht()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(t,i){const r=this.getAncestorScrollContainers(t);return this.scrolled(i).pipe(Xn(a=>!a||r.indexOf(a)>-1))}getAncestorScrollContainers(t){const i=[];return this.scrollContainers.forEach((r,a)=>{this._scrollableContainsElement(a,t)&&i.push(a)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,i){let r=qs(i),a=t.getElementRef().nativeElement;do{if(r==a)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>kl(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.R0b),c.LFG(ur),c.LFG(de,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),qR=(()=>{class n{constructor(t,i,r){this._platform=t,this._change=new yt.x,this._changeListener=a=>{this._change.next(a)},this._document=r,i.runOutsideAngular(()=>{if(t.isBrowser){const a=this._getWindow();a.addEventListener("resize",this._changeListener),a.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,i=this._getWindow(),r=t.documentElement,a=r.getBoundingClientRect();return{top:-a.top||t.body.scrollTop||i.scrollY||r.scrollTop||0,left:-a.left||t.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(jB(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ur),c.LFG(c.R0b),c.LFG(de,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),zD=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})(),HB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Ed,zD],Ed,zD]}),n})();class WR{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class YR extends WR{constructor(e,t,i,r){super(),this.component=e,this.viewContainerRef=t,this.injector=i,this.componentFactoryResolver=r}}class $B extends WR{constructor(e,t,i){super(),this.templateRef=e,this.viewContainerRef=t,this.context=i}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class Nq extends WR{constructor(e){super(),this.element=e instanceof c.SBq?e.nativeElement:e}}class zB{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof YR?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof $B?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof Nq?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class Lq extends zB{constructor(e,t,i,r,a){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=u=>{const f=u.element,g=this._document.createComment("dom-portal");f.parentNode.insertBefore(g,f),this.outletElement.appendChild(f),this._attachedPortal=u,super.setDisposeFn(()=>{g.parentNode&&g.parentNode.replaceChild(f,g)})},this._document=a}attachComponentPortal(e){const i=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let r;return e.viewContainerRef?(r=e.viewContainerRef.createComponent(i,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector),this.setDisposeFn(()=>r.destroy())):(r=i.create(e.injector||this._defaultInjector||c.zs3.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=e,r}attachTemplatePortal(e){let t=e.viewContainerRef,i=t.createEmbeddedView(e.templateRef,e.context);return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=t.indexOf(i);-1!==r&&t.remove(r)}),this._attachedPortal=e,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let GB=(()=>{class n extends zB{constructor(t,i,r){super(),this._componentFactoryResolver=t,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new c.vpe,this.attachDomPortal=a=>{const u=a.element,f=this._document.createComment("dom-portal");a.setAttachedHost(this),u.parentNode.insertBefore(f,u),this._getRootNode().appendChild(u),this._attachedPortal=a,super.setDisposeFn(()=>{f.parentNode&&f.parentNode.replaceChild(u,f)})},this._document=r}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(t){t.setAttachedHost(this);const i=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,a=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),u=i.createComponent(a,i.length,t.injector||i.injector);return i!==this._viewContainerRef&&this._getRootNode().appendChild(u.hostView.rootNodes[0]),super.setDisposeFn(()=>u.destroy()),this._attachedPortal=t,this._attachedRef=u,this.attached.emit(u),u}attachTemplatePortal(t){t.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c._Vd),c.Y36(c.s_b),c.Y36(de))},n.\u0275dir=c.lG2({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[c.qOj]}),n})(),qB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const WB=zf();class Bq{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=Gn(-this._previousScrollPosition.left),e.style.top=Gn(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,i=e.style,r=this._document.body.style,a=i.scrollBehavior||"",u=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),WB&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),WB&&(i.scrollBehavior=a,r.scrollBehavior=u)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,i=this._viewportRuler.getViewportSize();return t.scrollHeight>i.height||t.scrollWidth>i.width}}class Uq{constructor(e,t,i,r){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class YB{enable(){}disable(){}attach(){}}function ZR(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function ZB(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class jq{constructor(e,t,i,r){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();ZR(t,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let Hq=(()=>{class n{constructor(t,i,r,a){this._scrollDispatcher=t,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new YB,this.close=u=>new Uq(this._scrollDispatcher,this._ngZone,this._viewportRuler,u),this.block=()=>new Bq(this._viewportRuler,this._document),this.reposition=u=>new jq(this._scrollDispatcher,this._viewportRuler,this._ngZone,u),this._document=a}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Pq),c.LFG(qR),c.LFG(c.R0b),c.LFG(de))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class KR{constructor(e){if(this.scrollStrategy=new YB,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const i of t)void 0!==e[i]&&(this[i]=e[i])}}}class $q{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}class zq{constructor(e,t,i,r,a,u,f,g,v){this._portalOutlet=e,this._host=t,this._pane=i,this._config=r,this._ngZone=a,this._keyboardDispatcher=u,this._document=f,this._location=g,this._outsideClickDispatcher=v,this._backdropElement=null,this._backdropClick=new yt.x,this._attachments=new yt.x,this._detachments=new yt.x,this._locationChanges=Qn.w0.EMPTY,this._backdropClickHandler=D=>this._backdropClick.next(D),this._backdropTransitionendHandler=D=>{this._disposeBackdrop(D.target)},this._keydownEvents=new yt.x,this._outsidePointerEvents=new yt.x,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){let t=this._portalOutlet.attach(e);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,yi.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){var e;const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),null===(e=this._host)||void 0===e||e.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config=Object.assign(Object.assign({},this._config),e),this._updateElementSize()}setDirection(e){this._config=Object.assign(Object.assign({},this._config),{direction:e}),this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=Gn(this._config.width),e.height=Gn(this._config.height),e.minWidth=Gn(this._config.minWidth),e.minHeight=Gn(this._config.minHeight),e.maxWidth=Gn(this._config.maxWidth),e.maxHeight=Gn(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;!e||(e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500)))}_toggleClasses(e,t,i){const r=Zb(t||[]).filter(a=>!!a);r.length&&(i?e.classList.add(...r):e.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(ui((0,Lo.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}let KB=(()=>{class n{constructor(t,i){this._platform=i,this._document=t}ngOnDestroy(){var t;null===(t=this._containerElement)||void 0===t||t.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||$g()){const r=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let a=0;a<r.length;a++)r[a].remove()}const i=this._document.createElement("div");i.classList.add(t),$g()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(de),c.LFG(ur))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const QB="cdk-overlay-connected-position-bounding-box",Gq=/([A-Za-z%]+)$/;class JB{constructor(e,t,i,r,a){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=a,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new yt.x,this._resizeSubscription=Qn.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}get positions(){return this._preferredPositions}attach(e){this._validatePositions(),e.hostElement.classList.add(QB),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,i=this._viewportRect,r=this._containerRect,a=[];let u;for(let f of this._preferredPositions){let g=this._getOriginPoint(e,r,f),v=this._getOverlayPoint(g,t,f),D=this._getOverlayFit(v,t,i,f);if(D.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(f,g);this._canFitWithFlexibleDimensions(D,v,i)?a.push({position:f,origin:g,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(g,f)}):(!u||u.overlayFit.visibleArea<D.visibleArea)&&(u={overlayFit:D,overlayPoint:v,originPoint:g,position:f,overlayRect:t})}if(a.length){let f=null,g=-1;for(const v of a){const D=v.boundingBoxRect.width*v.boundingBoxRect.height*(v.position.weight||1);D>g&&(g=D,f=v)}return this._isPushed=!1,void this._applyPosition(f.position,f.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(u.position,u.originPoint);this._applyPosition(u.position,u.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Wh(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(QB),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,i){let r,a;if("center"==i.originX)r=e.left+e.width/2;else{const u=this._isRtl()?e.right:e.left,f=this._isRtl()?e.left:e.right;r="start"==i.originX?u:f}return t.left<0&&(r-=t.left),a="center"==i.originY?e.top+e.height/2:"top"==i.originY?e.top:e.bottom,t.top<0&&(a-=t.top),{x:r,y:a}}_getOverlayPoint(e,t,i){let r,a;return r="center"==i.overlayX?-t.width/2:"start"===i.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,a="center"==i.overlayY?-t.height/2:"top"==i.overlayY?0:-t.height,{x:e.x+r,y:e.y+a}}_getOverlayFit(e,t,i,r){const a=e2(t);let{x:u,y:f}=e,g=this._getOffset(r,"x"),v=this._getOffset(r,"y");g&&(u+=g),v&&(f+=v);let R=0-f,V=f+a.height-i.height,H=this._subtractOverflows(a.width,0-u,u+a.width-i.width),J=this._subtractOverflows(a.height,R,V),be=H*J;return{visibleArea:be,isCompletelyWithinViewport:a.width*a.height===be,fitsInViewportVertically:J===a.height,fitsInViewportHorizontally:H==a.width}}_canFitWithFlexibleDimensions(e,t,i){if(this._hasFlexibleDimensions){const r=i.bottom-t.y,a=i.right-t.x,u=XB(this._overlayRef.getConfig().minHeight),f=XB(this._overlayRef.getConfig().minWidth),v=e.fitsInViewportHorizontally||null!=f&&f<=a;return(e.fitsInViewportVertically||null!=u&&u<=r)&&v}return!1}_pushOverlayOnScreen(e,t,i){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const r=e2(t),a=this._viewportRect,u=Math.max(e.x+r.width-a.width,0),f=Math.max(e.y+r.height-a.height,0),g=Math.max(a.top-i.top-e.y,0),v=Math.max(a.left-i.left-e.x,0);let D=0,I=0;return D=r.width<=a.width?v||-u:e.x<this._viewportMargin?a.left-i.left-e.x:0,I=r.height<=a.height?g||-f:e.y<this._viewportMargin?a.top-i.top-e.y:0,this._previousPushAmount={x:D,y:I},{x:e.x+D,y:e.y+I}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new $q(e,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=e.overlayY;i="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let a=0;a<t.length;a++)t[a].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(e,t){const i=this._viewportRect,r=this._isRtl();let a,u,f,D,I,R;if("top"===t.overlayY)u=e.y,a=i.height-u+this._viewportMargin;else if("bottom"===t.overlayY)f=i.height-e.y+2*this._viewportMargin,a=i.height-f+this._viewportMargin;else{const V=Math.min(i.bottom-e.y+i.top,e.y),H=this._lastBoundingBoxSize.height;a=2*V,u=e.y-V,a>H&&!this._isInitialRender&&!this._growAfterOpen&&(u=e.y-H/2)}if("end"===t.overlayX&&!r||"start"===t.overlayX&&r)R=i.width-e.x+this._viewportMargin,D=e.x-this._viewportMargin;else if("start"===t.overlayX&&!r||"end"===t.overlayX&&r)I=e.x,D=i.right-e.x;else{const V=Math.min(i.right-e.x+i.left,e.x),H=this._lastBoundingBoxSize.width;D=2*V,I=e.x-V,D>H&&!this._isInitialRender&&!this._growAfterOpen&&(I=e.x-H/2)}return{top:u,left:I,bottom:f,right:R,width:D,height:a}}_setBoundingBoxStyles(e,t){const i=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const a=this._overlayRef.getConfig().maxHeight,u=this._overlayRef.getConfig().maxWidth;r.height=Gn(i.height),r.top=Gn(i.top),r.bottom=Gn(i.bottom),r.width=Gn(i.width),r.left=Gn(i.left),r.right=Gn(i.right),r.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",r.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",a&&(r.maxHeight=Gn(a)),u&&(r.maxWidth=Gn(u))}this._lastBoundingBoxSize=i,Wh(this._boundingBox.style,r)}_resetBoundingBoxStyles(){Wh(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Wh(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const i={},r=this._hasExactPosition(),a=this._hasFlexibleDimensions,u=this._overlayRef.getConfig();if(r){const D=this._viewportRuler.getViewportScrollPosition();Wh(i,this._getExactOverlayY(t,e,D)),Wh(i,this._getExactOverlayX(t,e,D))}else i.position="static";let f="",g=this._getOffset(t,"x"),v=this._getOffset(t,"y");g&&(f+=`translateX(${g}px) `),v&&(f+=`translateY(${v}px)`),i.transform=f.trim(),u.maxHeight&&(r?i.maxHeight=Gn(u.maxHeight):a&&(i.maxHeight="")),u.maxWidth&&(r?i.maxWidth=Gn(u.maxWidth):a&&(i.maxWidth="")),Wh(this._pane.style,i)}_getExactOverlayY(e,t,i){let r={top:"",bottom:""},a=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(a=this._pushOverlayOnScreen(a,this._overlayRect,i)),"bottom"===e.overlayY?r.bottom=this._document.documentElement.clientHeight-(a.y+this._overlayRect.height)+"px":r.top=Gn(a.y),r}_getExactOverlayX(e,t,i){let u,r={left:"",right:""},a=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(a=this._pushOverlayOnScreen(a,this._overlayRect,i)),u=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===u?r.right=this._document.documentElement.clientWidth-(a.x+this._overlayRect.width)+"px":r.left=Gn(a.x),r}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:ZB(e,i),isOriginOutsideView:ZR(e,i),isOverlayClipped:ZB(t,i),isOverlayOutsideView:ZR(t,i)}}_subtractOverflows(e,...t){return t.reduce((i,r)=>i-Math.max(r,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+e-this._viewportMargin,bottom:i.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&Zb(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof c.SBq)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,i=e.height||0;return{top:e.y,bottom:e.y+i,left:e.x,right:e.x+t,height:i,width:t}}}function Wh(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function XB(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(Gq);return t&&"px"!==t?null:parseFloat(e)}return n||null}function e2(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const t2="cdk-global-overlay-wrapper";class qq{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(t2),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._rightOffset="",this._leftOffset=e,this._justifyContent="flex-start",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._leftOffset="",this._rightOffset=e,this._justifyContent="flex-end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._justifyContent="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:a,maxWidth:u,maxHeight:f}=i,g=!("100%"!==r&&"100vw"!==r||u&&"100%"!==u&&"100vw"!==u),v=!("100%"!==a&&"100vh"!==a||f&&"100%"!==f&&"100vh"!==f);e.position=this._cssPosition,e.marginLeft=g?"0":this._leftOffset,e.marginTop=v?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=this._rightOffset,g?t.justifyContent="flex-start":"center"===this._justifyContent?t.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?t.justifyContent="flex-end":"flex-end"===this._justifyContent&&(t.justifyContent="flex-start"):t.justifyContent=this._justifyContent,t.alignItems=v?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,i=t.style;t.classList.remove(t2),i.justifyContent=i.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let Wq=(()=>{class n{constructor(t,i,r,a){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=a}global(){return new qq}flexibleConnectedTo(t){return new JB(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(qR),c.LFG(de),c.LFG(ur),c.LFG(KB))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),n2=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const i=this._attachedOverlays.indexOf(t);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(de))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Yq=(()=>{class n extends n2{constructor(t,i){super(t),this._ngZone=i,this._keydownListener=r=>{const a=this._attachedOverlays;for(let u=a.length-1;u>-1;u--)if(a[u]._keydownEvents.observers.length>0){const f=a[u]._keydownEvents;this._ngZone?this._ngZone.run(()=>f.next(r)):f.next(r);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(de),c.LFG(c.R0b,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Zq=(()=>{class n extends n2{constructor(t,i,r){super(t),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=a=>{this._pointerDownEventTarget=fa(a)},this._clickListener=a=>{const u=fa(a),f="click"===a.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:u;this._pointerDownEventTarget=null;const g=this._attachedOverlays.slice();for(let v=g.length-1;v>-1;v--){const D=g[v];if(D._outsidePointerEvents.observers.length<1||!D.hasAttached())continue;if(D.overlayElement.contains(u)||D.overlayElement.contains(f))break;const I=D._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>I.next(a)):I.next(a)}}}add(t){if(super.add(t),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(de),c.LFG(ur),c.LFG(c.R0b,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Kq=0,Ym=(()=>{class n{constructor(t,i,r,a,u,f,g,v,D,I,R){this.scrollStrategies=t,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=a,this._keyboardDispatcher=u,this._injector=f,this._ngZone=g,this._document=v,this._directionality=D,this._location=I,this._outsideClickDispatcher=R}create(t){const i=this._createHostElement(),r=this._createPaneElement(i),a=this._createPortalOutlet(r),u=new KR(t);return u.direction=u.direction||this._directionality.value,new zq(a,i,r,u,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(t){const i=this._document.createElement("div");return i.id="cdk-overlay-"+Kq++,i.classList.add("cdk-overlay-pane"),t.appendChild(i),i}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(c.z2F)),new Lq(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Hq),c.LFG(KB),c.LFG(c._Vd),c.LFG(Wq),c.LFG(Yq),c.LFG(c.zs3),c.LFG(c.R0b),c.LFG(de),c.LFG(pa),c.LFG(ge),c.LFG(Zq))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Qq=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],r2=new c.OlP("cdk-connected-overlay-scroll-strategy");let s2=(()=>{class n{constructor(t){this.elementRef=t}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),n})(),o2=(()=>{class n{constructor(t,i,r,a,u){this._overlay=t,this._dir=u,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=Qn.w0.EMPTY,this._attachSubscription=Qn.w0.EMPTY,this._detachSubscription=Qn.w0.EMPTY,this._positionSubscription=Qn.w0.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new c.vpe,this.positionChange=new c.vpe,this.attach=new c.vpe,this.detach=new c.vpe,this.overlayKeydown=new c.vpe,this.overlayOutsideClick=new c.vpe,this._templatePortal=new $B(i,r),this._scrollStrategyFactory=a,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(t){this._offsetX=t,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(t){this._offsetY=t,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(t){this._hasBackdrop=It(t)}get lockPosition(){return this._lockPosition}set lockPosition(t){this._lockPosition=It(t)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(t){this._flexibleDimensions=It(t)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(t){this._growAfterOpen=It(t)}get push(){return this._push}set push(t){this._push=It(t)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(t){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),t.origin&&this.open&&this._position.apply()),t.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=Qq);const t=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=t.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=t.detachments().subscribe(()=>this.detach.emit()),t.keydownEvents().subscribe(i=>{this.overlayKeydown.next(i),27===i.keyCode&&!this.disableClose&&!Gr(i)&&(i.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(i=>{this.overlayOutsideClick.next(i)})}_buildConfig(){const t=this._position=this.positionStrategy||this._createPositionStrategy(),i=new KR({direction:this._dir,positionStrategy:t,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(i.width=this.width),(this.height||0===this.height)&&(i.height=this.height),(this.minWidth||0===this.minWidth)&&(i.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(i.minHeight=this.minHeight),this.backdropClass&&(i.backdropClass=this.backdropClass),this.panelClass&&(i.panelClass=this.panelClass),i}_updatePositionStrategy(t){const i=this.positions.map(r=>({originX:r.originX,originY:r.originY,overlayX:r.overlayX,overlayY:r.overlayY,offsetX:r.offsetX||this.offsetX,offsetY:r.offsetY||this.offsetY,panelClass:r.panelClass||void 0}));return t.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(i).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const t=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(t),t}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof s2?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(t=>{this.backdropClick.emit(t)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function Vq(n,e=!1){return(0,Jn.e)((t,i)=>{let r=0;t.subscribe((0,un.x)(i,a=>{const u=n(a,r++);(u||e)&&i.next(a),!u&&i.complete()}))})}(()=>this.positionChange.observers.length>0)).subscribe(t=>{this.positionChange.emit(t),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Ym),c.Y36(c.Rgc),c.Y36(c.s_b),c.Y36(r2),c.Y36(pa,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[c.TTD]}),n})();const Xq={provide:r2,deps:[Ym],useFactory:function Jq(n){return()=>n.scrollStrategies.reposition()}};let a2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[Ym,Xq],imports:[[Ed,qB,HB],HB]}),n})();function QR(n){return new zi.y(e=>{(0,or.Xf)(n()).subscribe(e)})}function nr(n,e){return(0,Jn.e)((t,i)=>{let r=null,a=0,u=!1;const f=()=>u&&!r&&i.complete();t.subscribe((0,un.x)(i,g=>{null==r||r.unsubscribe();let v=0;const D=a++;(0,or.Xf)(n(g,D)).subscribe(r=(0,un.x)(i,I=>i.next(e?e(g,I,D,v++):I),()=>{r=null,f()}))},()=>{u=!0,f()}))})}const eW=["trigger"],tW=["panel"];function nW(n,e){if(1&n&&(c.TgZ(0,"span",8),c._uU(1),c.qZA()),2&n){const t=c.oxw();c.xp6(1),c.Oqu(t.placeholder)}}function iW(n,e){if(1&n&&(c.TgZ(0,"span",12),c._uU(1),c.qZA()),2&n){const t=c.oxw(2);c.xp6(1),c.Oqu(t.triggerValue)}}function rW(n,e){1&n&&c.Hsn(0,0,["*ngSwitchCase","true"])}function sW(n,e){if(1&n&&(c.TgZ(0,"span",9),c.YNc(1,iW,2,1,"span",10),c.YNc(2,rW,1,0,"ng-content",11),c.qZA()),2&n){const t=c.oxw();c.Q6J("ngSwitch",!!t.customTrigger),c.xp6(2),c.Q6J("ngSwitchCase",!0)}}function oW(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div",13)(1,"div",14,15),c.NdJ("@transformPanel.done",function(r){return c.CHM(t),c.oxw()._panelDoneAnimatingStream.next(r.toState)})("keydown",function(r){return c.CHM(t),c.oxw()._handleKeydown(r)}),c.Hsn(3,1),c.qZA()()}if(2&n){const t=c.oxw();c.Q6J("@transformPanelWrap",void 0),c.xp6(1),c.Gre("mat-select-panel ",t._getPanelTheme(),""),c.Udp("transform-origin",t._transformOrigin)("font-size",t._triggerFontSize,"px"),c.Q6J("ngClass",t.panelClass)("@transformPanel",t.multiple?"showing-multiple":"showing"),c.uIk("id",t.id+"-panel")("aria-multiselectable",t.multiple)("aria-label",t.ariaLabel||null)("aria-labelledby",t._getPanelAriaLabelledby())}}const aW=[[["mat-select-trigger"]],"*"],lW=["mat-select-trigger","*"],l2={transformPanelWrap:Xf("transformPanelWrap",[xo("* => void",f_("@transformPanel",[O0()],{optional:!0}))]),transformPanel:Xf("transformPanel",[Bc("void",ei({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),Bc("showing",ei({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),Bc("showing-multiple",ei({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),xo("void => *",Mo("120ms cubic-bezier(0, 0, 0.2, 1)")),xo("* => void",Mo("100ms 25ms linear",ei({opacity:0})))])};let c2=0;const d2=new c.OlP("mat-select-scroll-strategy"),hW=new c.OlP("MAT_SELECT_CONFIG"),fW={provide:d2,deps:[Ym],useFactory:function dW(n){return()=>n.scrollStrategies.reposition()}};class pW{constructor(e,t){this.source=e,this.value=t}}const mW=Yc(hS(q_(Lw(class{constructor(n,e,t,i,r){this._elementRef=n,this._defaultErrorStateMatcher=e,this._parentForm=t,this._parentFormGroup=i,this.ngControl=r}})))),gW=new c.OlP("MatSelectTrigger");let _W=(()=>{class n extends mW{constructor(t,i,r,a,u,f,g,v,D,I,R,V,H,J){var be,qe,Ke;super(u,a,g,v,I),this._viewportRuler=t,this._changeDetectorRef=i,this._ngZone=r,this._dir=f,this._parentFormField=D,this._liveAnnouncer=H,this._defaultOptions=J,this._panelOpen=!1,this._compareWith=(Je,et)=>Je===et,this._uid="mat-select-"+c2++,this._triggerAriaLabelledBy=null,this._destroy=new yt.x,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+c2++,this._panelDoneAnimatingStream=new yt.x,this._overlayPanelClass=(null===(be=this._defaultOptions)||void 0===be?void 0:be.overlayPanelClass)||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=null!==(Ke=null===(qe=this._defaultOptions)||void 0===qe?void 0:qe.disableOptionCentering)&&void 0!==Ke&&Ke,this.ariaLabel="",this.optionSelectionChanges=QR(()=>{const Je=this.options;return Je?Je.changes.pipe(xn(Je),nr(()=>(0,Lo.T)(...Je.map(et=>et.onSelectionChange)))):this._ngZone.onStable.pipe((0,yi.q)(1),nr(()=>this.optionSelectionChanges))}),this.openedChange=new c.vpe,this._openedStream=this.openedChange.pipe(Xn(Je=>Je),(0,wt.U)(()=>{})),this._closedStream=this.openedChange.pipe(Xn(Je=>!Je),(0,wt.U)(()=>{})),this.selectionChange=new c.vpe,this.valueChange=new c.vpe,this.ngControl&&(this.ngControl.valueAccessor=this),null!=(null==J?void 0:J.typeaheadDebounceInterval)&&(this._typeaheadDebounceInterval=J.typeaheadDebounceInterval),this._scrollStrategyFactory=V,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(R)||0,this.id=this.id}get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(t){this._placeholder=t,this.stateChanges.next()}get required(){var t,i,r,a;return null!==(a=null!==(t=this._required)&&void 0!==t?t:null===(r=null===(i=this.ngControl)||void 0===i?void 0:i.control)||void 0===r?void 0:r.hasValidator(go.required))&&void 0!==a&&a}set required(t){this._required=It(t),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(t){this._multiple=It(t)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(t){this._disableOptionCentering=It(t)}get compareWith(){return this._compareWith}set compareWith(t){this._compareWith=t,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(t){this._assignValue(t)&&this._onChange(t)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(t){this._typeaheadDebounceInterval=pl(t)}get id(){return this._id}set id(t){this._id=t||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new ty(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(wa(),ui(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe(ui(this._destroy)).subscribe(t=>{t.added.forEach(i=>i.select()),t.removed.forEach(i=>i.deselect())}),this.options.changes.pipe(xn(null),ui(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const t=this._getTriggerAriaLabelledby(),i=this.ngControl;if(t!==this._triggerAriaLabelledBy){const r=this._elementRef.nativeElement;this._triggerAriaLabelledBy=t,t?r.setAttribute("aria-labelledby",t):r.removeAttribute("aria-labelledby")}i&&(this._previousControl!==i.control&&(void 0!==this._previousControl&&null!==i.disabled&&i.disabled!==this.disabled&&(this.disabled=i.disabled),this._previousControl=i.control),this.updateErrorState())}ngOnChanges(t){t.disabled&&this.stateChanges.next(),t.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(t){this._assignValue(t)}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){var t,i;return this.multiple?(null===(t=this._selectionModel)||void 0===t?void 0:t.selected)||[]:null===(i=this._selectionModel)||void 0===i?void 0:i.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const t=this._selectionModel.selected.map(i=>i.viewValue);return this._isRtl()&&t.reverse(),t.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(t){this.disabled||(this.panelOpen?this._handleOpenKeydown(t):this._handleClosedKeydown(t))}_handleClosedKeydown(t){const i=t.keyCode,r=40===i||38===i||37===i||39===i,a=13===i||32===i,u=this._keyManager;if(!u.isTyping()&&a&&!Gr(t)||(this.multiple||t.altKey)&&r)t.preventDefault(),this.open();else if(!this.multiple){const f=this.selected;u.onKeydown(t);const g=this.selected;g&&f!==g&&this._liveAnnouncer.announce(g.viewValue,1e4)}}_handleOpenKeydown(t){const i=this._keyManager,r=t.keyCode,a=40===r||38===r,u=i.isTyping();if(a&&t.altKey)t.preventDefault(),this.close();else if(u||13!==r&&32!==r||!i.activeItem||Gr(t))if(!u&&this._multiple&&65===r&&t.ctrlKey){t.preventDefault();const f=this.options.some(g=>!g.disabled&&!g.selected);this.options.forEach(g=>{g.disabled||(f?g.select():g.deselect())})}else{const f=i.activeItemIndex;i.onKeydown(t),this._multiple&&a&&t.shiftKey&&i.activeItem&&i.activeItemIndex!==f&&i.activeItem._selectViaInteraction()}else t.preventDefault(),i.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe((0,yi.q)(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(t){if(this._selectionModel.selected.forEach(i=>i.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&t)Array.isArray(t),t.forEach(i=>this._selectOptionByValue(i)),this._sortValues();else{const i=this._selectOptionByValue(t);i?this._keyManager.updateActiveItem(i):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(t){const i=this.options.find(r=>{if(this._selectionModel.isSelected(r))return!1;try{return null!=r.value&&this._compareWith(r.value,t)}catch(a){return!1}});return i&&this._selectionModel.select(i),i}_assignValue(t){return!!(t!==this._value||this._multiple&&Array.isArray(t))&&(this.options&&this._setSelectionByValue(t),this._value=t,!0)}_initKeyManager(){this._keyManager=new lA(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe(ui(this._destroy)).subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.pipe(ui(this._destroy)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const t=(0,Lo.T)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(ui(t)).subscribe(i=>{this._onSelect(i.source,i.isUserInput),i.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,Lo.T)(...this.options.map(i=>i._stateChanges)).pipe(ui(t)).subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}_onSelect(t,i){const r=this._selectionModel.isSelected(t);null!=t.value||this._multiple?(r!==t.selected&&(t.selected?this._selectionModel.select(t):this._selectionModel.deselect(t)),i&&this._keyManager.setActiveItem(t),this.multiple&&(this._sortValues(),i&&this.focus())):(t.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(t.value)),r!==this._selectionModel.isSelected(t)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const t=this.options.toArray();this._selectionModel.sort((i,r)=>this.sortComparator?this.sortComparator(i,r,t):t.indexOf(i)-t.indexOf(r)),this.stateChanges.next()}}_propagateChanges(t){let i=null;i=this.multiple?this.selected.map(r=>r.value):this.selected?this.selected.value:t,this._value=i,this.valueChange.emit(i),this._onChange(i),this.selectionChange.emit(this._getChangeEvent(i)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_canOpen(){var t;return!this._panelOpen&&!this.disabled&&(null===(t=this.options)||void 0===t?void 0:t.length)>0}focus(t){this._elementRef.nativeElement.focus(t)}_getPanelAriaLabelledby(){var t;if(this.ariaLabel)return null;const i=null===(t=this._parentFormField)||void 0===t?void 0:t.getLabelId();return this.ariaLabelledby?(i?i+" ":"")+this.ariaLabelledby:i}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){var t;if(this.ariaLabel)return null;const i=null===(t=this._parentFormField)||void 0===t?void 0:t.getLabelId();let r=(i?i+" ":"")+this._valueId;return this.ariaLabelledby&&(r+=" "+this.ariaLabelledby),r}_panelDoneAnimating(t){this.openedChange.emit(t)}setDescribedByIds(t){this._ariaDescribedby=t.join(" ")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(qR),c.Y36(c.sBO),c.Y36(c.R0b),c.Y36(Ap),c.Y36(c.SBq),c.Y36(pa,8),c.Y36(Eo,8),c.Y36(cl,8),c.Y36(Qc,8),c.Y36(xi,10),c.$8M("tabindex"),c.Y36(d2),c.Y36(wA),c.Y36(hW,8))},n.\u0275dir=c.lG2({type:n,viewQuery:function(t,i){if(1&t&&(c.Gf(eW,5),c.Gf(tW,5),c.Gf(o2,5)),2&t){let r;c.iGM(r=c.CRH())&&(i.trigger=r.first),c.iGM(r=c.CRH())&&(i.panel=r.first),c.iGM(r=c.CRH())&&(i._overlayDir=r.first)}},inputs:{panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[c.qOj,c.TTD]}),n})(),h2=(()=>{class n extends _W{constructor(){super(...arguments),this._scrollTop=0,this._triggerFontSize=0,this._transformOrigin="top",this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}]}_calculateOverlayScroll(t,i,r){const a=this._getItemHeight();return Math.min(Math.max(0,a*t-i+a/2),r)}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe(ui(this._destroy)).subscribe(()=>{this.panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}open(){super._canOpen()&&(super.open(),this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._calculateOverlayPosition(),this._ngZone.onStable.pipe((0,yi.q)(1)).subscribe(()=>{this._triggerFontSize&&this._overlayDir.overlayRef&&this._overlayDir.overlayRef.overlayElement&&(this._overlayDir.overlayRef.overlayElement.style.fontSize=`${this._triggerFontSize}px`)}))}_scrollOptionIntoView(t){const i=J_(t,this.options,this.optionGroups),r=this._getItemHeight();this.panel.nativeElement.scrollTop=0===t&&1===i?0:function Kw(n,e,t,i){return n<t?n:n+e>t+i?Math.max(0,n-i+e):t}((t+i)*r,r,this.panel.nativeElement.scrollTop,256)}_positioningSettled(){this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop}_panelDoneAnimating(t){this.panelOpen?this._scrollTop=0:(this._overlayDir.offsetX=0,this._changeDetectorRef.markForCheck()),super._panelDoneAnimating(t)}_getChangeEvent(t){return new pW(this,t)}_calculateOverlayOffsetX(){const t=this._overlayDir.overlayRef.overlayElement.getBoundingClientRect(),i=this._viewportRuler.getViewportSize(),r=this._isRtl(),a=this.multiple?56:32;let u;if(this.multiple)u=40;else if(this.disableOptionCentering)u=16;else{let v=this._selectionModel.selected[0]||this.options.first;u=v&&v.group?32:16}r||(u*=-1);const f=0-(t.left+u-(r?a:0)),g=t.right+u-i.width+(r?0:a);f>0?u+=f+8:g>0&&(u-=g+8),this._overlayDir.offsetX=Math.round(u),this._overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(t,i,r){const a=this._getItemHeight(),u=(a-this._triggerRect.height)/2,f=Math.floor(256/a);let g;return this.disableOptionCentering?0:(g=0===this._scrollTop?t*a:this._scrollTop===r?(t-(this._getItemCount()-f))*a+(a-(this._getItemCount()*a-256)%a):i-a/2,Math.round(-1*g-u))}_checkOverlayWithinViewport(t){const i=this._getItemHeight(),r=this._viewportRuler.getViewportSize(),a=this._triggerRect.top-8,u=r.height-this._triggerRect.bottom-8,f=Math.abs(this._offsetY),v=Math.min(this._getItemCount()*i,256)-f-this._triggerRect.height;v>u?this._adjustPanelUp(v,u):f>a?this._adjustPanelDown(f,a,t):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(t,i){const r=Math.round(t-i);this._scrollTop-=r,this._offsetY-=r,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(t,i,r){const a=Math.round(t-i);if(this._scrollTop+=a,this._offsetY+=a,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=r)return this._scrollTop=r,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_calculateOverlayPosition(){const t=this._getItemHeight(),i=this._getItemCount(),r=Math.min(i*t,256),u=i*t-r;let f;f=this.empty?0:Math.max(this.options.toArray().indexOf(this._selectionModel.selected[0]),0),f+=J_(f,this.options,this.optionGroups);const g=r/2;this._scrollTop=this._calculateOverlayScroll(f,g,u),this._offsetY=this._calculateOverlayOffsetY(f,g,u),this._checkOverlayWithinViewport(u)}_getOriginBasedOnOption(){const t=this._getItemHeight(),i=(t-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-i+t/2}px 0px`}_getItemHeight(){return 3*this._triggerFontSize}_getItemCount(){return this.options.length+this.optionGroups.length}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=c.n5z(n)))(i||n)}}(),n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-select"]],contentQueries:function(t,i,r){if(1&t&&(c.Suo(r,gW,5),c.Suo(r,Mp,5),c.Suo(r,yS,5)),2&t){let a;c.iGM(a=c.CRH())&&(i.customTrigger=a.first),c.iGM(a=c.CRH())&&(i.options=a),c.iGM(a=c.CRH())&&(i.optionGroups=a)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","true",1,"mat-select"],hostVars:20,hostBindings:function(t,i){1&t&&c.NdJ("keydown",function(a){return i._handleKeydown(a)})("focus",function(){return i._onFocus()})("blur",function(){return i._onBlur()}),2&t&&(c.uIk("id",i.id)("tabindex",i.tabIndex)("aria-controls",i.panelOpen?i.id+"-panel":null)("aria-expanded",i.panelOpen)("aria-label",i.ariaLabel||null)("aria-required",i.required.toString())("aria-disabled",i.disabled.toString())("aria-invalid",i.errorState)("aria-describedby",i._ariaDescribedby||null)("aria-activedescendant",i._getAriaActiveDescendant()),c.ekj("mat-select-disabled",i.disabled)("mat-select-invalid",i.errorState)("mat-select-required",i.required)("mat-select-empty",i.empty)("mat-select-multiple",i.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matSelect"],features:[c._Bn([{provide:Zd,useExisting:n},{provide:Yw,useExisting:n}]),c.qOj],ngContentSelectors:lW,decls:9,vars:12,consts:[["cdk-overlay-origin","",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder mat-select-min-line",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder","mat-select-min-line"],[1,"mat-select-value-text",3,"ngSwitch"],["class","mat-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-min-line"],[1,"mat-select-panel-wrap"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(t,i){if(1&t&&(c.F$t(aW),c.TgZ(0,"div",0,1),c.NdJ("click",function(){return i.toggle()}),c.TgZ(3,"div",2),c.YNc(4,nW,2,1,"span",3),c.YNc(5,sW,3,2,"span",4),c.qZA(),c.TgZ(6,"div",5),c._UZ(7,"div",6),c.qZA()(),c.YNc(8,oW,4,14,"ng-template",7),c.NdJ("backdropClick",function(){return i.close()})("attach",function(){return i._onAttached()})("detach",function(){return i.close()})),2&t){const r=c.MAs(1);c.uIk("aria-owns",i.panelOpen?i.id+"-panel":null),c.xp6(3),c.Q6J("ngSwitch",i.empty),c.uIk("id",i._valueId),c.xp6(1),c.Q6J("ngSwitchCase",!0),c.xp6(1),c.Q6J("ngSwitchCase",!1),c.xp6(3),c.Q6J("cdkConnectedOverlayPanelClass",i._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",i._scrollStrategy)("cdkConnectedOverlayOrigin",r)("cdkConnectedOverlayOpen",i.panelOpen)("cdkConnectedOverlayPositions",i._positions)("cdkConnectedOverlayMinWidth",null==i._triggerRect?null:i._triggerRect.width)("cdkConnectedOverlayOffsetY",i._offsetY)}},directives:[s2,Yn,Si,zo,o2,wr],styles:['.mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{height:16px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;margin:0 4px}.mat-form-field.mat-focused .mat-select-arrow{transform:translateX(0)}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px;outline:0}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:transparent;-webkit-text-fill-color:transparent;transition:none;display:block}.mat-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}\n'],encapsulation:2,data:{animation:[l2.transformPanelWrap,l2.transformPanel]},changeDetection:0}),n})(),yW=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[fW],imports:[[ao,a2,Qw,kn],zD,Jd,Qw,kn]}),n})();const vW=["mat-calendar-body",""];function bW(n,e){if(1&n&&(c.TgZ(0,"tr",2)(1,"td",3),c._uU(2),c.qZA()()),2&n){const t=c.oxw();c.xp6(1),c.Udp("padding-top",t._cellPadding)("padding-bottom",t._cellPadding),c.uIk("colspan",t.numCols),c.xp6(1),c.hij(" ",t.label," ")}}function wW(n,e){if(1&n&&(c.TgZ(0,"td",3),c._uU(1),c.qZA()),2&n){const t=c.oxw(2);c.Udp("padding-top",t._cellPadding)("padding-bottom",t._cellPadding),c.uIk("colspan",t._firstRowOffset),c.xp6(1),c.hij(" ",t._firstRowOffset>=t.labelMinRequiredCells?t.label:""," ")}}function CW(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"td",7)(1,"button",8),c.NdJ("click",function(r){const u=c.CHM(t).$implicit;return c.oxw(2)._cellClicked(u,r)}),c.TgZ(2,"div",9),c._uU(3),c.qZA(),c._UZ(4,"div",10),c.qZA()()}if(2&n){const t=e.$implicit,i=e.index,r=c.oxw().index,a=c.oxw();c.Udp("width",a._cellWidth)("padding-top",a._cellPadding)("padding-bottom",a._cellPadding),c.uIk("data-mat-row",r)("data-mat-col",i),c.xp6(1),c.ekj("mat-calendar-body-disabled",!t.enabled)("mat-calendar-body-active",a._isActiveCell(r,i))("mat-calendar-body-range-start",a._isRangeStart(t.compareValue))("mat-calendar-body-range-end",a._isRangeEnd(t.compareValue))("mat-calendar-body-in-range",a._isInRange(t.compareValue))("mat-calendar-body-comparison-bridge-start",a._isComparisonBridgeStart(t.compareValue,r,i))("mat-calendar-body-comparison-bridge-end",a._isComparisonBridgeEnd(t.compareValue,r,i))("mat-calendar-body-comparison-start",a._isComparisonStart(t.compareValue))("mat-calendar-body-comparison-end",a._isComparisonEnd(t.compareValue))("mat-calendar-body-in-comparison-range",a._isInComparisonRange(t.compareValue))("mat-calendar-body-preview-start",a._isPreviewStart(t.compareValue))("mat-calendar-body-preview-end",a._isPreviewEnd(t.compareValue))("mat-calendar-body-in-preview",a._isInPreview(t.compareValue)),c.Q6J("ngClass",t.cssClasses)("tabindex",a._isActiveCell(r,i)?0:-1),c.uIk("aria-label",t.ariaLabel)("aria-disabled",!t.enabled||null)("aria-pressed",a._isSelected(t.compareValue))("aria-current",a.todayValue===t.compareValue?"date":null),c.xp6(1),c.ekj("mat-calendar-body-selected",a._isSelected(t.compareValue))("mat-calendar-body-comparison-identical",a._isComparisonIdentical(t.compareValue))("mat-calendar-body-today",a.todayValue===t.compareValue),c.xp6(1),c.hij(" ",t.displayValue," ")}}function EW(n,e){if(1&n&&(c.TgZ(0,"tr",4),c.YNc(1,wW,2,6,"td",5),c.YNc(2,CW,5,47,"td",6),c.qZA()),2&n){const t=e.$implicit,i=e.index,r=c.oxw();c.xp6(1),c.Q6J("ngIf",0===i&&r._firstRowOffset),c.xp6(1),c.Q6J("ngForOf",t)}}function DW(n,e){if(1&n&&(c.TgZ(0,"th",5)(1,"span",6),c._uU(2),c.qZA(),c.TgZ(3,"span",7),c._uU(4),c.qZA()()),2&n){const t=e.$implicit;c.xp6(2),c.Oqu(t.long),c.xp6(2),c.Oqu(t.narrow)}}const IW=["*"];function AW(n,e){}function SW(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"mat-month-view",5),c.NdJ("activeDateChange",function(r){return c.CHM(t),c.oxw().activeDate=r})("_userSelection",function(r){return c.CHM(t),c.oxw()._dateSelected(r)}),c.qZA()}if(2&n){const t=c.oxw();c.Q6J("activeDate",t.activeDate)("selected",t.selected)("dateFilter",t.dateFilter)("maxDate",t.maxDate)("minDate",t.minDate)("dateClass",t.dateClass)("comparisonStart",t.comparisonStart)("comparisonEnd",t.comparisonEnd)}}function TW(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"mat-year-view",6),c.NdJ("activeDateChange",function(r){return c.CHM(t),c.oxw().activeDate=r})("monthSelected",function(r){return c.CHM(t),c.oxw()._monthSelectedInYearView(r)})("selectedChange",function(r){return c.CHM(t),c.oxw()._goToDateInView(r,"month")}),c.qZA()}if(2&n){const t=c.oxw();c.Q6J("activeDate",t.activeDate)("selected",t.selected)("dateFilter",t.dateFilter)("maxDate",t.maxDate)("minDate",t.minDate)("dateClass",t.dateClass)}}function MW(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"mat-multi-year-view",7),c.NdJ("activeDateChange",function(r){return c.CHM(t),c.oxw().activeDate=r})("yearSelected",function(r){return c.CHM(t),c.oxw()._yearSelectedInMultiYearView(r)})("selectedChange",function(r){return c.CHM(t),c.oxw()._goToDateInView(r,"year")}),c.qZA()}if(2&n){const t=c.oxw();c.Q6J("activeDate",t.activeDate)("selected",t.selected)("dateFilter",t.dateFilter)("maxDate",t.maxDate)("minDate",t.minDate)("dateClass",t.dateClass)}}function xW(n,e){}const kW=["button"];function RW(n,e){1&n&&(c.O4$(),c.TgZ(0,"svg",3),c._UZ(1,"path",4),c.qZA())}const OW=[[["","matDatepickerToggleIcon",""]]],PW=["[matDatepickerToggleIcon]"];class JR{constructor(e,t,i,r,a={},u=e,f){this.value=e,this.displayValue=t,this.ariaLabel=i,this.enabled=r,this.cssClasses=a,this.compareValue=u,this.rawValue=f}}let Km=(()=>{class n{constructor(t,i){this._elementRef=t,this._ngZone=i,this.numCols=7,this.activeCell=0,this.isRange=!1,this.cellAspectRatio=1,this.previewStart=null,this.previewEnd=null,this.selectedValueChange=new c.vpe,this.previewChange=new c.vpe,this._enterHandler=r=>{if(this._skipNextFocus&&"focus"===r.type)this._skipNextFocus=!1;else if(r.target&&this.isRange){const a=this._getCellFromElement(r.target);a&&this._ngZone.run(()=>this.previewChange.emit({value:a.enabled?a:null,event:r}))}},this._leaveHandler=r=>{null!==this.previewEnd&&this.isRange&&r.target&&this._getCellFromElement(r.target)&&this._ngZone.run(()=>this.previewChange.emit({value:null,event:r}))},i.runOutsideAngular(()=>{const r=t.nativeElement;r.addEventListener("mouseenter",this._enterHandler,!0),r.addEventListener("focus",this._enterHandler,!0),r.addEventListener("mouseleave",this._leaveHandler,!0),r.addEventListener("blur",this._leaveHandler,!0)})}_cellClicked(t,i){t.enabled&&this.selectedValueChange.emit({value:t.value,event:i})}_isSelected(t){return this.startValue===t||this.endValue===t}ngOnChanges(t){const i=t.numCols,{rows:r,numCols:a}=this;(t.rows||i)&&(this._firstRowOffset=r&&r.length&&r[0].length?a-r[0].length:0),(t.cellAspectRatio||i||!this._cellPadding)&&(this._cellPadding=50*this.cellAspectRatio/a+"%"),(i||!this._cellWidth)&&(this._cellWidth=100/a+"%")}ngOnDestroy(){const t=this._elementRef.nativeElement;t.removeEventListener("mouseenter",this._enterHandler,!0),t.removeEventListener("focus",this._enterHandler,!0),t.removeEventListener("mouseleave",this._leaveHandler,!0),t.removeEventListener("blur",this._leaveHandler,!0)}_isActiveCell(t,i){let r=t*this.numCols+i;return t&&(r-=this._firstRowOffset),r==this.activeCell}_focusActiveCell(t=!0){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,yi.q)(1)).subscribe(()=>{setTimeout(()=>{const i=this._elementRef.nativeElement.querySelector(".mat-calendar-body-active");i&&(t||(this._skipNextFocus=!0),i.focus())})})})}_isRangeStart(t){return XR(t,this.startValue,this.endValue)}_isRangeEnd(t){return eO(t,this.startValue,this.endValue)}_isInRange(t){return tO(t,this.startValue,this.endValue,this.isRange)}_isComparisonStart(t){return XR(t,this.comparisonStart,this.comparisonEnd)}_isComparisonBridgeStart(t,i,r){if(!this._isComparisonStart(t)||this._isRangeStart(t)||!this._isInRange(t))return!1;let a=this.rows[i][r-1];if(!a){const u=this.rows[i-1];a=u&&u[u.length-1]}return a&&!this._isRangeEnd(a.compareValue)}_isComparisonBridgeEnd(t,i,r){if(!this._isComparisonEnd(t)||this._isRangeEnd(t)||!this._isInRange(t))return!1;let a=this.rows[i][r+1];if(!a){const u=this.rows[i+1];a=u&&u[0]}return a&&!this._isRangeStart(a.compareValue)}_isComparisonEnd(t){return eO(t,this.comparisonStart,this.comparisonEnd)}_isInComparisonRange(t){return tO(t,this.comparisonStart,this.comparisonEnd,this.isRange)}_isComparisonIdentical(t){return this.comparisonStart===this.comparisonEnd&&t===this.comparisonStart}_isPreviewStart(t){return XR(t,this.previewStart,this.previewEnd)}_isPreviewEnd(t){return eO(t,this.previewStart,this.previewEnd)}_isInPreview(t){return tO(t,this.previewStart,this.previewEnd,this.isRange)}_getCellFromElement(t){let i;if(f2(t)?i=t:f2(t.parentNode)&&(i=t.parentNode),i){const r=i.getAttribute("data-mat-row"),a=i.getAttribute("data-mat-col");if(r&&a)return this.rows[parseInt(r)][parseInt(a)]}return null}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.R0b))},n.\u0275cmp=c.Xpm({type:n,selectors:[["","mat-calendar-body",""]],hostAttrs:[1,"mat-calendar-body"],inputs:{label:"label",rows:"rows",todayValue:"todayValue",startValue:"startValue",endValue:"endValue",labelMinRequiredCells:"labelMinRequiredCells",numCols:"numCols",activeCell:"activeCell",isRange:"isRange",cellAspectRatio:"cellAspectRatio",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",previewStart:"previewStart",previewEnd:"previewEnd"},outputs:{selectedValueChange:"selectedValueChange",previewChange:"previewChange"},exportAs:["matCalendarBody"],features:[c.TTD],attrs:vW,decls:2,vars:2,consts:[["aria-hidden","true",4,"ngIf"],["role","row",4,"ngFor","ngForOf"],["aria-hidden","true"],[1,"mat-calendar-body-label"],["role","row"],["class","mat-calendar-body-label",3,"paddingTop","paddingBottom",4,"ngIf"],["role","gridcell","class","mat-calendar-body-cell-container",3,"width","paddingTop","paddingBottom",4,"ngFor","ngForOf"],["role","gridcell",1,"mat-calendar-body-cell-container"],["type","button",1,"mat-calendar-body-cell",3,"ngClass","tabindex","click"],[1,"mat-calendar-body-cell-content","mat-focus-indicator"],["aria-hidden","true",1,"mat-calendar-body-cell-preview"]],template:function(t,i){1&t&&(c.YNc(0,bW,3,6,"tr",0),c.YNc(1,EW,3,2,"tr",1)),2&t&&(c.Q6J("ngIf",i._firstRowOffset<i.labelMinRequiredCells),c.xp6(1),c.Q6J("ngForOf",i.rows))},directives:[Hn,Sn,wr],styles:['.mat-calendar-body{min-width:224px}.mat-calendar-body-label{height:0;line-height:0;text-align:left;padding-left:4.7142857143%;padding-right:4.7142857143%}.mat-calendar-body-cell-container{position:relative;height:0;line-height:0}.mat-calendar-body-cell{-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;position:absolute;top:0;left:0;width:100%;height:100%;background:none;text-align:center;outline:none;font-family:inherit;margin:0}.mat-calendar-body-cell::-moz-focus-inner{border:0}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-cell-preview{content:"";position:absolute;top:5%;left:0;z-index:0;box-sizing:border-box;height:90%;width:100%}.mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-start::after,.mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,.mat-calendar-body-comparison-start::after,.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:5%;width:95%;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,[dir=rtl] .mat-calendar-body-comparison-start::after,[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:0;border-radius:0;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,.mat-calendar-body-comparison-end::after,.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}[dir=rtl] .mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,[dir=rtl] .mat-calendar-body-comparison-end::after,[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{left:5%;border-radius:0;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-comparison-bridge-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-bridge-end.mat-calendar-body-range-start::after{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end.mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-end.mat-calendar-body-range-start::after{width:90%}.mat-calendar-body-in-preview .mat-calendar-body-cell-preview{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:0;border-right:dashed 1px}.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:0;border-left:dashed 1px}.mat-calendar-body-disabled{cursor:default}.cdk-high-contrast-active .mat-calendar-body-disabled{opacity:.5}.mat-calendar-body-cell-content{top:5%;left:5%;z-index:1;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px}.mat-calendar-body-cell-content.mat-focus-indicator{position:absolute}.cdk-high-contrast-active .mat-calendar-body-cell-content{border:none}.cdk-high-contrast-active .mat-datepicker-popup:not(:empty),.cdk-high-contrast-active .mat-calendar-body-cell:not(.mat-calendar-body-in-range) .mat-calendar-body-selected{outline:solid 1px}.cdk-high-contrast-active .mat-calendar-body-today{outline:dotted 1px}.cdk-high-contrast-active .cdk-keyboard-focused .mat-calendar-body-active>.mat-calendar-body-cell-content,.cdk-high-contrast-active .cdk-program-focused .mat-calendar-body-active>.mat-calendar-body-cell-content{outline:dotted 2px}.cdk-high-contrast-active .cdk-keyboard-focused .mat-calendar-body-active>.mat-calendar-body-cell-content.mat-calendar-body-selected,.cdk-high-contrast-active .cdk-program-focused .mat-calendar-body-active>.mat-calendar-body-cell-content.mat-calendar-body-selected{outline:solid 3px}.cdk-high-contrast-active .mat-calendar-body-cell::before,.cdk-high-contrast-active .mat-calendar-body-cell::after,.cdk-high-contrast-active .mat-calendar-body-selected{background:none}.cdk-high-contrast-active .mat-calendar-body-in-range::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-start::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-end::before{border-top:solid 1px;border-bottom:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:0;border-right:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:0;border-left:solid 1px}.cdk-high-contrast-active .mat-calendar-body-in-comparison-range::before{border-top:dashed 1px;border-bottom:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:0;border-right:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:0;border-left:dashed 1px}[dir=rtl] .mat-calendar-body-label{text-align:right}\n'],encapsulation:2,changeDetection:0}),n})();function f2(n){return"TD"===n.nodeName}function XR(n,e,t){return null!==t&&e!==t&&n<t&&n===e}function eO(n,e,t){return null!==e&&e!==t&&n>=e&&n===t}function tO(n,e,t,i){return i&&null!==e&&null!==t&&e!==t&&n>=e&&n<=t}class es{constructor(e,t){this.start=e,this.end=t}}let Iu=(()=>{class n{constructor(t,i){this.selection=t,this._adapter=i,this._selectionChanged=new yt.x,this.selectionChanged=this._selectionChanged,this.selection=t}updateSelection(t,i){const r=this.selection;this.selection=t,this._selectionChanged.next({selection:t,source:i,oldValue:r})}ngOnDestroy(){this._selectionChanged.complete()}_isValidDateInstance(t){return this._adapter.isDateInstance(t)&&this._adapter.isValid(t)}}return n.\u0275fac=function(t){c.$Z()},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),FW=(()=>{class n extends Iu{constructor(t){super(null,t)}add(t){super.updateSelection(t,this)}isValid(){return null!=this.selection&&this._isValidDateInstance(this.selection)}isComplete(){return null!=this.selection}clone(){const t=new n(this._adapter);return t.updateSelection(this.selection,this),t}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(vi))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const p2={provide:Iu,deps:[[new c.FiY,new c.tp0,Iu],vi],useFactory:function LW(n,e){return n||new FW(e)}},qD=new c.OlP("MAT_DATE_RANGE_SELECTION_STRATEGY");let m2=(()=>{class n{constructor(t,i,r,a,u){this._changeDetectorRef=t,this._dateFormats=i,this._dateAdapter=r,this._dir=a,this._rangeStrategy=u,this._rerenderSubscription=Qn.w0.EMPTY,this.selectedChange=new c.vpe,this._userSelection=new c.vpe,this.activeDateChange=new c.vpe,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(t){const i=this._activeDate,r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),this._hasSameMonthAndYear(i,this._activeDate)||this._init()}get selected(){return this._selected}set selected(t){this._selected=t instanceof es?t:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t)),this._setRanges(this._selected)}get minDate(){return this._minDate}set minDate(t){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}get maxDate(){return this._maxDate}set maxDate(t){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(xn(null)).subscribe(()=>this._init())}ngOnChanges(t){const i=t.comparisonStart||t.comparisonEnd;i&&!i.firstChange&&this._setRanges(this.selected)}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_dateSelected(t){const i=t.value,r=this._dateAdapter.getYear(this.activeDate),a=this._dateAdapter.getMonth(this.activeDate),u=this._dateAdapter.createDate(r,a,i);let f,g;this._selected instanceof es?(f=this._getDateInCurrentMonth(this._selected.start),g=this._getDateInCurrentMonth(this._selected.end)):f=g=this._getDateInCurrentMonth(this._selected),(f!==i||g!==i)&&this.selectedChange.emit(u),this._userSelection.emit({value:u,event:t.event}),this._previewStart=this._previewEnd=null,this._changeDetectorRef.markForCheck()}_handleCalendarBodyKeydown(t){const i=this._activeDate,r=this._isRtl();switch(t.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,r?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,r?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case 40:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case 36:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case 33:this.activeDate=t.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case 34:this.activeDate=t.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case 13:case 32:return this._selectionKeyPressed=!0,void(this._canSelect(this._activeDate)&&t.preventDefault());case 27:return void(null!=this._previewEnd&&!Gr(t)&&(this._previewStart=this._previewEnd=null,this.selectedChange.emit(null),this._userSelection.emit({value:null,event:t}),t.preventDefault(),t.stopPropagation()));default:return}this._dateAdapter.compareDate(i,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCell(),t.preventDefault()}_handleCalendarBodyKeyup(t){(32===t.keyCode||13===t.keyCode)&&(this._selectionKeyPressed&&this._canSelect(this._activeDate)&&this._dateSelected({value:this._dateAdapter.getDate(this._activeDate),event:t}),this._selectionKeyPressed=!1)}_init(){this._setRanges(this.selected),this._todayDate=this._getCellCompareValue(this._dateAdapter.today()),this._monthLabel=this._dateFormats.display.monthLabel?this._dateAdapter.format(this.activeDate,this._dateFormats.display.monthLabel):this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase();let t=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset=(7+this._dateAdapter.getDayOfWeek(t)-this._dateAdapter.getFirstDayOfWeek())%7,this._initWeekdays(),this._createWeekCells(),this._changeDetectorRef.markForCheck()}_focusActiveCell(t){this._matCalendarBody._focusActiveCell(t)}_previewChanged({event:t,value:i}){if(this._rangeStrategy){const a=this._rangeStrategy.createPreview(i?i.rawValue:null,this.selected,t);this._previewStart=this._getCellCompareValue(a.start),this._previewEnd=this._getCellCompareValue(a.end),this._changeDetectorRef.detectChanges()}}_initWeekdays(){const t=this._dateAdapter.getFirstDayOfWeek(),i=this._dateAdapter.getDayOfWeekNames("narrow");let a=this._dateAdapter.getDayOfWeekNames("long").map((u,f)=>({long:u,narrow:i[f]}));this._weekdays=a.slice(t).concat(a.slice(0,t))}_createWeekCells(){const t=this._dateAdapter.getNumDaysInMonth(this.activeDate),i=this._dateAdapter.getDateNames();this._weeks=[[]];for(let r=0,a=this._firstWeekOffset;r<t;r++,a++){7==a&&(this._weeks.push([]),a=0);const u=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),r+1),f=this._shouldEnableDate(u),g=this._dateAdapter.format(u,this._dateFormats.display.dateA11yLabel),v=this.dateClass?this.dateClass(u,"month"):void 0;this._weeks[this._weeks.length-1].push(new JR(r+1,i[r],g,f,v,this._getCellCompareValue(u),u))}}_shouldEnableDate(t){return!!t&&(!this.minDate||this._dateAdapter.compareDate(t,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(t,this.maxDate)<=0)&&(!this.dateFilter||this.dateFilter(t))}_getDateInCurrentMonth(t){return t&&this._hasSameMonthAndYear(t,this.activeDate)?this._dateAdapter.getDate(t):null}_hasSameMonthAndYear(t,i){return!(!t||!i||this._dateAdapter.getMonth(t)!=this._dateAdapter.getMonth(i)||this._dateAdapter.getYear(t)!=this._dateAdapter.getYear(i))}_getCellCompareValue(t){if(t){const i=this._dateAdapter.getYear(t),r=this._dateAdapter.getMonth(t),a=this._dateAdapter.getDate(t);return new Date(i,r,a).getTime()}return null}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setRanges(t){t instanceof es?(this._rangeStart=this._getCellCompareValue(t.start),this._rangeEnd=this._getCellCompareValue(t.end),this._isRange=!0):(this._rangeStart=this._rangeEnd=this._getCellCompareValue(t),this._isRange=!1),this._comparisonRangeStart=this._getCellCompareValue(this.comparisonStart),this._comparisonRangeEnd=this._getCellCompareValue(this.comparisonEnd)}_canSelect(t){return!this.dateFilter||this.dateFilter(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.sBO),c.Y36(Ml,8),c.Y36(vi,8),c.Y36(pa,8),c.Y36(qD,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-month-view"]],viewQuery:function(t,i){if(1&t&&c.Gf(Km,5),2&t){let r;c.iGM(r=c.CRH())&&(i._matCalendarBody=r.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd"},outputs:{selectedChange:"selectedChange",_userSelection:"_userSelection",activeDateChange:"activeDateChange"},exportAs:["matMonthView"],features:[c.TTD],decls:7,vars:13,consts:[["role","grid",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["scope","col",4,"ngFor","ngForOf"],["aria-hidden","true","colspan","7",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","comparisonStart","comparisonEnd","previewStart","previewEnd","isRange","labelMinRequiredCells","activeCell","selectedValueChange","previewChange","keyup","keydown"],["scope","col"],[1,"cdk-visually-hidden"],["aria-hidden","true"]],template:function(t,i){1&t&&(c.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),c.YNc(3,DW,5,2,"th",2),c.qZA(),c.TgZ(4,"tr"),c._UZ(5,"th",3),c.qZA()(),c.TgZ(6,"tbody",4),c.NdJ("selectedValueChange",function(a){return i._dateSelected(a)})("previewChange",function(a){return i._previewChanged(a)})("keyup",function(a){return i._handleCalendarBodyKeyup(a)})("keydown",function(a){return i._handleCalendarBodyKeydown(a)}),c.qZA()()),2&t&&(c.xp6(3),c.Q6J("ngForOf",i._weekdays),c.xp6(3),c.Q6J("label",i._monthLabel)("rows",i._weeks)("todayValue",i._todayDate)("startValue",i._rangeStart)("endValue",i._rangeEnd)("comparisonStart",i._comparisonRangeStart)("comparisonEnd",i._comparisonRangeEnd)("previewStart",i._previewStart)("previewEnd",i._previewEnd)("isRange",i._isRange)("labelMinRequiredCells",3)("activeCell",i._dateAdapter.getDate(i.activeDate)-1))},directives:[Km,Sn],encapsulation:2,changeDetection:0}),n})(),g2=(()=>{class n{constructor(t,i,r){this._changeDetectorRef=t,this._dateAdapter=i,this._dir=r,this._rerenderSubscription=Qn.w0.EMPTY,this.selectedChange=new c.vpe,this.yearSelected=new c.vpe,this.activeDateChange=new c.vpe,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(t){let i=this._activeDate;const r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),_2(this._dateAdapter,i,this._activeDate,this.minDate,this.maxDate)||this._init()}get selected(){return this._selected}set selected(t){this._selected=t instanceof es?t:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t)),this._setSelectedYear(t)}get minDate(){return this._minDate}set minDate(t){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}get maxDate(){return this._maxDate}set maxDate(t){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(xn(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_init(){this._todayYear=this._dateAdapter.getYear(this._dateAdapter.today());const i=this._dateAdapter.getYear(this._activeDate)-sb(this._dateAdapter,this.activeDate,this.minDate,this.maxDate);this._years=[];for(let r=0,a=[];r<24;r++)a.push(i+r),4==a.length&&(this._years.push(a.map(u=>this._createCellForYear(u))),a=[]);this._changeDetectorRef.markForCheck()}_yearSelected(t){const i=t.value;this.yearSelected.emit(this._dateAdapter.createDate(i,0,1));let r=this._dateAdapter.getMonth(this.activeDate),a=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(i,r,1));this.selectedChange.emit(this._dateAdapter.createDate(i,r,Math.min(this._dateAdapter.getDate(this.activeDate),a)))}_handleCalendarBodyKeydown(t){const i=this._activeDate,r=this._isRtl();switch(t.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,r?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,r?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-sb(this._dateAdapter,this.activeDate,this.minDate,this.maxDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,24-sb(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)-1);break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,t.altKey?-240:-24);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,t.altKey?240:24);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(i,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCell(),t.preventDefault()}_handleCalendarBodyKeyup(t){(32===t.keyCode||13===t.keyCode)&&(this._selectionKeyPressed&&this._yearSelected({value:this._dateAdapter.getYear(this._activeDate),event:t}),this._selectionKeyPressed=!1)}_getActiveCell(){return sb(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_createCellForYear(t){const i=this._dateAdapter.createDate(t,0,1),r=this._dateAdapter.getYearName(i),a=this.dateClass?this.dateClass(i,"multi-year"):void 0;return new JR(t,r,r,this._shouldEnableYear(t),a)}_shouldEnableYear(t){if(null==t||this.maxDate&&t>this._dateAdapter.getYear(this.maxDate)||this.minDate&&t<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;for(let r=this._dateAdapter.createDate(t,0,1);this._dateAdapter.getYear(r)==t;r=this._dateAdapter.addCalendarDays(r,1))if(this.dateFilter(r))return!0;return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedYear(t){if(this._selectedYear=null,t instanceof es){const i=t.start||t.end;i&&(this._selectedYear=this._dateAdapter.getYear(i))}else t&&(this._selectedYear=this._dateAdapter.getYear(t))}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.sBO),c.Y36(vi,8),c.Y36(pa,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-multi-year-view"]],viewQuery:function(t,i){if(1&t&&c.Gf(Km,5),2&t){let r;c.iGM(r=c.CRH())&&(i._matCalendarBody=r.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",activeDateChange:"activeDateChange"},exportAs:["matMultiYearView"],decls:5,vars:7,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"rows","todayValue","startValue","endValue","numCols","cellAspectRatio","activeCell","selectedValueChange","keyup","keydown"]],template:function(t,i){1&t&&(c.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),c._UZ(3,"th",2),c.qZA()(),c.TgZ(4,"tbody",3),c.NdJ("selectedValueChange",function(a){return i._yearSelected(a)})("keyup",function(a){return i._handleCalendarBodyKeyup(a)})("keydown",function(a){return i._handleCalendarBodyKeydown(a)}),c.qZA()()),2&t&&(c.xp6(4),c.Q6J("rows",i._years)("todayValue",i._todayYear)("startValue",i._selectedYear)("endValue",i._selectedYear)("numCols",4)("cellAspectRatio",4/7)("activeCell",i._getActiveCell()))},directives:[Km],encapsulation:2,changeDetection:0}),n})();function _2(n,e,t,i,r){const a=n.getYear(e),u=n.getYear(t),f=y2(n,i,r);return Math.floor((a-f)/24)===Math.floor((u-f)/24)}function sb(n,e,t,i){return function jW(n,e){return(n%e+e)%e}(n.getYear(e)-y2(n,t,i),24)}function y2(n,e,t){let i=0;return t?i=n.getYear(t)-24+1:e&&(i=n.getYear(e)),i}let v2=(()=>{class n{constructor(t,i,r,a){this._changeDetectorRef=t,this._dateFormats=i,this._dateAdapter=r,this._dir=a,this._rerenderSubscription=Qn.w0.EMPTY,this.selectedChange=new c.vpe,this.monthSelected=new c.vpe,this.activeDateChange=new c.vpe,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(t){let i=this._activeDate;const r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),this._dateAdapter.getYear(i)!==this._dateAdapter.getYear(this._activeDate)&&this._init()}get selected(){return this._selected}set selected(t){this._selected=t instanceof es?t:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t)),this._setSelectedMonth(t)}get minDate(){return this._minDate}set minDate(t){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}get maxDate(){return this._maxDate}set maxDate(t){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(xn(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_monthSelected(t){const i=t.value,r=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),i,1);this.monthSelected.emit(r);const a=this._dateAdapter.getNumDaysInMonth(r);this.selectedChange.emit(this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),i,Math.min(this._dateAdapter.getDate(this.activeDate),a)))}_handleCalendarBodyKeydown(t){const i=this._activeDate,r=this._isRtl();switch(t.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,r?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,r?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,t.altKey?-10:-1);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,t.altKey?10:1);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(i,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCell(),t.preventDefault()}_handleCalendarBodyKeyup(t){(32===t.keyCode||13===t.keyCode)&&(this._selectionKeyPressed&&this._monthSelected({value:this._dateAdapter.getMonth(this._activeDate),event:t}),this._selectionKeyPressed=!1)}_init(){this._setSelectedMonth(this.selected),this._todayMonth=this._getMonthInCurrentYear(this._dateAdapter.today()),this._yearLabel=this._dateAdapter.getYearName(this.activeDate);let t=this._dateAdapter.getMonthNames("short");this._months=[[0,1,2,3],[4,5,6,7],[8,9,10,11]].map(i=>i.map(r=>this._createCellForMonth(r,t[r]))),this._changeDetectorRef.markForCheck()}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_getMonthInCurrentYear(t){return t&&this._dateAdapter.getYear(t)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(t):null}_createCellForMonth(t,i){const r=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),t,1),a=this._dateAdapter.format(r,this._dateFormats.display.monthYearA11yLabel),u=this.dateClass?this.dateClass(r,"year"):void 0;return new JR(t,i.toLocaleUpperCase(),a,this._shouldEnableMonth(t),u)}_shouldEnableMonth(t){const i=this._dateAdapter.getYear(this.activeDate);if(null==t||this._isYearAndMonthAfterMaxDate(i,t)||this._isYearAndMonthBeforeMinDate(i,t))return!1;if(!this.dateFilter)return!0;for(let a=this._dateAdapter.createDate(i,t,1);this._dateAdapter.getMonth(a)==t;a=this._dateAdapter.addCalendarDays(a,1))if(this.dateFilter(a))return!0;return!1}_isYearAndMonthAfterMaxDate(t,i){if(this.maxDate){const r=this._dateAdapter.getYear(this.maxDate),a=this._dateAdapter.getMonth(this.maxDate);return t>r||t===r&&i>a}return!1}_isYearAndMonthBeforeMinDate(t,i){if(this.minDate){const r=this._dateAdapter.getYear(this.minDate),a=this._dateAdapter.getMonth(this.minDate);return t<r||t===r&&i<a}return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedMonth(t){this._selectedMonth=t instanceof es?this._getMonthInCurrentYear(t.start)||this._getMonthInCurrentYear(t.end):this._getMonthInCurrentYear(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.sBO),c.Y36(Ml,8),c.Y36(vi,8),c.Y36(pa,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-year-view"]],viewQuery:function(t,i){if(1&t&&c.Gf(Km,5),2&t){let r;c.iGM(r=c.CRH())&&(i._matCalendarBody=r.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",monthSelected:"monthSelected",activeDateChange:"activeDateChange"},exportAs:["matYearView"],decls:5,vars:9,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","labelMinRequiredCells","numCols","cellAspectRatio","activeCell","selectedValueChange","keyup","keydown"]],template:function(t,i){1&t&&(c.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),c._UZ(3,"th",2),c.qZA()(),c.TgZ(4,"tbody",3),c.NdJ("selectedValueChange",function(a){return i._monthSelected(a)})("keyup",function(a){return i._handleCalendarBodyKeyup(a)})("keydown",function(a){return i._handleCalendarBodyKeydown(a)}),c.qZA()()),2&t&&(c.xp6(4),c.Q6J("label",i._yearLabel)("rows",i._months)("todayValue",i._todayMonth)("startValue",i._selectedMonth)("endValue",i._selectedMonth)("labelMinRequiredCells",2)("numCols",4)("cellAspectRatio",4/7)("activeCell",i._dateAdapter.getMonth(i.activeDate)))},directives:[Km],encapsulation:2,changeDetection:0}),n})(),ob=(()=>{class n{constructor(){this.changes=new yt.x,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year"}formatYearRange(t,i){return`${t} \u2013 ${i}`}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),HW=0,$W=(()=>{class n{constructor(t,i,r,a,u){this._intl=t,this.calendar=i,this._dateAdapter=r,this._dateFormats=a,this._buttonDescriptionId="mat-calendar-button-"+HW++,this.calendar.stateChanges.subscribe(()=>u.markForCheck())}get periodButtonText(){if("month"==this.calendar.currentView)return this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase();if("year"==this.calendar.currentView)return this._dateAdapter.getYearName(this.calendar.activeDate);const i=this._dateAdapter.getYear(this.calendar.activeDate)-sb(this._dateAdapter,this.calendar.activeDate,this.calendar.minDate,this.calendar.maxDate),r=i+24-1,a=this._dateAdapter.getYearName(this._dateAdapter.createDate(i,0,1)),u=this._dateAdapter.getYearName(this._dateAdapter.createDate(r,0,1));return this._intl.formatYearRange(a,u)}get periodButtonLabel(){return"month"==this.calendar.currentView?this._intl.switchToMultiYearViewLabel:this._intl.switchToMonthViewLabel}get prevButtonLabel(){return{month:this._intl.prevMonthLabel,year:this._intl.prevYearLabel,"multi-year":this._intl.prevMultiYearLabel}[this.calendar.currentView]}get nextButtonLabel(){return{month:this._intl.nextMonthLabel,year:this._intl.nextYearLabel,"multi-year":this._intl.nextMultiYearLabel}[this.calendar.currentView]}currentPeriodClicked(){this.calendar.currentView="month"==this.calendar.currentView?"multi-year":"month"}previousClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?-1:-24)}nextClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?1:24)}previousEnabled(){return!this.calendar.minDate||!this.calendar.minDate||!this._isSameView(this.calendar.activeDate,this.calendar.minDate)}nextEnabled(){return!this.calendar.maxDate||!this._isSameView(this.calendar.activeDate,this.calendar.maxDate)}_isSameView(t,i){return"month"==this.calendar.currentView?this._dateAdapter.getYear(t)==this._dateAdapter.getYear(i)&&this._dateAdapter.getMonth(t)==this._dateAdapter.getMonth(i):"year"==this.calendar.currentView?this._dateAdapter.getYear(t)==this._dateAdapter.getYear(i):_2(this._dateAdapter,t,i,this.calendar.minDate,this.calendar.maxDate)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(ob),c.Y36((0,c.Gpc)(()=>rO)),c.Y36(vi,8),c.Y36(Ml,8),c.Y36(c.sBO))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-calendar-header"]],exportAs:["matCalendarHeader"],ngContentSelectors:IW,decls:11,vars:10,consts:[[1,"mat-calendar-header"],[1,"mat-calendar-controls"],["mat-button","","type","button","aria-live","polite",1,"mat-calendar-period-button",3,"click"],["viewBox","0 0 10 5","focusable","false",1,"mat-calendar-arrow"],["points","0,0 5,5 10,0"],[1,"mat-calendar-spacer"],["mat-icon-button","","type","button",1,"mat-calendar-previous-button",3,"disabled","click"],["mat-icon-button","","type","button",1,"mat-calendar-next-button",3,"disabled","click"]],template:function(t,i){1&t&&(c.F$t(),c.TgZ(0,"div",0)(1,"div",1)(2,"button",2),c.NdJ("click",function(){return i.currentPeriodClicked()}),c.TgZ(3,"span"),c._uU(4),c.qZA(),c.O4$(),c.TgZ(5,"svg",3),c._UZ(6,"polygon",4),c.qZA()(),c.kcU(),c._UZ(7,"div",5),c.Hsn(8),c.TgZ(9,"button",6),c.NdJ("click",function(){return i.previousClicked()}),c.qZA(),c.TgZ(10,"button",7),c.NdJ("click",function(){return i.nextClicked()}),c.qZA()()()),2&t&&(c.xp6(2),c.uIk("aria-label",i.periodButtonLabel)("aria-describedby",i._buttonDescriptionId),c.xp6(1),c.uIk("id",i._buttonDescriptionId),c.xp6(1),c.Oqu(i.periodButtonText),c.xp6(1),c.ekj("mat-calendar-invert","month"!==i.calendar.currentView),c.xp6(4),c.Q6J("disabled",!i.previousEnabled()),c.uIk("aria-label",i.prevButtonLabel),c.xp6(1),c.Q6J("disabled",!i.nextEnabled()),c.uIk("aria-label",i.nextButtonLabel))},directives:[Rl],encapsulation:2,changeDetection:0}),n})(),rO=(()=>{class n{constructor(t,i,r,a){this._dateAdapter=i,this._dateFormats=r,this._changeDetectorRef=a,this._moveFocusOnNextTick=!1,this.startView="month",this.selectedChange=new c.vpe,this.yearSelected=new c.vpe,this.monthSelected=new c.vpe,this.viewChanged=new c.vpe(!0),this._userSelection=new c.vpe,this.stateChanges=new yt.x,this._intlChanges=t.changes.subscribe(()=>{a.markForCheck(),this.stateChanges.next()})}get startAt(){return this._startAt}set startAt(t){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}get selected(){return this._selected}set selected(t){this._selected=t instanceof es?t:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}get minDate(){return this._minDate}set minDate(t){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}get maxDate(){return this._maxDate}set maxDate(t){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}get activeDate(){return this._clampedActiveDate}set activeDate(t){this._clampedActiveDate=this._dateAdapter.clampDate(t,this.minDate,this.maxDate),this.stateChanges.next(),this._changeDetectorRef.markForCheck()}get currentView(){return this._currentView}set currentView(t){const i=this._currentView!==t?t:null;this._currentView=t,this._moveFocusOnNextTick=!0,this._changeDetectorRef.markForCheck(),i&&this.viewChanged.emit(i)}ngAfterContentInit(){this._calendarHeaderPortal=new YR(this.headerComponent||$W),this.activeDate=this.startAt||this._dateAdapter.today(),this._currentView=this.startView}ngAfterViewChecked(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this.focusActiveCell())}ngOnDestroy(){this._intlChanges.unsubscribe(),this.stateChanges.complete()}ngOnChanges(t){const i=t.minDate&&!this._dateAdapter.sameDate(t.minDate.previousValue,t.minDate.currentValue)?t.minDate:void 0,r=t.maxDate&&!this._dateAdapter.sameDate(t.maxDate.previousValue,t.maxDate.currentValue)?t.maxDate:void 0,a=i||r||t.dateFilter;if(a&&!a.firstChange){const u=this._getCurrentViewComponent();u&&(this._changeDetectorRef.detectChanges(),u._init())}this.stateChanges.next()}focusActiveCell(){this._getCurrentViewComponent()._focusActiveCell(!1)}updateTodaysDate(){this._getCurrentViewComponent()._init()}_dateSelected(t){const i=t.value;(this.selected instanceof es||i&&!this._dateAdapter.sameDate(i,this.selected))&&this.selectedChange.emit(i),this._userSelection.emit(t)}_yearSelectedInMultiYearView(t){this.yearSelected.emit(t)}_monthSelectedInYearView(t){this.monthSelected.emit(t)}_goToDateInView(t,i){this.activeDate=t,this.currentView=i}_getCurrentViewComponent(){return this.monthView||this.yearView||this.multiYearView}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(ob),c.Y36(vi,8),c.Y36(Ml,8),c.Y36(c.sBO))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-calendar"]],viewQuery:function(t,i){if(1&t&&(c.Gf(m2,5),c.Gf(v2,5),c.Gf(g2,5)),2&t){let r;c.iGM(r=c.CRH())&&(i.monthView=r.first),c.iGM(r=c.CRH())&&(i.yearView=r.first),c.iGM(r=c.CRH())&&(i.multiYearView=r.first)}},hostAttrs:[1,"mat-calendar"],inputs:{headerComponent:"headerComponent",startAt:"startAt",startView:"startView",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",_userSelection:"_userSelection"},exportAs:["matCalendar"],features:[c._Bn([p2]),c.TTD],decls:5,vars:5,consts:[[3,"cdkPortalOutlet"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"mat-calendar-content",3,"ngSwitch"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","activeDateChange","_userSelection",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","activeDateChange","_userSelection"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange"]],template:function(t,i){1&t&&(c.YNc(0,AW,0,0,"ng-template",0),c.TgZ(1,"div",1),c.YNc(2,SW,1,8,"mat-month-view",2),c.YNc(3,TW,1,6,"mat-year-view",3),c.YNc(4,MW,1,6,"mat-multi-year-view",4),c.qZA()),2&t&&(c.Q6J("cdkPortalOutlet",i._calendarHeaderPortal),c.xp6(1),c.Q6J("ngSwitch",i.currentView),c.xp6(1),c.Q6J("ngSwitchCase","month"),c.xp6(1),c.Q6J("ngSwitchCase","year"),c.xp6(1),c.Q6J("ngSwitchCase","multi-year"))},directives:[m2,v2,g2,GB,CA,Yn,Si],styles:['.mat-calendar{display:block}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:none}.mat-calendar-controls{display:flex;margin:5% calc(4.7142857143% - 16px)}.mat-calendar-controls .mat-icon-button:hover .mat-button-focus-overlay{opacity:.04}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0}.mat-calendar-arrow{display:inline-block;width:10px;height:5px;margin:0 0 0 5px;vertical-align:middle}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}.cdk-high-contrast-active .mat-calendar-arrow{fill:CanvasText}.mat-calendar-previous-button,.mat-calendar-next-button{position:relative}.mat-calendar-previous-button::after,.mat-calendar-next-button::after{top:0;left:0;right:0;bottom:0;position:absolute;content:"";margin:15.5px;border:0 solid currentColor;border-top-width:2px}[dir=rtl] .mat-calendar-previous-button,[dir=rtl] .mat-calendar-next-button{transform:rotate(180deg)}.mat-calendar-previous-button::after{border-left-width:2px;transform:translateX(2px) rotate(-45deg)}.mat-calendar-next-button::after{border-right-width:2px;transform:translateX(-2px) rotate(45deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:"";position:absolute;top:0;left:-8px;right:-8px;height:1px}\n'],encapsulation:2,changeDetection:0}),n})();const b2={transformPanel:Xf("transformPanel",[xo("void => enter-dropdown",Mo("120ms cubic-bezier(0, 0, 0.2, 1)",tp([ei({opacity:0,transform:"scale(1, 0.8)"}),ei({opacity:1,transform:"scale(1, 1)"})]))),xo("void => enter-dialog",Mo("150ms cubic-bezier(0, 0, 0.2, 1)",tp([ei({opacity:0,transform:"scale(0.7)"}),ei({transform:"none",opacity:1})]))),xo("* => void",Mo("100ms linear",ei({opacity:0})))]),fadeInCalendar:Xf("fadeInCalendar",[Bc("void",ei({opacity:0})),Bc("enter",ei({opacity:1})),xo("void => *",Mo("120ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"))])};let zW=0;const w2=new c.OlP("mat-datepicker-scroll-strategy"),qW={provide:w2,deps:[Ym],useFactory:function GW(n){return()=>n.scrollStrategies.reposition()}},WW=W_(class{constructor(n){this._elementRef=n}});let YW=(()=>{class n extends WW{constructor(t,i,r,a,u,f){super(t),this._changeDetectorRef=i,this._globalModel=r,this._dateAdapter=a,this._rangeSelectionStrategy=u,this._subscriptions=new Qn.w0,this._animationDone=new yt.x,this._actionsPortal=null,this._closeButtonText=f.closeCalendarLabel}ngOnInit(){this._model=this._actionsPortal?this._globalModel.clone():this._globalModel,this._animationState=this.datepicker.touchUi?"enter-dialog":"enter-dropdown"}ngAfterViewInit(){this._subscriptions.add(this.datepicker.stateChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})),this._calendar.focusActiveCell()}ngOnDestroy(){this._subscriptions.unsubscribe(),this._animationDone.complete()}_handleUserSelection(t){const i=this._model.selection,r=t.value,a=i instanceof es;if(a&&this._rangeSelectionStrategy){const u=this._rangeSelectionStrategy.selectionFinished(r,i,t.event);this._model.updateSelection(u,this)}else r&&(a||!this._dateAdapter.sameDate(r,i))&&this._model.add(r);(!this._model||this._model.isComplete())&&!this._actionsPortal&&this.datepicker.close()}_startExitAnimation(){this._animationState="void",this._changeDetectorRef.markForCheck()}_getSelected(){return this._model.selection}_applyPendingSelection(){this._model!==this._globalModel&&this._globalModel.updateSelection(this._model.selection,this)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.sBO),c.Y36(Iu),c.Y36(vi),c.Y36(qD,8),c.Y36(ob))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-datepicker-content"]],viewQuery:function(t,i){if(1&t&&c.Gf(rO,5),2&t){let r;c.iGM(r=c.CRH())&&(i._calendar=r.first)}},hostAttrs:[1,"mat-datepicker-content"],hostVars:3,hostBindings:function(t,i){1&t&&c.WFA("@transformPanel.done",function(){return i._animationDone.next()}),2&t&&(c.d8E("@transformPanel",i._animationState),c.ekj("mat-datepicker-content-touch",i.datepicker.touchUi))},inputs:{color:"color"},exportAs:["matDatepickerContent"],features:[c.qOj],decls:5,vars:24,consts:[["cdkTrapFocus","","role","dialog",1,"mat-datepicker-content-container"],[3,"id","ngClass","startAt","startView","minDate","maxDate","dateFilter","headerComponent","selected","dateClass","comparisonStart","comparisonEnd","yearSelected","monthSelected","viewChanged","_userSelection"],[3,"cdkPortalOutlet"],["type","button","mat-raised-button","",1,"mat-datepicker-close-button",3,"color","focus","blur","click"]],template:function(t,i){if(1&t&&(c.TgZ(0,"div",0)(1,"mat-calendar",1),c.NdJ("yearSelected",function(a){return i.datepicker._selectYear(a)})("monthSelected",function(a){return i.datepicker._selectMonth(a)})("viewChanged",function(a){return i.datepicker._viewChanged(a)})("_userSelection",function(a){return i._handleUserSelection(a)}),c.qZA(),c.YNc(2,xW,0,0,"ng-template",2),c.TgZ(3,"button",3),c.NdJ("focus",function(){return i._closeButtonFocused=!0})("blur",function(){return i._closeButtonFocused=!1})("click",function(){return i.datepicker.close()}),c._uU(4),c.qZA()()),2&t){let r;c.ekj("mat-datepicker-content-container-with-custom-header",i.datepicker.calendarHeaderComponent)("mat-datepicker-content-container-with-actions",i._actionsPortal),c.uIk("aria-modal",!0)("aria-labelledby",null!==(r=i._dialogLabelId)&&void 0!==r?r:void 0),c.xp6(1),c.Q6J("id",i.datepicker.id)("ngClass",i.datepicker.panelClass)("startAt",i.datepicker.startAt)("startView",i.datepicker.startView)("minDate",i.datepicker._getMinDate())("maxDate",i.datepicker._getMaxDate())("dateFilter",i.datepicker._getDateFilter())("headerComponent",i.datepicker.calendarHeaderComponent)("selected",i._getSelected())("dateClass",i.datepicker.dateClass)("comparisonStart",i.comparisonStart)("comparisonEnd",i.comparisonEnd)("@fadeInCalendar","enter"),c.xp6(1),c.Q6J("cdkPortalOutlet",i._actionsPortal),c.xp6(1),c.ekj("cdk-visually-hidden",!i._closeButtonFocused),c.Q6J("color",i.color||"primary"),c.xp6(1),c.Oqu(i._closeButtonText)}},directives:[rO,Rl,S0,wr,GB],styles:[".mat-datepicker-content{display:block;border-radius:4px}.mat-datepicker-content .mat-calendar{width:296px;height:354px}.mat-datepicker-content .mat-datepicker-content-container-with-custom-header .mat-calendar{height:auto}.mat-datepicker-content .mat-datepicker-close-button{position:absolute;top:100%;left:0;margin-top:8px}.ng-animating .mat-datepicker-content .mat-datepicker-close-button{display:none}.mat-datepicker-content-container{display:flex;flex-direction:column;justify-content:space-between}.mat-datepicker-content-touch{display:block;max-height:80vh;position:relative;overflow:visible}.mat-datepicker-content-touch .mat-datepicker-content-container{min-height:312px;max-height:788px;min-width:250px;max-width:750px}.mat-datepicker-content-touch .mat-calendar{width:100%;height:auto}@media all and (orientation: landscape){.mat-datepicker-content-touch .mat-datepicker-content-container{width:64vh;height:80vh}}@media all and (orientation: portrait){.mat-datepicker-content-touch .mat-datepicker-content-container{width:80vw;height:100vw}.mat-datepicker-content-touch .mat-datepicker-content-container-with-actions{height:115vw}}\n"],encapsulation:2,data:{animation:[b2.transformPanel,b2.fadeInCalendar]},changeDetection:0}),n})(),C2=(()=>{class n{constructor(t,i,r,a,u,f,g){this._overlay=t,this._ngZone=i,this._viewContainerRef=r,this._dateAdapter=u,this._dir=f,this._model=g,this._inputStateChanges=Qn.w0.EMPTY,this.startView="month",this._touchUi=!1,this.xPosition="start",this.yPosition="below",this._restoreFocus=!0,this.yearSelected=new c.vpe,this.monthSelected=new c.vpe,this.viewChanged=new c.vpe(!0),this.openedStream=new c.vpe,this.closedStream=new c.vpe,this._opened=!1,this.id="mat-datepicker-"+zW++,this._focusedElementBeforeOpen=null,this._backdropHarnessClass=`${this.id}-backdrop`,this.stateChanges=new yt.x,this._scrollStrategy=a}get startAt(){return this._startAt||(this.datepickerInput?this.datepickerInput.getStartValue():null)}set startAt(t){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}get color(){return this._color||(this.datepickerInput?this.datepickerInput.getThemePalette():void 0)}set color(t){this._color=t}get touchUi(){return this._touchUi}set touchUi(t){this._touchUi=It(t)}get disabled(){return void 0===this._disabled&&this.datepickerInput?this.datepickerInput.disabled:!!this._disabled}set disabled(t){const i=It(t);i!==this._disabled&&(this._disabled=i,this.stateChanges.next(void 0))}get restoreFocus(){return this._restoreFocus}set restoreFocus(t){this._restoreFocus=It(t)}get panelClass(){return this._panelClass}set panelClass(t){this._panelClass=function CI(n,e=/\s+/){const t=[];if(null!=n){const i=Array.isArray(n)?n:`${n}`.split(e);for(const r of i){const a=`${r}`.trim();a&&t.push(a)}}return t}(t)}get opened(){return this._opened}set opened(t){It(t)?this.open():this.close()}_getMinDate(){return this.datepickerInput&&this.datepickerInput.min}_getMaxDate(){return this.datepickerInput&&this.datepickerInput.max}_getDateFilter(){return this.datepickerInput&&this.datepickerInput.dateFilter}ngOnChanges(t){const i=t.xPosition||t.yPosition;if(i&&!i.firstChange&&this._overlayRef){const r=this._overlayRef.getConfig().positionStrategy;r instanceof JB&&(this._setConnectedPositions(r),this.opened&&this._overlayRef.updatePosition())}this.stateChanges.next(void 0)}ngOnDestroy(){this._destroyOverlay(),this.close(),this._inputStateChanges.unsubscribe(),this.stateChanges.complete()}select(t){this._model.add(t)}_selectYear(t){this.yearSelected.emit(t)}_selectMonth(t){this.monthSelected.emit(t)}_viewChanged(t){this.viewChanged.emit(t)}registerInput(t){return this._inputStateChanges.unsubscribe(),this.datepickerInput=t,this._inputStateChanges=t.stateChanges.subscribe(()=>this.stateChanges.next(void 0)),this._model}registerActions(t){this._actionsPortal=t}removeActions(t){t===this._actionsPortal&&(this._actionsPortal=null)}open(){this._opened||this.disabled||(this._focusedElementBeforeOpen=Qb(),this._openOverlay(),this._opened=!0,this.openedStream.emit())}close(){if(!this._opened)return;if(this._componentRef){const i=this._componentRef.instance;i._startExitAnimation(),i._animationDone.pipe((0,yi.q)(1)).subscribe(()=>this._destroyOverlay())}const t=()=>{this._opened&&(this._opened=!1,this.closedStream.emit(),this._focusedElementBeforeOpen=null)};this._restoreFocus&&this._focusedElementBeforeOpen&&"function"==typeof this._focusedElementBeforeOpen.focus?(this._focusedElementBeforeOpen.focus(),setTimeout(t)):t()}_applyPendingSelection(){var t,i;null===(i=null===(t=this._componentRef)||void 0===t?void 0:t.instance)||void 0===i||i._applyPendingSelection()}_forwardContentValues(t){t.datepicker=this,t.color=this.color,t._actionsPortal=this._actionsPortal,t._dialogLabelId=this.datepickerInput.getOverlayLabelId()}_openOverlay(){this._destroyOverlay();const t=this.touchUi,i=new YR(YW,this._viewContainerRef),r=this._overlayRef=this._overlay.create(new KR({positionStrategy:t?this._getDialogStrategy():this._getDropdownStrategy(),hasBackdrop:!0,backdropClass:[t?"cdk-overlay-dark-backdrop":"mat-overlay-transparent-backdrop",this._backdropHarnessClass],direction:this._dir,scrollStrategy:t?this._overlay.scrollStrategies.block():this._scrollStrategy(),panelClass:"mat-datepicker-"+(t?"dialog":"popup")}));this._getCloseStream(r).subscribe(a=>{a&&a.preventDefault(),this.close()}),this._componentRef=r.attach(i),this._forwardContentValues(this._componentRef.instance),t||this._ngZone.onStable.pipe((0,yi.q)(1)).subscribe(()=>r.updatePosition())}_destroyOverlay(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=this._componentRef=null)}_getDialogStrategy(){return this._overlay.position().global().centerHorizontally().centerVertically()}_getDropdownStrategy(){const t=this._overlay.position().flexibleConnectedTo(this.datepickerInput.getConnectedOverlayOrigin()).withTransformOriginOn(".mat-datepicker-content").withFlexibleDimensions(!1).withViewportMargin(8).withLockedPosition();return this._setConnectedPositions(t)}_setConnectedPositions(t){const i="end"===this.xPosition?"end":"start",r="start"===i?"end":"start",a="above"===this.yPosition?"bottom":"top",u="top"===a?"bottom":"top";return t.withPositions([{originX:i,originY:u,overlayX:i,overlayY:a},{originX:i,originY:a,overlayX:i,overlayY:u},{originX:r,originY:u,overlayX:r,overlayY:a},{originX:r,originY:a,overlayX:r,overlayY:u}])}_getCloseStream(t){return(0,Lo.T)(t.backdropClick(),t.detachments(),t.keydownEvents().pipe(Xn(i=>27===i.keyCode&&!Gr(i)||this.datepickerInput&&Gr(i,"altKey")&&38===i.keyCode)))}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Ym),c.Y36(c.R0b),c.Y36(c.s_b),c.Y36(w2),c.Y36(vi,8),c.Y36(pa,8),c.Y36(Iu))},n.\u0275dir=c.lG2({type:n,inputs:{calendarHeaderComponent:"calendarHeaderComponent",startAt:"startAt",startView:"startView",color:"color",touchUi:"touchUi",disabled:"disabled",xPosition:"xPosition",yPosition:"yPosition",restoreFocus:"restoreFocus",dateClass:"dateClass",panelClass:"panelClass",opened:"opened"},outputs:{yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",openedStream:"opened",closedStream:"closed"},features:[c.TTD]}),n})(),E2=(()=>{class n extends C2{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=c.n5z(n)))(i||n)}}(),n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-datepicker"]],exportAs:["matDatepicker"],features:[c._Bn([p2,{provide:C2,useExisting:n}]),c.qOj],decls:0,vars:0,template:function(t,i){},encapsulation:2,changeDetection:0}),n})();class WD{constructor(e,t){this.target=e,this.targetElement=t,this.value=this.target.value}}let ZW=(()=>{class n{constructor(t,i,r){this._elementRef=t,this._dateAdapter=i,this._dateFormats=r,this.dateChange=new c.vpe,this.dateInput=new c.vpe,this.stateChanges=new yt.x,this._onTouched=()=>{},this._validatorOnChange=()=>{},this._cvaOnChange=()=>{},this._valueChangesSubscription=Qn.w0.EMPTY,this._localeSubscription=Qn.w0.EMPTY,this._parseValidator=()=>this._lastValueValid?null:{matDatepickerParse:{text:this._elementRef.nativeElement.value}},this._filterValidator=a=>{const u=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(a.value));return!u||this._matchesFilter(u)?null:{matDatepickerFilter:!0}},this._minValidator=a=>{const u=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(a.value)),f=this._getMinDate();return!f||!u||this._dateAdapter.compareDate(f,u)<=0?null:{matDatepickerMin:{min:f,actual:u}}},this._maxValidator=a=>{const u=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(a.value)),f=this._getMaxDate();return!f||!u||this._dateAdapter.compareDate(f,u)>=0?null:{matDatepickerMax:{max:f,actual:u}}},this._lastValueValid=!1,this._localeSubscription=i.localeChanges.subscribe(()=>{this._assignValueProgrammatically(this.value)})}get value(){return this._model?this._getValueFromModel(this._model.selection):this._pendingValue}set value(t){this._assignValueProgrammatically(t)}get disabled(){return!!this._disabled||this._parentDisabled()}set disabled(t){const i=It(t),r=this._elementRef.nativeElement;this._disabled!==i&&(this._disabled=i,this.stateChanges.next(void 0)),i&&this._isInitialized&&r.blur&&r.blur()}_getValidators(){return[this._parseValidator,this._minValidator,this._maxValidator,this._filterValidator]}_registerModel(t){this._model=t,this._valueChangesSubscription.unsubscribe(),this._pendingValue&&this._assignValue(this._pendingValue),this._valueChangesSubscription=this._model.selectionChanged.subscribe(i=>{if(this._shouldHandleChangeEvent(i)){const r=this._getValueFromModel(i.selection);this._lastValueValid=this._isValidValue(r),this._cvaOnChange(r),this._onTouched(),this._formatValue(r),this.dateInput.emit(new WD(this,this._elementRef.nativeElement)),this.dateChange.emit(new WD(this,this._elementRef.nativeElement))}})}ngAfterViewInit(){this._isInitialized=!0}ngOnChanges(t){(function KW(n,e){const t=Object.keys(n);for(let i of t){const{previousValue:r,currentValue:a}=n[i];if(!e.isDateInstance(r)||!e.isDateInstance(a))return!0;if(!e.sameDate(r,a))return!0}return!1})(t,this._dateAdapter)&&this.stateChanges.next(void 0)}ngOnDestroy(){this._valueChangesSubscription.unsubscribe(),this._localeSubscription.unsubscribe(),this.stateChanges.complete()}registerOnValidatorChange(t){this._validatorOnChange=t}validate(t){return this._validator?this._validator(t):null}writeValue(t){this._assignValueProgrammatically(t)}registerOnChange(t){this._cvaOnChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t}_onKeydown(t){t.altKey&&40===t.keyCode&&!this._elementRef.nativeElement.readOnly&&(this._openPopup(),t.preventDefault())}_onInput(t){const i=this._lastValueValid;let r=this._dateAdapter.parse(t,this._dateFormats.parse.dateInput);this._lastValueValid=this._isValidValue(r),r=this._dateAdapter.getValidDateOrNull(r);const a=!this._dateAdapter.sameDate(r,this.value);!r||a?this._cvaOnChange(r):(t&&!this.value&&this._cvaOnChange(r),i!==this._lastValueValid&&this._validatorOnChange()),a&&(this._assignValue(r),this.dateInput.emit(new WD(this,this._elementRef.nativeElement)))}_onChange(){this.dateChange.emit(new WD(this,this._elementRef.nativeElement))}_onBlur(){this.value&&this._formatValue(this.value),this._onTouched()}_formatValue(t){this._elementRef.nativeElement.value=t?this._dateAdapter.format(t,this._dateFormats.display.dateInput):""}_assignValue(t){this._model?(this._assignValueToModel(t),this._pendingValue=null):this._pendingValue=t}_isValidValue(t){return!t||this._dateAdapter.isValid(t)}_parentDisabled(){return!1}_assignValueProgrammatically(t){t=this._dateAdapter.deserialize(t),this._lastValueValid=this._isValidValue(t),t=this._dateAdapter.getValidDateOrNull(t),this._assignValue(t),this._formatValue(t)}_matchesFilter(t){const i=this._getDateFilter();return!i||i(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(vi,8),c.Y36(Ml,8))},n.\u0275dir=c.lG2({type:n,inputs:{value:"value",disabled:"disabled"},outputs:{dateChange:"dateChange",dateInput:"dateInput"},features:[c.TTD]}),n})();const QW={provide:Zn,useExisting:(0,c.Gpc)(()=>YD),multi:!0},JW={provide:Kn,useExisting:(0,c.Gpc)(()=>YD),multi:!0};let YD=(()=>{class n extends ZW{constructor(t,i,r,a){super(t,i,r),this._formField=a,this._closedSubscription=Qn.w0.EMPTY,this._validator=go.compose(super._getValidators())}set matDatepicker(t){t&&(this._datepicker=t,this._closedSubscription=t.closedStream.subscribe(()=>this._onTouched()),this._registerModel(t.registerInput(this)))}get min(){return this._min}set min(t){const i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t));this._dateAdapter.sameDate(i,this._min)||(this._min=i,this._validatorOnChange())}get max(){return this._max}set max(t){const i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t));this._dateAdapter.sameDate(i,this._max)||(this._max=i,this._validatorOnChange())}get dateFilter(){return this._dateFilter}set dateFilter(t){const i=this._matchesFilter(this.value);this._dateFilter=t,this._matchesFilter(this.value)!==i&&this._validatorOnChange()}getConnectedOverlayOrigin(){return this._formField?this._formField.getConnectedOverlayOrigin():this._elementRef}getOverlayLabelId(){return this._formField?this._formField.getLabelId():this._elementRef.nativeElement.getAttribute("aria-labelledby")}getThemePalette(){return this._formField?this._formField.color:void 0}getStartValue(){return this.value}ngOnDestroy(){super.ngOnDestroy(),this._closedSubscription.unsubscribe()}_openPopup(){this._datepicker&&this._datepicker.open()}_getValueFromModel(t){return t}_assignValueToModel(t){this._model&&this._model.updateSelection(t,this)}_getMinDate(){return this._min}_getMaxDate(){return this._max}_getDateFilter(){return this._dateFilter}_shouldHandleChangeEvent(t){return t.source!==this}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(vi,8),c.Y36(Ml,8),c.Y36(Qc,8))},n.\u0275dir=c.lG2({type:n,selectors:[["input","matDatepicker",""]],hostAttrs:[1,"mat-datepicker-input"],hostVars:6,hostBindings:function(t,i){1&t&&c.NdJ("input",function(a){return i._onInput(a.target.value)})("change",function(){return i._onChange()})("blur",function(){return i._onBlur()})("keydown",function(a){return i._onKeydown(a)}),2&t&&(c.Ikx("disabled",i.disabled),c.uIk("aria-haspopup",i._datepicker?"dialog":null)("aria-owns",(null==i._datepicker?null:i._datepicker.opened)&&i._datepicker.id||null)("min",i.min?i._dateAdapter.toIso8601(i.min):null)("max",i.max?i._dateAdapter.toIso8601(i.max):null)("data-mat-calendar",i._datepicker?i._datepicker.id:null))},inputs:{matDatepicker:"matDatepicker",min:"min",max:"max",dateFilter:["matDatepickerFilter","dateFilter"]},exportAs:["matDatepickerInput"],features:[c._Bn([QW,JW,{provide:fC,useExisting:n}]),c.qOj]}),n})(),XW=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["","matDatepickerToggleIcon",""]]}),n})(),D2=(()=>{class n{constructor(t,i,r){this._intl=t,this._changeDetectorRef=i,this._stateChanges=Qn.w0.EMPTY;const a=Number(r);this.tabIndex=a||0===a?a:null}get disabled(){return void 0===this._disabled&&this.datepicker?this.datepicker.disabled:!!this._disabled}set disabled(t){this._disabled=It(t)}ngOnChanges(t){t.datepicker&&this._watchStateChanges()}ngOnDestroy(){this._stateChanges.unsubscribe()}ngAfterContentInit(){this._watchStateChanges()}_open(t){this.datepicker&&!this.disabled&&(this.datepicker.open(),t.stopPropagation())}_watchStateChanges(){const t=this.datepicker?this.datepicker.stateChanges:ht(),i=this.datepicker&&this.datepicker.datepickerInput?this.datepicker.datepickerInput.stateChanges:ht(),r=this.datepicker?(0,Lo.T)(this.datepicker.openedStream,this.datepicker.closedStream):ht();this._stateChanges.unsubscribe(),this._stateChanges=(0,Lo.T)(this._intl.changes,t,i,r).subscribe(()=>this._changeDetectorRef.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(ob),c.Y36(c.sBO),c.$8M("tabindex"))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-datepicker-toggle"]],contentQueries:function(t,i,r){if(1&t&&c.Suo(r,XW,5),2&t){let a;c.iGM(a=c.CRH())&&(i._customIcon=a.first)}},viewQuery:function(t,i){if(1&t&&c.Gf(kW,5),2&t){let r;c.iGM(r=c.CRH())&&(i._button=r.first)}},hostAttrs:[1,"mat-datepicker-toggle"],hostVars:8,hostBindings:function(t,i){1&t&&c.NdJ("click",function(a){return i._open(a)}),2&t&&(c.uIk("tabindex",null)("data-mat-calendar",i.datepicker?i.datepicker.id:null),c.ekj("mat-datepicker-toggle-active",i.datepicker&&i.datepicker.opened)("mat-accent",i.datepicker&&"accent"===i.datepicker.color)("mat-warn",i.datepicker&&"warn"===i.datepicker.color))},inputs:{datepicker:["for","datepicker"],tabIndex:"tabIndex",ariaLabel:["aria-label","ariaLabel"],disabled:"disabled",disableRipple:"disableRipple"},exportAs:["matDatepickerToggle"],features:[c.TTD],ngContentSelectors:PW,decls:4,vars:6,consts:[["mat-icon-button","","type","button",3,"disabled","disableRipple"],["button",""],["class","mat-datepicker-toggle-default-icon","viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false",4,"ngIf"],["viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false",1,"mat-datepicker-toggle-default-icon"],["d","M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"]],template:function(t,i){1&t&&(c.F$t(OW),c.TgZ(0,"button",0,1),c.YNc(2,RW,2,0,"svg",2),c.Hsn(3),c.qZA()),2&t&&(c.Q6J("disabled",i.disabled)("disableRipple",i.disableRipple),c.uIk("aria-haspopup",i.datepicker?"dialog":null)("aria-label",i.ariaLabel||i._intl.openCalendarLabel)("tabindex",i.disabled?-1:i.tabIndex),c.xp6(2),c.Q6J("ngIf",!i._customIcon))},directives:[Rl,Hn],styles:[".mat-form-field-appearance-legacy .mat-form-field-prefix .mat-datepicker-toggle-default-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-datepicker-toggle-default-icon{width:1em}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-datepicker-toggle-default-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-datepicker-toggle-default-icon{display:block;width:1.5em;height:1.5em}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-datepicker-toggle-default-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-datepicker-toggle-default-icon{margin:auto}.cdk-high-contrast-active .mat-datepicker-toggle-default-icon{color:CanvasText}\n"],encapsulation:2,changeDetection:0}),n})(),e8=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[ob,qW],imports:[[ao,gC,a2,k0,qB,kn],zD]}),n})();var t8=F(9672);function I2(n,e,t){n?(0,t8.f)(t,n,e):e()}function ZD(n,e){const t=(0,ys.m)(n)?n:()=>n,i=r=>r.error(t());return new zi.y(e?r=>e.schedule(i,0,r):i)}const KD=(0,F(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function A2(){return(0,Jn.e)((n,e)=>{let t=null;n._refCount++;const i=(0,un.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const r=n._connection,a=t;t=null,r&&(!a||r===a)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}class o8 extends zi.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Jn.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Qn.w0;const t=this.getSubject();e.add(this.source.subscribe((0,un.x)(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Qn.w0.EMPTY)}return e}refCount(){return A2()(this)}}function a8(n,e,t,i,r){return(a,u)=>{let f=t,g=e,v=0;a.subscribe((0,un.x)(u,D=>{const I=v++;g=f?n(g,D,I):(f=!0,D),i&&u.next(g)},r&&(()=>{f&&u.next(g),u.complete()})))}}function ab(n,e){return(0,Jn.e)(a8(n,e,arguments.length>=2,!0))}function Au(n){return(0,Jn.e)((e,t)=>{let a,i=null,r=!1;i=e.subscribe((0,un.x)(t,void 0,void 0,u=>{a=(0,or.Xf)(n(u,Au(n)(e))),i?(i.unsubscribe(),i=null,a.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,a.subscribe(t))})}function lb(n,e){return(0,ys.m)(e)?(0,bi.z)(n,e,1):(0,bi.z)(n,1)}function sO(n){return n<=0?()=>Ta.E:(0,Jn.e)((e,t)=>{let i=[];e.subscribe((0,un.x)(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function S2(n=l8){return(0,Jn.e)((e,t)=>{let i=!1;e.subscribe((0,un.x)(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function l8(){return new KD}function T2(n){return(0,Jn.e)((e,t)=>{let i=!1;e.subscribe((0,un.x)(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function Yh(n,e){const t=arguments.length>=2;return i=>i.pipe(n?Xn((r,a)=>n(r,a,i)):va.y,(0,yi.q)(1),t?T2(e):S2(()=>new KD))}class Yl{constructor(e,t){this.id=e,this.url=t}}class oO extends Yl{constructor(e,t,i="imperative",r=null){super(e,t),this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class cb extends Yl{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class M2 extends Yl{constructor(e,t,i){super(e,t),this.reason=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class d8 extends Yl{constructor(e,t,i){super(e,t),this.error=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class h8 extends Yl{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class f8 extends Yl{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class p8 extends Yl{constructor(e,t,i,r,a){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=a}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class m8 extends Yl{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class g8 extends Yl{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class x2{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class k2{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class _8{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class y8{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class v8{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class b8{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class R2{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const $t="primary";class w8{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Qm(n){return new w8(n)}const O2="ngNavigationCancelingError";function aO(n){const e=Error("NavigationCancelingError: "+n);return e[O2]=!0,e}function E8(n,e,t){const i=t.path.split("/");if(i.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||i.length<n.length))return null;const r={};for(let a=0;a<i.length;a++){const u=i[a],f=n[a];if(u.startsWith(":"))r[u.substring(1)]=f;else if(u!==f.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function Pa(n,e){const t=n?Object.keys(n):void 0,i=e?Object.keys(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let a=0;a<t.length;a++)if(r=t[a],!P2(n[r],e[r]))return!1;return!0}function P2(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),i=[...e].sort();return t.every((r,a)=>i[a]===r)}return n===e}function F2(n){return Array.prototype.concat.apply([],n)}function N2(n){return n.length>0?n[n.length-1]:null}function ir(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Fa(n){return(0,c.CqO)(n)?n:(0,c.QGY)(n)?(0,bn.D)(Promise.resolve(n)):ht(n)}const A8={exact:function B2(n,e,t){if(!Kh(n.segments,e.segments)||!QD(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const i in e.children)if(!n.children[i]||!B2(n.children[i],e.children[i],t))return!1;return!0},subset:U2},L2={exact:function S8(n,e){return Pa(n,e)},subset:function T8(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>P2(n[t],e[t]))},ignored:()=>!0};function V2(n,e,t){return A8[t.paths](n.root,e.root,t.matrixParams)&&L2[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function U2(n,e,t){return j2(n,e,e.segments,t)}function j2(n,e,t,i){if(n.segments.length>t.length){const r=n.segments.slice(0,t.length);return!(!Kh(r,t)||e.hasChildren()||!QD(r,t,i))}if(n.segments.length===t.length){if(!Kh(n.segments,t)||!QD(n.segments,t,i))return!1;for(const r in e.children)if(!n.children[r]||!U2(n.children[r],e.children[r],i))return!1;return!0}{const r=t.slice(0,n.segments.length),a=t.slice(n.segments.length);return!!(Kh(n.segments,r)&&QD(n.segments,r,i)&&n.children[$t])&&j2(n.children[$t],e,a,i)}}function QD(n,e,t){return e.every((i,r)=>L2[t](n[r].parameters,i.parameters))}class Zh{constructor(e,t,i){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Qm(this.queryParams)),this._queryParamMap}toString(){return k8.serialize(this)}}class Gt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,ir(t,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return JD(this)}}class ub{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Qm(this.parameters)),this._parameterMap}toString(){return q2(this)}}function Kh(n,e){return n.length===e.length&&n.every((t,i)=>t.path===e[i].path)}class H2{}class $2{parse(e){const t=new U8(e);return new Zh(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${db(e.root,!0)}`,i=function P8(n){const e=Object.keys(n).map(t=>{const i=n[t];return Array.isArray(i)?i.map(r=>`${XD(t)}=${XD(r)}`).join("&"):`${XD(t)}=${XD(i)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams),r="string"==typeof e.fragment?`#${function R8(n){return encodeURI(n)}(e.fragment)}`:"";return`${t}${i}${r}`}}const k8=new $2;function JD(n){return n.segments.map(e=>q2(e)).join("/")}function db(n,e){if(!n.hasChildren())return JD(n);if(e){const t=n.children[$t]?db(n.children[$t],!1):"",i=[];return ir(n.children,(r,a)=>{a!==$t&&i.push(`${a}:${db(r,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function x8(n,e){let t=[];return ir(n.children,(i,r)=>{r===$t&&(t=t.concat(e(i,r)))}),ir(n.children,(i,r)=>{r!==$t&&(t=t.concat(e(i,r)))}),t}(n,(i,r)=>r===$t?[db(n.children[$t],!1)]:[`${r}:${db(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[$t]?`${JD(n)}/${t[0]}`:`${JD(n)}/(${t.join("//")})`}}function z2(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function XD(n){return z2(n).replace(/%3B/gi,";")}function lO(n){return z2(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function eI(n){return decodeURIComponent(n)}function G2(n){return eI(n.replace(/\+/g,"%20"))}function q2(n){return`${lO(n.path)}${function O8(n){return Object.keys(n).map(e=>`;${lO(e)}=${lO(n[e])}`).join("")}(n.parameters)}`}const F8=/^[^\/()?;=#]+/;function tI(n){const e=n.match(F8);return e?e[0]:""}const N8=/^[^=?&#]+/,V8=/^[^&#]+/;class U8{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Gt([],{}):new Gt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[$t]=new Gt(e,t)),i}parseSegment(){const e=tI(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new ub(eI(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=tI(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const r=tI(this.remaining);r&&(i=r,this.capture(i))}e[eI(t)]=eI(i)}parseQueryParam(e){const t=function L8(n){const e=n.match(N8);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const u=function B8(n){const e=n.match(V8);return e?e[0]:""}(this.remaining);u&&(i=u,this.capture(i))}const r=G2(t),a=G2(i);if(e.hasOwnProperty(r)){let u=e[r];Array.isArray(u)||(u=[u],e[r]=u),u.push(a)}else e[r]=a}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=tI(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let a;i.indexOf(":")>-1?(a=i.substr(0,i.indexOf(":")),this.capture(a),this.capture(":")):e&&(a=$t);const u=this.parseChildren();t[a]=1===Object.keys(u).length?u[$t]:new Gt([],u),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class W2{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=cO(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){const t=cO(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=uO(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return uO(e,this._root).map(t=>t.value)}}function cO(n,e){if(n===e.value)return e;for(const t of e.children){const i=cO(n,t);if(i)return i}return null}function uO(n,e){if(n===e.value)return[e];for(const t of e.children){const i=uO(n,t);if(i.length)return i.unshift(e),i}return[]}class Zl{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Jm(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class Y2 extends W2{constructor(e,t){super(e),this.snapshot=t,dO(this,e)}toString(){return this.snapshot.toString()}}function Z2(n,e){const t=function j8(n,e){const u=new nI([],{},{},"",{},$t,e,null,n.root,-1,{});return new Q2("",new Zl(u,[]))}(n,e),i=new ms([new ub("",{})]),r=new ms({}),a=new ms({}),u=new ms({}),f=new ms(""),g=new Kl(i,r,u,f,a,$t,e,t.root);return g.snapshot=t.root,new Y2(new Zl(g,[]),t)}class Kl{constructor(e,t,i,r,a,u,f,g){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=a,this.outlet=u,this.component=f,this._futureSnapshot=g}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,wt.U)(e=>Qm(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,wt.U)(e=>Qm(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function K2(n,e="emptyOnly"){const t=n.pathFromRoot;let i=0;if("always"!==e)for(i=t.length-1;i>=1;){const r=t[i],a=t[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(a.component)break;i--}}return function H8(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(i))}class nI{constructor(e,t,i,r,a,u,f,g,v,D,I){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=a,this.outlet=u,this.component=f,this.routeConfig=g,this._urlSegment=v,this._lastPathIndex=D,this._resolve=I}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Qm(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Qm(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Q2 extends W2{constructor(e,t){super(t),this.url=e,dO(this,t)}toString(){return J2(this._root)}}function dO(n,e){e.value._routerState=n,e.children.forEach(t=>dO(n,t))}function J2(n){const e=n.children.length>0?` { ${n.children.map(J2).join(", ")} } `:"";return`${n.value}${e}`}function hO(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Pa(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Pa(e.params,t.params)||n.params.next(t.params),function D8(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Pa(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Pa(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function fO(n,e){const t=Pa(n.params,e.params)&&function M8(n,e){return Kh(n,e)&&n.every((t,i)=>Pa(t.parameters,e[i].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||fO(n.parent,e.parent))}function hb(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const i=t.value;i._futureSnapshot=e.value;const r=function z8(n,e,t){return e.children.map(i=>{for(const r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return hb(n,i,r);return hb(n,i)})}(n,e,t);return new Zl(i,r)}{if(n.shouldAttach(e.value)){const a=n.retrieve(e.value);if(null!==a){const u=a.route;return u.value._futureSnapshot=e.value,u.children=e.children.map(f=>hb(n,f)),u}}const i=function G8(n){return new Kl(new ms(n.url),new ms(n.params),new ms(n.queryParams),new ms(n.fragment),new ms(n.data),n.outlet,n.component,n)}(e.value),r=e.children.map(a=>hb(n,a));return new Zl(i,r)}}function iI(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function fb(n){return"object"==typeof n&&null!=n&&n.outlets}function pO(n,e,t,i,r){let a={};if(i&&ir(i,(f,g)=>{a[g]=Array.isArray(f)?f.map(v=>`${v}`):`${f}`}),n===e)return new Zh(t,a,r);const u=X2(n,e,t);return new Zh(u,a,r)}function X2(n,e,t){const i={};return ir(n.children,(r,a)=>{i[a]=r===e?t:X2(r,e,t)}),new Gt(n.segments,i)}class eU{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&iI(i[0]))throw new Error("Root segment cannot have matrix parameters");const r=i.find(fb);if(r&&r!==N2(i))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class mO{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}}function tU(n,e,t){if(n||(n=new Gt([],{})),0===n.segments.length&&n.hasChildren())return rI(n,e,t);const i=function Q8(n,e,t){let i=0,r=e;const a={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return a;const u=n.segments[r],f=t[i];if(fb(f))break;const g=`${f}`,v=i<t.length-1?t[i+1]:null;if(r>0&&void 0===g)break;if(g&&v&&"object"==typeof v&&void 0===v.outlets){if(!iU(g,v,u))return a;i+=2}else{if(!iU(g,{},u))return a;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const a=new Gt(n.segments.slice(0,i.pathIndex),{});return a.children[$t]=new Gt(n.segments.slice(i.pathIndex),n.children),rI(a,0,r)}return i.match&&0===r.length?new Gt(n.segments,{}):i.match&&!n.hasChildren()?gO(n,e,t):i.match?rI(n,0,r):gO(n,e,t)}function rI(n,e,t){if(0===t.length)return new Gt(n.segments,{});{const i=function K8(n){return fb(n[0])?n[0].outlets:{[$t]:n}}(t),r={};return ir(i,(a,u)=>{"string"==typeof a&&(a=[a]),null!==a&&(r[u]=tU(n.children[u],e,a))}),ir(n.children,(a,u)=>{void 0===i[u]&&(r[u]=a)}),new Gt(n.segments,r)}}function gO(n,e,t){const i=n.segments.slice(0,e);let r=0;for(;r<t.length;){const a=t[r];if(fb(a)){const g=J8(a.outlets);return new Gt(i,g)}if(0===r&&iI(t[0])){i.push(new ub(n.segments[e].path,nU(t[0]))),r++;continue}const u=fb(a)?a.outlets[$t]:`${a}`,f=r<t.length-1?t[r+1]:null;u&&f&&iI(f)?(i.push(new ub(u,nU(f))),r+=2):(i.push(new ub(u,{})),r++)}return new Gt(i,{})}function J8(n){const e={};return ir(n,(t,i)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[i]=gO(new Gt([],{}),0,t))}),e}function nU(n){const e={};return ir(n,(t,i)=>e[i]=`${t}`),e}function iU(n,e,t){return n==t.path&&Pa(e,t.parameters)}class e4{constructor(e,t,i,r){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r}activate(e){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),hO(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){const r=Jm(t);e.children.forEach(a=>{const u=a.value.outlet;this.deactivateRoutes(a,r[u],i),delete r[u]}),ir(r,(a,u)=>{this.deactivateRouteAndItsChildren(a,i)})}deactivateRoutes(e,t,i){const r=e.value,a=t?t.value:null;if(r===a)if(r.component){const u=i.getContext(r.outlet);u&&this.deactivateChildRoutes(e,t,u.children)}else this.deactivateChildRoutes(e,t,i);else a&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,a=Jm(e);for(const u of Object.keys(a))this.deactivateRouteAndItsChildren(a[u],r);if(i&&i.outlet){const u=i.outlet.detach(),f=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:u,route:e,contexts:f})}}deactivateRouteAndOutlet(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,a=Jm(e);for(const u of Object.keys(a))this.deactivateRouteAndItsChildren(a[u],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(e,t,i){const r=Jm(t);e.children.forEach(a=>{this.activateRoutes(a,r[a.value.outlet],i),this.forwardEvent(new b8(a.value.snapshot))}),e.children.length&&this.forwardEvent(new y8(e.value.snapshot))}activateRoutes(e,t,i){const r=e.value,a=t?t.value:null;if(hO(r),r===a)if(r.component){const u=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,u.children)}else this.activateChildRoutes(e,t,i);else if(r.component){const u=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const f=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),u.children.onOutletReAttached(f.contexts),u.attachRef=f.componentRef,u.route=f.route.value,u.outlet&&u.outlet.attach(f.componentRef,f.route.value),hO(f.route.value),this.activateChildRoutes(e,null,u.children)}else{const f=function t4(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),g=f?f.module.componentFactoryResolver:null;u.attachRef=null,u.route=r,u.resolver=g,u.outlet&&u.outlet.activateWith(r,g),this.activateChildRoutes(e,null,u.children)}}else this.activateChildRoutes(e,null,i)}}class _O{constructor(e,t){this.routes=e,this.module=t}}function Su(n){return"function"==typeof n}function Qh(n){return n instanceof Zh}const pb=Symbol("INITIAL_VALUE");function mb(){return nr(n=>function n8(...n){const e=(0,Vs.yG)(n),t=(0,Vs.jO)(n),{args:i,keys:r}=Qu(n);if(0===i.length)return(0,bn.D)([],e);const a=new zi.y(function r8(n,e,t=va.y){return i=>{I2(e,()=>{const{length:r}=n,a=new Array(r);let u=r,f=r;for(let g=0;g<r;g++)I2(e,()=>{const v=(0,bn.D)(n[g],e);let D=!1;v.subscribe((0,un.x)(i,I=>{a[g]=I,D||(D=!0,f--),f||i.next(t(a.slice()))},()=>{--u||i.complete()}))},i)},i)}}(i,e,r?u=>Ju(r,u):va.y));return t?a.pipe(Ka(t)):a}(n.map(e=>e.pipe((0,yi.q)(1),xn(pb)))).pipe(ab((e,t)=>{let i=!1;return t.reduce((r,a,u)=>r!==pb?r:(a===pb&&(i=!0),i||!1!==a&&u!==t.length-1&&!Qh(a)?r:a),e)},pb),Xn(e=>e!==pb),(0,wt.U)(e=>Qh(e)?e:!0===e),(0,yi.q)(1)))}class a4{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new gb,this.attachRef=null}}class gb{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const i=this.getOrCreateContext(e);i.outlet=t,this.contexts.set(e,i)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new a4,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let yO=(()=>{class n{constructor(t,i,r,a,u){this.parentContexts=t,this.location=i,this.resolver=r,this.changeDetector=u,this.activated=null,this._activatedRoute=null,this.activateEvents=new c.vpe,this.deactivateEvents=new c.vpe,this.attachEvents=new c.vpe,this.detachEvents=new c.vpe,this.name=a||$t,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const u=(i=i||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),f=this.parentContexts.getOrCreateContext(this.name).children,g=new l4(t,f,this.location.injector);this.activated=this.location.createComponent(u,this.location.length,g),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(gb),c.Y36(c.s_b),c.Y36(c._Vd),c.$8M("name"),c.Y36(c.sBO))},n.\u0275dir=c.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class l4{constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===Kl?this.route:e===gb?this.childContexts:this.parent.get(e,t)}}let rU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,i){1&t&&c._UZ(0,"router-outlet")},directives:[yO],encapsulation:2}),n})();function sU(n,e=""){for(let t=0;t<n.length;t++){const i=n[t];c4(i,u4(e,i))}}function c4(n,e){n.children&&sU(n.children,e)}function u4(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function vO(n){const e=n.children&&n.children.map(vO),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==$t&&(t.component=rU),t}function to(n){return n.outlet||$t}function oU(n,e){const t=n.filter(i=>to(i)===e);return t.push(...n.filter(i=>to(i)!==e)),t}const aU={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function sI(n,e,t){var i;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},aU):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const a=(e.matcher||E8)(t,n,e);if(!a)return Object.assign({},aU);const u={};ir(a.posParams,(g,v)=>{u[v]=g.path});const f=a.consumed.length>0?Object.assign(Object.assign({},u),a.consumed[a.consumed.length-1].parameters):u;return{matched:!0,consumedSegments:a.consumed,remainingSegments:t.slice(a.consumed.length),parameters:f,positionalParamSegments:null!==(i=a.posParams)&&void 0!==i?i:{}}}function oI(n,e,t,i,r="corrected"){if(t.length>0&&function f4(n,e,t){return t.some(i=>aI(n,e,i)&&to(i)!==$t)}(n,t,i)){const u=new Gt(e,function h4(n,e,t,i){const r={};r[$t]=i,i._sourceSegment=n,i._segmentIndexShift=e.length;for(const a of t)if(""===a.path&&to(a)!==$t){const u=new Gt([],{});u._sourceSegment=n,u._segmentIndexShift=e.length,r[to(a)]=u}return r}(n,e,i,new Gt(t,n.children)));return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:[]}}if(0===t.length&&function p4(n,e,t){return t.some(i=>aI(n,e,i))}(n,t,i)){const u=new Gt(n.segments,function d4(n,e,t,i,r,a){const u={};for(const f of i)if(aI(n,t,f)&&!r[to(f)]){const g=new Gt([],{});g._sourceSegment=n,g._segmentIndexShift="legacy"===a?n.segments.length:e.length,u[to(f)]=g}return Object.assign(Object.assign({},r),u)}(n,e,t,i,n.children,r));return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:t}}const a=new Gt(n.segments,n.children);return a._sourceSegment=n,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:t}}function aI(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function lU(n,e,t,i){return!!(to(n)===i||i!==$t&&aI(e,t,n))&&("**"===n.path||sI(e,n,t).matched)}function cU(n,e,t){return 0===e.length&&!n.children[t]}class lI{constructor(e){this.segmentGroup=e||null}}class uU{constructor(e){this.urlTree=e}}function _b(n){return ZD(new lI(n))}function dU(n){return ZD(new uU(n))}function m4(n){return ZD(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`))}class y4{constructor(e,t,i,r,a){this.configLoader=t,this.urlSerializer=i,this.urlTree=r,this.config=a,this.allowRedirects=!0,this.ngModule=e.get(c.h0i)}apply(){const e=oI(this.urlTree.root,[],[],this.config).segmentGroup,t=new Gt(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,$t).pipe((0,wt.U)(a=>this.createUrlTree(bO(a),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Au(a=>{if(a instanceof uU)return this.allowRedirects=!1,this.match(a.urlTree);throw a instanceof lI?this.noMatchError(a):a}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,$t).pipe((0,wt.U)(r=>this.createUrlTree(bO(r),e.queryParams,e.fragment))).pipe(Au(r=>{throw r instanceof lI?this.noMatchError(r):r}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,i){const r=e.segments.length>0?new Gt([],{[$t]:e}):e;return new Zh(r,t,i)}expandSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(e,t,i).pipe((0,wt.U)(a=>new Gt([],a))):this.expandSegment(e,i,t,i.segments,r,!0)}expandChildren(e,t,i){const r=[];for(const a of Object.keys(i.children))"primary"===a?r.unshift(a):r.push(a);return(0,bn.D)(r).pipe(lb(a=>{const u=i.children[a],f=oU(t,a);return this.expandSegmentGroup(e,f,u,a).pipe((0,wt.U)(g=>({segment:g,outlet:a})))}),ab((a,u)=>(a[u.outlet]=u.segment,a),{}),function c8(n,e){const t=arguments.length>=2;return i=>i.pipe(n?Xn((r,a)=>n(r,a,i)):va.y,sO(1),t?T2(e):S2(()=>new KD))}())}expandSegment(e,t,i,r,a,u){return(0,bn.D)(i).pipe(lb(f=>this.expandSegmentAgainstRoute(e,t,i,f,r,a,u).pipe(Au(v=>{if(v instanceof lI)return ht(null);throw v}))),Yh(f=>!!f),Au((f,g)=>{if(f instanceof KD||"EmptyError"===f.name)return cU(t,r,a)?ht(new Gt([],{})):_b(t);throw f}))}expandSegmentAgainstRoute(e,t,i,r,a,u,f){return lU(r,t,a,u)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,a,u):f&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,i,r,a,u):_b(t):_b(t)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,a,u){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,i,r,u):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,a,u)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,i,r){const a=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?dU(a):this.lineralizeSegments(i,a).pipe((0,bi.z)(u=>{const f=new Gt(u,{});return this.expandSegment(e,f,t,u,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,a,u){const{matched:f,consumedSegments:g,remainingSegments:v,positionalParamSegments:D}=sI(t,r,a);if(!f)return _b(t);const I=this.applyRedirectCommands(g,r.redirectTo,D);return r.redirectTo.startsWith("/")?dU(I):this.lineralizeSegments(r,I).pipe((0,bi.z)(R=>this.expandSegment(e,t,i,R.concat(v),u,!1)))}matchSegmentAgainstRoute(e,t,i,r,a){if("**"===i.path)return i.loadChildren?(i._loadedConfig?ht(i._loadedConfig):this.configLoader.load(e.injector,i)).pipe((0,wt.U)(I=>(i._loadedConfig=I,new Gt(r,{})))):ht(new Gt(r,{}));const{matched:u,consumedSegments:f,remainingSegments:g}=sI(t,i,r);return u?this.getChildConfig(e,i,r).pipe((0,bi.z)(D=>{const I=D.module,R=D.routes,{segmentGroup:V,slicedSegments:H}=oI(t,f,g,R),J=new Gt(V.segments,V.children);if(0===H.length&&J.hasChildren())return this.expandChildren(I,R,J).pipe((0,wt.U)(Je=>new Gt(f,Je)));if(0===R.length&&0===H.length)return ht(new Gt(f,{}));const be=to(i)===a;return this.expandSegment(I,J,R,H,be?$t:a,!0).pipe((0,wt.U)(Ke=>new Gt(f.concat(Ke.segments),Ke.children)))})):_b(t)}getChildConfig(e,t,i){return t.children?ht(new _O(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?ht(t._loadedConfig):this.runCanLoadGuards(e.injector,t,i).pipe((0,bi.z)(r=>r?this.configLoader.load(e.injector,t).pipe((0,wt.U)(a=>(t._loadedConfig=a,a))):function g4(n){return ZD(aO(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(t))):ht(new _O([],e))}runCanLoadGuards(e,t,i){const r=t.canLoad;if(!r||0===r.length)return ht(!0);const a=r.map(u=>{const f=e.get(u);let g;if(function i4(n){return n&&Su(n.canLoad)}(f))g=f.canLoad(t,i);else{if(!Su(f))throw new Error("Invalid CanLoad guard");g=f(t,i)}return Fa(g)});return ht(a).pipe(mb(),ki(u=>{if(!Qh(u))return;const f=aO(`Redirecting to "${this.urlSerializer.serialize(u)}"`);throw f.url=u,f}),(0,wt.U)(u=>!0===u))}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return ht(i);if(r.numberOfChildren>1||!r.children[$t])return m4(e.redirectTo);r=r.children[$t]}}applyRedirectCommands(e,t,i){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,i)}applyRedirectCreatreUrlTree(e,t,i,r){const a=this.createSegmentGroup(e,t.root,i,r);return new Zh(a,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const i={};return ir(e,(r,a)=>{if("string"==typeof r&&r.startsWith(":")){const f=r.substring(1);i[a]=t[f]}else i[a]=r}),i}createSegmentGroup(e,t,i,r){const a=this.createSegments(e,t.segments,i,r);let u={};return ir(t.children,(f,g)=>{u[g]=this.createSegmentGroup(e,f,i,r)}),new Gt(a,u)}createSegments(e,t,i,r){return t.map(a=>a.path.startsWith(":")?this.findPosParam(e,a,r):this.findOrReturn(a,i))}findPosParam(e,t,i){const r=i[t.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return r}findOrReturn(e,t){let i=0;for(const r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}}function bO(n){const e={};for(const i of Object.keys(n.children)){const a=bO(n.children[i]);(a.segments.length>0||a.hasChildren())&&(e[i]=a)}return function v4(n){if(1===n.numberOfChildren&&n.children[$t]){const e=n.children[$t];return new Gt(n.segments.concat(e.segments),e.children)}return n}(new Gt(n.segments,e))}class hU{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class cI{constructor(e,t){this.component=e,this.route=t}}function w4(n,e,t){const i=n._root;return yb(i,e?e._root:null,t,[i.value])}function uI(n,e,t){const i=function E4(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(i?i.module.injector:t).get(n)}function yb(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const a=Jm(e);return n.children.forEach(u=>{(function D4(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const a=n.value,u=e?e.value:null,f=t?t.getContext(n.value.outlet):null;if(u&&a.routeConfig===u.routeConfig){const g=function I4(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Kh(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Kh(n.url,e.url)||!Pa(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!fO(n,e)||!Pa(n.queryParams,e.queryParams);default:return!fO(n,e)}}(u,a,a.routeConfig.runGuardsAndResolvers);g?r.canActivateChecks.push(new hU(i)):(a.data=u.data,a._resolvedData=u._resolvedData),yb(n,e,a.component?f?f.children:null:t,i,r),g&&f&&f.outlet&&f.outlet.isActivated&&r.canDeactivateChecks.push(new cI(f.outlet.component,u))}else u&&vb(e,f,r),r.canActivateChecks.push(new hU(i)),yb(n,null,a.component?f?f.children:null:t,i,r)})(u,a[u.value.outlet],t,i.concat([u.value]),r),delete a[u.value.outlet]}),ir(a,(u,f)=>vb(u,t.getContext(f),r)),r}function vb(n,e,t){const i=Jm(n),r=n.value;ir(i,(a,u)=>{vb(a,r.component?e?e.children.getContext(u):null:e,t)}),t.canDeactivateChecks.push(new cI(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}class P4{}function fU(n){return new zi.y(e=>e.error(n))}class N4{constructor(e,t,i,r,a,u){this.rootComponentType=e,this.config=t,this.urlTree=i,this.url=r,this.paramsInheritanceStrategy=a,this.relativeLinkResolution=u}recognize(){const e=oI(this.urlTree.root,[],[],this.config.filter(u=>void 0===u.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,$t);if(null===t)return null;const i=new nI([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},$t,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Zl(i,t),a=new Q2(this.url,r);return this.inheritParamsAndData(a._root),a}inheritParamsAndData(e){const t=e.value,i=K2(t,this.paramsInheritanceStrategy);t.params=Object.freeze(i.params),t.data=Object.freeze(i.data),e.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(e,t,i){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,i)}processChildren(e,t){const i=[];for(const a of Object.keys(t.children)){const u=t.children[a],f=oU(e,a),g=this.processSegmentGroup(f,u,a);if(null===g)return null;i.push(...g)}const r=pU(i);return function L4(n){n.sort((e,t)=>e.value.outlet===$t?-1:t.value.outlet===$t?1:e.value.outlet.localeCompare(t.value.outlet))}(r),r}processSegment(e,t,i,r){for(const a of e){const u=this.processSegmentAgainstRoute(a,t,i,r);if(null!==u)return u}return cU(t,i,r)?[]:null}processSegmentAgainstRoute(e,t,i,r){if(e.redirectTo||!lU(e,t,i,r))return null;let a,u=[],f=[];if("**"===e.path){const V=i.length>0?N2(i).parameters:{};a=new nI(i,V,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,_U(e),to(e),e.component,e,mU(t),gU(t)+i.length,yU(e))}else{const V=sI(t,e,i);if(!V.matched)return null;u=V.consumedSegments,f=V.remainingSegments,a=new nI(u,V.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,_U(e),to(e),e.component,e,mU(t),gU(t)+u.length,yU(e))}const g=function V4(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(e),{segmentGroup:v,slicedSegments:D}=oI(t,u,f,g.filter(V=>void 0===V.redirectTo),this.relativeLinkResolution);if(0===D.length&&v.hasChildren()){const V=this.processChildren(g,v);return null===V?null:[new Zl(a,V)]}if(0===g.length&&0===D.length)return[new Zl(a,[])];const I=to(e)===r,R=this.processSegment(g,v,D,I?$t:r);return null===R?null:[new Zl(a,R)]}}function B4(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function pU(n){const e=[],t=new Set;for(const i of n){if(!B4(i)){e.push(i);continue}const r=e.find(a=>i.value.routeConfig===a.value.routeConfig);void 0!==r?(r.children.push(...i.children),t.add(r)):e.push(i)}for(const i of t){const r=pU(i.children);e.push(new Zl(i.value,r))}return e.filter(i=>!t.has(i))}function mU(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function gU(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function _U(n){return n.data||{}}function yU(n){return n.resolve||{}}function vU(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function wO(n){return nr(e=>{const t=n(e);return t?(0,bn.D)(t).pipe((0,wt.U)(()=>e)):ht(e)})}class W4 extends class q4{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const CO=new c.OlP("ROUTES");class bU{constructor(e,t,i,r){this.injector=e,this.compiler=t,this.onLoadStartListener=i,this.onLoadEndListener=r}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const r=this.loadModuleFactory(t.loadChildren).pipe((0,wt.U)(a=>{this.onLoadEndListener&&this.onLoadEndListener(t);const u=a.create(e);return new _O(F2(u.injector.get(CO,void 0,c.XFs.Self|c.XFs.Optional)).map(vO),u)}),Au(a=>{throw t._loader$=void 0,a}));return t._loader$=new o8(r,()=>new yt.x).pipe(A2()),t._loader$}loadModuleFactory(e){return Fa(e()).pipe((0,bi.z)(t=>t instanceof c.YKP?ht(t):(0,bn.D)(this.compiler.compileModuleAsync(t))))}}class Z4{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function K4(n){throw n}function Q4(n,e,t){return e.parse("/")}function wU(n,e){return ht(null)}const J4={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},X4={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let mr=(()=>{class n{constructor(t,i,r,a,u,f,g){this.rootComponentType=t,this.urlSerializer=i,this.rootContexts=r,this.location=a,this.config=g,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new yt.x,this.errorHandler=K4,this.malformedUriErrorHandler=Q4,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:wU,afterPreactivation:wU},this.urlHandlingStrategy=new Z4,this.routeReuseStrategy=new W4,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=u.get(c.h0i),this.console=u.get(c.c2e);const I=u.get(c.R0b);this.isNgZoneEnabled=I instanceof c.R0b&&c.R0b.isInAngularZone(),this.resetConfig(g),this.currentUrlTree=function I8(){return new Zh(new Gt([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new bU(u,f,R=>this.triggerEvent(new x2(R)),R=>this.triggerEvent(new k2(R))),this.routerState=Z2(this.currentUrlTree,this.rootComponentType),this.transitions=new ms({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const i=this.events;return t.pipe(Xn(r=>0!==r.id),(0,wt.U)(r=>Object.assign(Object.assign({},r),{extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),nr(r=>{let a=!1,u=!1;return ht(r).pipe(ki(f=>{this.currentNavigation={id:f.id,initialUrl:f.currentRawUrl,extractedUrl:f.extractedUrl,trigger:f.source,extras:f.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),nr(f=>{const g=this.browserUrlTree.toString(),v=!this.navigated||f.extractedUrl.toString()!==g||g!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||v)&&this.urlHandlingStrategy.shouldProcessUrl(f.rawUrl))return CU(f.source)&&(this.browserUrlTree=f.extractedUrl),ht(f).pipe(nr(I=>{const R=this.transitions.getValue();return i.next(new oO(I.id,this.serializeUrl(I.extractedUrl),I.source,I.restoredState)),R!==this.transitions.getValue()?Ta.E:Promise.resolve(I)}),function b4(n,e,t,i){return nr(r=>function _4(n,e,t,i,r){return new y4(n,e,t,i,r).apply()}(n,e,t,r.extractedUrl,i).pipe((0,wt.U)(a=>Object.assign(Object.assign({},r),{urlAfterRedirects:a}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),ki(I=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:I.urlAfterRedirects})}),function U4(n,e,t,i,r){return(0,bi.z)(a=>function F4(n,e,t,i,r="emptyOnly",a="legacy"){try{const u=new N4(n,e,t,i,r,a).recognize();return null===u?fU(new P4):ht(u)}catch(u){return fU(u)}}(n,e,a.urlAfterRedirects,t(a.urlAfterRedirects),i,r).pipe((0,wt.U)(u=>Object.assign(Object.assign({},a),{targetSnapshot:u}))))}(this.rootComponentType,this.config,I=>this.serializeUrl(I),this.paramsInheritanceStrategy,this.relativeLinkResolution),ki(I=>{if("eager"===this.urlUpdateStrategy){if(!I.extras.skipLocationChange){const V=this.urlHandlingStrategy.merge(I.urlAfterRedirects,I.rawUrl);this.setBrowserUrl(V,I)}this.browserUrlTree=I.urlAfterRedirects}const R=new h8(I.id,this.serializeUrl(I.extractedUrl),this.serializeUrl(I.urlAfterRedirects),I.targetSnapshot);i.next(R)}));if(v&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:R,extractedUrl:V,source:H,restoredState:J,extras:be}=f,qe=new oO(R,this.serializeUrl(V),H,J);i.next(qe);const Ke=Z2(V,this.rootComponentType).snapshot;return ht(Object.assign(Object.assign({},f),{targetSnapshot:Ke,urlAfterRedirects:V,extras:Object.assign(Object.assign({},be),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=f.rawUrl,f.resolve(null),Ta.E}),wO(f=>{const{targetSnapshot:g,id:v,extractedUrl:D,rawUrl:I,extras:{skipLocationChange:R,replaceUrl:V}}=f;return this.hooks.beforePreactivation(g,{navigationId:v,appliedUrlTree:D,rawUrlTree:I,skipLocationChange:!!R,replaceUrl:!!V})}),ki(f=>{const g=new f8(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot);this.triggerEvent(g)}),(0,wt.U)(f=>Object.assign(Object.assign({},f),{guards:w4(f.targetSnapshot,f.currentSnapshot,this.rootContexts)})),function A4(n,e){return(0,bi.z)(t=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:a,canDeactivateChecks:u}}=t;return 0===u.length&&0===a.length?ht(Object.assign(Object.assign({},t),{guardsResult:!0})):function S4(n,e,t,i){return(0,bn.D)(n).pipe((0,bi.z)(r=>function O4(n,e,t,i,r){const a=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return a&&0!==a.length?ht(a.map(f=>{const g=uI(f,e,r);let v;if(function o4(n){return n&&Su(n.canDeactivate)}(g))v=Fa(g.canDeactivate(n,e,t,i));else{if(!Su(g))throw new Error("Invalid CanDeactivate guard");v=Fa(g(n,e,t,i))}return v.pipe(Yh())})).pipe(mb()):ht(!0)}(r.component,r.route,t,e,i)),Yh(r=>!0!==r,!0))}(u,i,r,n).pipe((0,bi.z)(f=>f&&function n4(n){return"boolean"==typeof n}(f)?function T4(n,e,t,i){return(0,bn.D)(e).pipe(lb(r=>Jf(function x4(n,e){return null!==n&&e&&e(new _8(n)),ht(!0)}(r.route.parent,i),function M4(n,e){return null!==n&&e&&e(new v8(n)),ht(!0)}(r.route,i),function R4(n,e,t){const i=e[e.length-1],a=e.slice(0,e.length-1).reverse().map(u=>function C4(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(u)).filter(u=>null!==u).map(u=>QR(()=>ht(u.guards.map(g=>{const v=uI(g,u.node,t);let D;if(function s4(n){return n&&Su(n.canActivateChild)}(v))D=Fa(v.canActivateChild(i,n));else{if(!Su(v))throw new Error("Invalid CanActivateChild guard");D=Fa(v(i,n))}return D.pipe(Yh())})).pipe(mb())));return ht(a).pipe(mb())}(n,r.path,t),function k4(n,e,t){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return ht(!0);const r=i.map(a=>QR(()=>{const u=uI(a,e,t);let f;if(function r4(n){return n&&Su(n.canActivate)}(u))f=Fa(u.canActivate(e,n));else{if(!Su(u))throw new Error("Invalid CanActivate guard");f=Fa(u(e,n))}return f.pipe(Yh())}));return ht(r).pipe(mb())}(n,r.route,t))),Yh(r=>!0!==r,!0))}(i,a,n,e):ht(f)),(0,wt.U)(f=>Object.assign(Object.assign({},t),{guardsResult:f})))})}(this.ngModule.injector,f=>this.triggerEvent(f)),ki(f=>{if(Qh(f.guardsResult)){const v=aO(`Redirecting to "${this.serializeUrl(f.guardsResult)}"`);throw v.url=f.guardsResult,v}const g=new p8(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot,!!f.guardsResult);this.triggerEvent(g)}),Xn(f=>!!f.guardsResult||(this.restoreHistory(f),this.cancelNavigationTransition(f,""),!1)),wO(f=>{if(f.guards.canActivateChecks.length)return ht(f).pipe(ki(g=>{const v=new m8(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(g.urlAfterRedirects),g.targetSnapshot);this.triggerEvent(v)}),nr(g=>{let v=!1;return ht(g).pipe(function j4(n,e){return(0,bi.z)(t=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return ht(t);let a=0;return(0,bn.D)(r).pipe(lb(u=>function H4(n,e,t,i){return function $4(n,e,t,i){const r=vU(n);if(0===r.length)return ht({});const a={};return(0,bn.D)(r).pipe((0,bi.z)(u=>function z4(n,e,t,i){const r=uI(n,e,i);return Fa(r.resolve?r.resolve(e,t):r(e,t))}(n[u],e,t,i).pipe(ki(f=>{a[u]=f}))),sO(1),(0,bi.z)(()=>vU(a).length===r.length?ht(a):Ta.E))}(n._resolve,n,e,i).pipe((0,wt.U)(a=>(n._resolvedData=a,n.data=Object.assign(Object.assign({},n.data),K2(n,t).resolve),null)))}(u.route,i,n,e)),ki(()=>a++),sO(1),(0,bi.z)(u=>a===r.length?ht(t):Ta.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),ki({next:()=>v=!0,complete:()=>{v||(this.restoreHistory(g),this.cancelNavigationTransition(g,"At least one route resolver didn't emit any value."))}}))}),ki(g=>{const v=new g8(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(g.urlAfterRedirects),g.targetSnapshot);this.triggerEvent(v)}))}),wO(f=>{const{targetSnapshot:g,id:v,extractedUrl:D,rawUrl:I,extras:{skipLocationChange:R,replaceUrl:V}}=f;return this.hooks.afterPreactivation(g,{navigationId:v,appliedUrlTree:D,rawUrlTree:I,skipLocationChange:!!R,replaceUrl:!!V})}),(0,wt.U)(f=>{const g=function $8(n,e,t){const i=hb(n,e._root,t?t._root:void 0);return new Y2(i,e)}(this.routeReuseStrategy,f.targetSnapshot,f.currentRouterState);return Object.assign(Object.assign({},f),{targetRouterState:g})}),ki(f=>{this.currentUrlTree=f.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(f.urlAfterRedirects,f.rawUrl),this.routerState=f.targetRouterState,"deferred"===this.urlUpdateStrategy&&(f.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,f),this.browserUrlTree=f.urlAfterRedirects)}),((n,e,t)=>(0,wt.U)(i=>(new e4(e,i.targetRouterState,i.currentRouterState,t).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,f=>this.triggerEvent(f)),ki({next(){a=!0},complete(){a=!0}}),function u8(n){return(0,Jn.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}(()=>{var f;a||u||this.cancelNavigationTransition(r,`Navigation ID ${r.id} is not equal to the current navigation id ${this.navigationId}`),(null===(f=this.currentNavigation)||void 0===f?void 0:f.id)===r.id&&(this.currentNavigation=null)}),Au(f=>{if(u=!0,function C8(n){return n&&n[O2]}(f)){const g=Qh(f.url);g||(this.navigated=!0,this.restoreHistory(r,!0));const v=new M2(r.id,this.serializeUrl(r.extractedUrl),f.message);i.next(v),g?setTimeout(()=>{const D=this.urlHandlingStrategy.merge(f.url,this.rawUrlTree),I={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||CU(r.source)};this.scheduleNavigation(D,"imperative",null,I,{resolve:r.resolve,reject:r.reject,promise:r.promise})},0):r.resolve(!1)}else{this.restoreHistory(r,!0);const g=new d8(r.id,this.serializeUrl(r.extractedUrl),f);i.next(g);try{r.resolve(this.errorHandler(f))}catch(v){r.reject(v)}}return Ta.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const i="popstate"===t.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{var r;const a={replaceUrl:!0},u=(null===(r=t.state)||void 0===r?void 0:r.navigationId)?t.state:null;if(u){const g=Object.assign({},u);delete g.navigationId,delete g.\u0275routerPageId,0!==Object.keys(g).length&&(a.state=g)}const f=this.parseUrl(t.url);this.scheduleNavigation(f,i,u,a)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){sU(t),this.config=t.map(vO),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,i={}){const{relativeTo:r,queryParams:a,fragment:u,queryParamsHandling:f,preserveFragment:g}=i,v=r||this.routerState.root,D=g?this.currentUrlTree.fragment:u;let I=null;switch(f){case"merge":I=Object.assign(Object.assign({},this.currentUrlTree.queryParams),a);break;case"preserve":I=this.currentUrlTree.queryParams;break;default:I=a||null}return null!==I&&(I=this.removeEmptyProps(I)),function q8(n,e,t,i,r){if(0===t.length)return pO(e.root,e.root,e.root,i,r);const a=function W8(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new eU(!0,0,n);let e=0,t=!1;const i=n.reduce((r,a,u)=>{if("object"==typeof a&&null!=a){if(a.outlets){const f={};return ir(a.outlets,(g,v)=>{f[v]="string"==typeof g?g.split("/"):g}),[...r,{outlets:f}]}if(a.segmentPath)return[...r,a.segmentPath]}return"string"!=typeof a?[...r,a]:0===u?(a.split("/").forEach((f,g)=>{0==g&&"."===f||(0==g&&""===f?t=!0:".."===f?e++:""!=f&&r.push(f))}),r):[...r,a]},[]);return new eU(t,e,i)}(t);if(a.toRoot())return pO(e.root,e.root,new Gt([],{}),i,r);const u=function Y8(n,e,t){if(n.isAbsolute)return new mO(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const a=t.snapshot._urlSegment;return new mO(a,a===e.root,0)}const i=iI(n.commands[0])?0:1;return function Z8(n,e,t){let i=n,r=e,a=t;for(;a>r;){if(a-=r,i=i.parent,!i)throw new Error("Invalid number of '../'");r=i.segments.length}return new mO(i,!1,r-a)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+i,n.numberOfDoubleDots)}(a,e,n),f=u.processChildren?rI(u.segmentGroup,u.index,a.commands):tU(u.segmentGroup,u.index,a.commands);return pO(e.root,u.segmentGroup,f,i,r)}(v,this.currentUrlTree,t,I,null!=D?D:null)}navigateByUrl(t,i={skipLocationChange:!1}){const r=Qh(t)?t:this.parseUrl(t),a=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(a,"imperative",null,i)}navigate(t,i={skipLocationChange:!1}){return function eY(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let i;try{i=this.urlSerializer.parse(t)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,t)}return i}isActive(t,i){let r;if(r=!0===i?Object.assign({},J4):!1===i?Object.assign({},X4):i,Qh(t))return V2(this.currentUrlTree,t,r);const a=this.parseUrl(t);return V2(this.currentUrlTree,a,r)}removeEmptyProps(t){return Object.keys(t).reduce((i,r)=>{const a=t[r];return null!=a&&(i[r]=a),i},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new cb(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,i,r,a,u){var f,g;if(this.disposed)return Promise.resolve(!1);let v,D,I;u?(v=u.resolve,D=u.reject,I=u.promise):I=new Promise((H,J)=>{v=H,D=J});const R=++this.navigationId;let V;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),V=r&&r.\u0275routerPageId?r.\u0275routerPageId:a.replaceUrl||a.skipLocationChange?null!==(f=this.browserPageId)&&void 0!==f?f:0:(null!==(g=this.browserPageId)&&void 0!==g?g:0)+1):V=0,this.setTransition({id:R,targetPageId:V,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:a,resolve:v,reject:D,promise:I,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),I.catch(H=>Promise.reject(H))}setBrowserUrl(t,i){const r=this.urlSerializer.serialize(t),a=Object.assign(Object.assign({},i.extras.state),this.generateNgRouterState(i.id,i.targetPageId));this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",a):this.location.go(r,"",a)}restoreHistory(t,i=!1){var r,a;if("computed"===this.canceledNavigationResolution){const u=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(r=this.currentNavigation)||void 0===r?void 0:r.finalUrl)||0===u?this.currentUrlTree===(null===(a=this.currentNavigation)||void 0===a?void 0:a.finalUrl)&&0===u&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(u)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,i){const r=new M2(t.id,this.serializeUrl(t.extractedUrl),i);this.triggerEvent(r),t.resolve(!1)}generateNgRouterState(t,i){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}}return n.\u0275fac=function(t){c.$Z()},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function CU(n){return"imperative"!==n}let dI=(()=>{class n{constructor(t,i,r,a,u){this.router=t,this.route=i,this.tabIndexAttribute=r,this.renderer=a,this.el=u,this.commands=null,this.onChanges=new yt.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){if(null!=this.tabIndexAttribute)return;const i=this.renderer,r=this.el.nativeElement;null!==t?i.setAttribute(r,"tabindex",t):i.removeAttribute(r,"tabindex")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const t={skipLocationChange:Xm(this.skipLocationChange),replaceUrl:Xm(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Xm(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(mr),c.Y36(Kl),c.$8M("tabindex"),c.Y36(c.Qsj),c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,i){1&t&&c.NdJ("click",function(){return i.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[c.TTD]}),n})(),EO=(()=>{class n{constructor(t,i,r){this.router=t,this.route=i,this.locationStrategy=r,this.commands=null,this.href=null,this.onChanges=new yt.x,this.subscription=t.events.subscribe(a=>{a instanceof cb&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,i,r,a,u){if(0!==t||i||r||a||u||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const f={skipLocationChange:Xm(this.skipLocationChange),replaceUrl:Xm(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,f),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Xm(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(mr),c.Y36(Kl),c.Y36(X))},n.\u0275dir=c.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,i){1&t&&c.NdJ("click",function(a){return i.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),2&t&&c.uIk("target",i.target)("href",i.href,c.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[c.TTD]}),n})();function Xm(n){return""===n||!!n}let EU=(()=>{class n{constructor(t,i,r,a,u,f){this.router=t,this.element=i,this.renderer=r,this.cdr=a,this.link=u,this.linkWithHref=f,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new c.vpe,this.routerEventsSubscription=t.events.subscribe(g=>{g instanceof cb&&this.update()})}ngAfterContentInit(){ht(this.links.changes,this.linksWithHrefs.changes,ht(null)).pipe((0,Rd.J)()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var t;null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe();const i=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=(0,bn.D)(i).pipe((0,Rd.J)()).subscribe(r=>{this.isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(t){const i=Array.isArray(t)?t:t.split(" ");this.classes=i.filter(r=>!!r)}ngOnChanges(t){this.update()}ngOnDestroy(){var t;this.routerEventsSubscription.unsubscribe(),null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const t=this.hasActiveLinks();this.isActive!==t&&(this.isActive=t,this.cdr.markForCheck(),this.classes.forEach(i=>{t?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),this.isActiveChange.emit(t))})}isLinkActive(t){const i=function tY(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return r=>!!r.urlTree&&t.isActive(r.urlTree,i)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.linkWithHref&&t(this.linkWithHref)||this.links.some(t)||this.linksWithHrefs.some(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(mr),c.Y36(c.SBq),c.Y36(c.Qsj),c.Y36(c.sBO),c.Y36(dI,8),c.Y36(EO,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(t,i,r){if(1&t&&(c.Suo(r,dI,5),c.Suo(r,EO,5)),2&t){let a;c.iGM(a=c.CRH())&&(i.links=a),c.iGM(a=c.CRH())&&(i.linksWithHrefs=a)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[c.TTD]}),n})();class DU{}class IU{preload(e,t){return ht(null)}}let AU=(()=>{class n{constructor(t,i,r,a){this.router=t,this.injector=r,this.preloadingStrategy=a,this.loader=new bU(r,i,g=>t.triggerEvent(new x2(g)),g=>t.triggerEvent(new k2(g)))}setUpPreloading(){this.subscription=this.router.events.pipe(Xn(t=>t instanceof cb),lb(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(c.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){const r=[];for(const a of i)if(a.loadChildren&&!a.canLoad&&a._loadedConfig){const u=a._loadedConfig;r.push(this.processRoutes(u.module,u.routes))}else a.loadChildren&&!a.canLoad?r.push(this.preloadConfig(t,a)):a.children&&r.push(this.processRoutes(t,a.children));return(0,bn.D)(r).pipe((0,Rd.J)(),(0,wt.U)(a=>{}))}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>(i._loadedConfig?ht(i._loadedConfig):this.loader.load(t.injector,i)).pipe((0,bi.z)(a=>(i._loadedConfig=a,this.processRoutes(a.module,a.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(mr),c.LFG(c.Sil),c.LFG(c.zs3),c.LFG(DU))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),DO=(()=>{class n{constructor(t,i,r={}){this.router=t,this.viewportScroller=i,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof oO?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof cb&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof R2&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.router.triggerEvent(new R2(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){c.$Z()},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Jh=new c.OlP("ROUTER_CONFIGURATION"),SU=new c.OlP("ROUTER_FORROOT_GUARD"),iY=[ge,{provide:H2,useClass:$2},{provide:mr,useFactory:function lY(n,e,t,i,r,a,u={},f,g){const v=new mr(null,n,e,t,i,r,F2(a));return f&&(v.urlHandlingStrategy=f),g&&(v.routeReuseStrategy=g),function cY(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(u,v),u.enableTracing&&v.events.subscribe(D=>{var I,R;null===(I=console.group)||void 0===I||I.call(console,`Router Event: ${D.constructor.name}`),console.log(D.toString()),console.log(D),null===(R=console.groupEnd)||void 0===R||R.call(console)}),v},deps:[H2,gb,ge,c.zs3,c.Sil,CO,Jh,[class Y4{},new c.FiY],[class G4{},new c.FiY]]},gb,{provide:Kl,useFactory:function uY(n){return n.routerState.root},deps:[mr]},AU,IU,class nY{preload(e,t){return t().pipe(Au(()=>ht(null)))}},{provide:Jh,useValue:{enableTracing:!1}}];function rY(){return new c.PXZ("Router",mr)}let TU=(()=>{class n{constructor(t,i){}static forRoot(t,i){return{ngModule:n,providers:[iY,MU(t),{provide:SU,useFactory:aY,deps:[[mr,new c.FiY,new c.tp0]]},{provide:Jh,useValue:i||{}},{provide:X,useFactory:oY,deps:[he,[new c.tBr($e),new c.FiY],Jh]},{provide:DO,useFactory:sY,deps:[mr,hf,Jh]},{provide:DU,useExisting:i&&i.preloadingStrategy?i.preloadingStrategy:IU},{provide:c.PXZ,multi:!0,useFactory:rY},[IO,{provide:c.ip1,multi:!0,useFactory:dY,deps:[IO]},{provide:xU,useFactory:hY,deps:[IO]},{provide:c.tb,multi:!0,useExisting:xU}]]}}static forChild(t){return{ngModule:n,providers:[MU(t)]}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(SU,8),c.LFG(mr,8))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();function sY(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new DO(n,e,t)}function oY(n,e,t={}){return t.useHash?new De(n,e):new Ve(n,e)}function aY(n){return"guarded"}function MU(n){return[{provide:c.deG,multi:!0,useValue:n},{provide:CO,multi:!0,useValue:n}]}let IO=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new yt.x}appInitializer(){return this.injector.get(z,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let i=null;const r=new Promise(f=>i=f),a=this.injector.get(mr),u=this.injector.get(Jh);return"disabled"===u.initialNavigation?(a.setUpLocationChangeListener(),i(!0)):"enabled"===u.initialNavigation||"enabledBlocking"===u.initialNavigation?(a.hooks.afterPreactivation=()=>this.initNavigation?ht(null):(this.initNavigation=!0,i(!0),this.resultOfPreactivationDone),a.initialNavigation()):i(!0),r})}bootstrapListener(t){const i=this.injector.get(Jh),r=this.injector.get(AU),a=this.injector.get(DO),u=this.injector.get(mr),f=this.injector.get(c.z2F);t===f.components[0]&&(("enabledNonBlocking"===i.initialNavigation||void 0===i.initialNavigation)&&u.initialNavigation(),r.setUpPreloading(),a.init(),u.resetRootComponentType(f.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.zs3))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function dY(n){return n.appInitializer.bind(n)}function hY(n){return n.bootstrapListener.bind(n)}const xU=new c.OlP("Router Initializer");let bb=(()=>{class n{constructor(t,i){this.router=t,this.list=[{id:1,name:"Nombre Tarea",date2:new Date(2022,2,2),done:!0,description:"Esto es una prueba"}],this.id=0,this.firestore=i}getTodoDoc(t){return kB(Cu(this.firestore,"todo/"+t))}createTodoDoc(t){var i=this;return(0,q.Z)(function*(){const a=FB(zR(i.firestore,"todo"),JSON.parse(JSON.stringify(t)));let u="";yield a.then(function(f){u=f.id}),UD(Cu(i.firestore,"todo/"+u),{id:u,name:t.name,date2:t.date2,done:t.done,description:t.description})})()}getTodos(){var t=this;return(0,q.Z)(function*(){const i=[],a=(zR(t.firestore,"todo"),mq(zR(t.firestore,"todo")));return(yield RB(a)).forEach(f=>{const g=f.data();Object.keys(g).filter(v=>g[v]instanceof On).forEach(v=>g[v]=g[v].toDate()),i.push(g)}),i})()}deleteDoc(t){PB(Cu(this.firestore,"todo/"+t)),this.router.navigate([""])}updateDoc(t,i){UD(Cu(this.firestore,"todo/"+t),{id:t,name:i.name,date2:i.date2,done:i.done,description:i.description})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(mr),c.LFG(jD))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),kU=(()=>{class n{constructor(t,i){this.route=t,this.service=i,this.objectReaded={id:666,name:"temp",date2:new Date(2022,2,2),done:!0,description:"temp"}}ngOnInit(){this.service.getTodoDoc(this.route.snapshot.params.id).then(t=>{console.log(t.data()),null==t.data()&&console.log("Not Found");const i=t.data();Object.keys(i).filter(r=>i[r]instanceof On).forEach(r=>i[r]=i[r].toDate()),this.objectReaded=i})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Kl),c.Y36(bb))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-todo-read"]],decls:12,vars:8,consts:[["role","list"],["role","listitem"]],template:function(t,i){1&t&&(c.TgZ(0,"mat-list",0)(1,"mat-list-item",1),c._uU(2),c.qZA(),c.TgZ(3,"mat-list-item",1),c._uU(4),c.ALo(5,"date"),c.qZA(),c.TgZ(6,"mat-list-item",1),c._uU(7),c.qZA(),c.TgZ(8,"mat-list-item",1),c._uU(9),c.qZA(),c.TgZ(10,"mat-list-item",1),c._uU(11),c.qZA()()),2&t&&(c.xp6(2),c.hij("Nombre Tarea: ",i.objectReaded.name,""),c.xp6(2),c.hij("Fecha: ",c.xi3(5,5,i.objectReaded.date2,"short"),""),c.xp6(3),c.hij("Descripci\xf3n: ",i.objectReaded.description,""),c.xp6(2),c.hij("Acabado: ",i.objectReaded.done,""),c.xp6(2),c.hij("Id: ",i.objectReaded.id,""))},directives:[DC,iy],pipes:[nc],styles:["#done[_ngcontent-%COMP%], #date[_ngcontent-%COMP%]{margin-left:10px;width:30%;min-width:250px}#nombre[_ngcontent-%COMP%]{margin-left:10px;margin-top:10px;width:30%;min-width:250px}#textarea[_ngcontent-%COMP%]{margin-left:10px;width:30%;min-width:250px}#boton[_ngcontent-%COMP%]{margin-bottom:10px;margin-left:10px}"]}),n})();function pY(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"mat-list-item",10)(1,"div",11)(2,"div",12),c._uU(3),c.qZA(),c.TgZ(4,"div",12),c._uU(5),c.ALo(6,"date"),c.qZA(),c.TgZ(7,"div",13),c._uU(8),c.qZA()(),c.TgZ(9,"div",14)(10,"button",15),c.NdJ("click",function(){const a=c.CHM(t).$implicit;return c.oxw().leer(a.id)}),c._uU(11,"Read"),c.qZA(),c.TgZ(12,"button",15),c.NdJ("click",function(){const a=c.CHM(t).$implicit;return c.oxw().borrar(a.id)}),c._uU(13," Delete "),c.qZA(),c.TgZ(14,"button",15),c.NdJ("click",function(){const a=c.CHM(t).$implicit;return c.oxw().update(a.id)}),c._uU(15," Update "),c.qZA()()()}if(2&n){const t=e.$implicit;c.xp6(3),c.Oqu(t.name),c.xp6(2),c.Oqu(c.xi3(6,3,t.date2,"short")),c.xp6(3),c.Oqu(t.done)}}let AO=(()=>{class n{constructor(t,i){this.service=t,this.router=i,this.title="ToDo",this.listShow=[{id:1,name:"Ejemplo",date2:new Date(2022,2,2),done:!0,description:"Example description"}];let r=[];this.service.getTodos().then(a=>{r=a,this.listShow=a})}ngOnInit(){}refrescar(){let t=[];this.service.getTodos().then(i=>{t=i,this.listShow=i})}leer(t){this.router.navigate(["/read/"+t]),this.refrescar()}borrar(t){this.service.deleteDoc(t),this.refrescar()}update(t){this.router.navigate(["/update/"+t]),this.refrescar()}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(bb),c.Y36(mr))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-root"]],decls:20,vars:1,consts:[["id","container"],["id","first-card"],["id","sexy-edition"],["id","campos"],["id","campo"],["id","campoDone"],["id","todas"],["role","listitem",4,"ngFor","ngForOf"],["id","create","mat-raised-button","","color","accent","routerLink","/create","routerLinkActive","active"],["id","second-card"],["role","listitem"],["id","atributos"],["id","attribute"],["id","attributeDone"],["id","botones"],["mat-raised-button","","color","accent",1,"boton",3,"click"]],template:function(t,i){1&t&&(c.TgZ(0,"div",0)(1,"mat-card",1)(2,"mat-card-title"),c._uU(3,"TODO List "),c.TgZ(4,"h1",2),c._uU(5,"Firebase Edition"),c.qZA()(),c.TgZ(6,"div",3)(7,"mat-card-header",4),c._uU(8,"Nombre"),c.qZA(),c.TgZ(9,"mat-card-header",5),c._uU(10,"Fecha"),c.qZA(),c.TgZ(11,"mat-card-header",4),c._uU(12,"Acabada"),c.qZA()(),c.TgZ(13,"mat-list",6),c.YNc(14,pY,16,6,"mat-list-item",7),c.qZA(),c._UZ(15,"br"),c.TgZ(16,"button",8),c._uU(17," Create\n"),c.qZA()(),c.TgZ(18,"mat-card",9),c._UZ(19,"router-outlet"),c.qZA()()),2&t&&(c.xp6(14),c.Q6J("ngForOf",i.listShow))},directives:[uT,TC,dT,DC,Sn,iy,Rl,dI,EU,yO],pipes:[nc],styles:["#first-card[_ngcontent-%COMP%]{margin-bottom:2%}#second-card[_ngcontent-%COMP%]{margin-top:2%}.mat-input-element[_ngcontent-%COMP%], .boton[_ngcontent-%COMP%]{margin:2%}mat-card-title[_ngcontent-%COMP%]{margin-left:2%}#create[_ngcontent-%COMP%]{margin-left:2%}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%}#container[_ngcontent-%COMP%]{background-color:#3f51b5;height:100%;padding:2% 2% 0}#sexy-edition[_ngcontent-%COMP%]{font-family:Homemade Apple,cursive;margin-top:10px}#atributos[_ngcontent-%COMP%]{margin:auto;display:flex;width:55%}#attribute[_ngcontent-%COMP%]{margin:auto;flex-grow:10;width:20%}#attributeDone[_ngcontent-%COMP%]{margin:auto;flex-grow:10;width:5%}#botones[_ngcontent-%COMP%]{margin:auto;display:flex;width:35%}#campos[_ngcontent-%COMP%]{margin-left:2%;display:flex;width:60%}#campo[_ngcontent-%COMP%]{width:60%}#campoDone[_ngcontent-%COMP%]{width:55%}#todas[_ngcontent-%COMP%]{max-height:280px;overflow:auto}"]}),n})(),RU=(()=>{class n{constructor(t,i){this.service=t,this.app=i,this.name="",this.description="",this.date=new Date(2e3,2,2),this.done=!0,this.id=0,this.date2=new Date}ngOnInit(){}add(){""==this.name&&""==this.description||(this.service.createTodoDoc({name:this.name,id:this.id,description:this.description,date2:this.date2,done:this.done}),this.app.refrescar())}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(bb),c.Y36(AO))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-todo-create"]],decls:27,vars:6,consts:[["appearance","fill","id","nombre"],["matInput","","placeholder","Nombre","required","",3,"ngModel","ngModelChange"],["appearance","fill","id","date"],["matInput","","placeholder","Choose a date","required","",3,"matDatepicker","ngModel","ngModelChange"],["matSuffix","",3,"for"],["date",""],["appearance","fill","id","done"],["required","",3,"value","valueChange"],["value","true"],["value","false"],["appearance","fill","id","textarea"],["matInput","","placeholder","Descripci\xf3n","required","",3,"ngModel","ngModelChange"],["mat-raised-button","","color","accent","id","boton",3,"click"]],template:function(t,i){if(1&t&&(c.TgZ(0,"mat-form-field",0)(1,"mat-label"),c._uU(2,"Nombre"),c.qZA(),c.TgZ(3,"input",1),c.NdJ("ngModelChange",function(a){return i.name=a}),c.qZA()(),c._UZ(4,"br"),c.TgZ(5,"mat-form-field",2)(6,"input",3),c.NdJ("ngModelChange",function(a){return i.date2=a}),c.qZA(),c._UZ(7,"mat-datepicker-toggle",4)(8,"mat-datepicker",null,5),c.qZA(),c._UZ(10,"br"),c.TgZ(11,"mat-form-field",6)(12,"mat-label"),c._uU(13,"Acabado"),c.qZA(),c.TgZ(14,"mat-select",7),c.NdJ("valueChange",function(a){return i.done=a}),c.TgZ(15,"mat-option",8),c._uU(16,"Si"),c.qZA(),c.TgZ(17,"mat-option",9),c._uU(18,"No"),c.qZA()()(),c._UZ(19,"br"),c.TgZ(20,"mat-form-field",10)(21,"mat-label"),c._uU(22,"Descripci\xf3n"),c.qZA(),c.TgZ(23,"textarea",11),c.NdJ("ngModelChange",function(a){return i.description=a}),c.qZA()(),c._UZ(24,"br"),c.TgZ(25,"button",12),c.NdJ("click",function(){return i.add()}),c._uU(26,"Crear"),c.qZA()),2&t){const r=c.MAs(9);c.xp6(3),c.Q6J("ngModel",i.name),c.xp6(3),c.Q6J("matDatepicker",r)("ngModel",i.date2),c.xp6(1),c.Q6J("for",r),c.xp6(7),c.Q6J("value",i.done),c.xp6(9),c.Q6J("ngModel",i.description)}},directives:[cC,Kd,pC,Bs,fl,ta,ll,YD,D2,ey,E2,h2,Mp,Rl],styles:["#done[_ngcontent-%COMP%], #date[_ngcontent-%COMP%]{margin-left:10px;width:30%;min-width:250px}#nombre[_ngcontent-%COMP%]{margin-left:10px;margin-top:10px;width:30%;min-width:250px}#textarea[_ngcontent-%COMP%]{margin-left:10px;width:30%;min-width:250px}#boton[_ngcontent-%COMP%]{margin-bottom:10px;margin-left:10px}"]}),n})(),OU=(()=>{class n{constructor(t,i,r,a){this.route=t,this.service=i,this.router=r,this.app=a,this.objectReaded={id:666,name:"temp",date2:new Date,done:!0,description:"temp"}}ngOnInit(){var t=this;return(0,q.Z)(function*(){let i={id:0};yield t.service.getTodoDoc(t.route.snapshot.params.id).then(r=>{const a=r.data();Object.keys(a).filter(u=>a[u]instanceof On).forEach(u=>a[u]=a[u].toDate()),i=a}),t.objectReaded=i})()}update(){this.service.updateDoc(this.route.snapshot.params.id,this.objectReaded),this.app.refrescar(),this.router.navigate(["read/"+this.route.snapshot.params.id])}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Kl),c.Y36(bb),c.Y36(mr),c.Y36(AO))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-todo-update"]],decls:27,vars:6,consts:[["appearance","fill","id","nombre"],["matInput","","placeholder","Nombre","required","",3,"ngModel","ngModelChange"],["appearance","fill","id","date"],["matInput","","placeholder","Choose a date","required","",3,"matDatepicker","ngModel","ngModelChange"],["matSuffix","",3,"for"],["date",""],["appearance","fill","id","done"],["required","",3,"value","valueChange"],["value","true"],["value","false"],["appearance","fill","id","textarea"],["matInput","","placeholder","Descripci\xf3n","required","",3,"ngModel","ngModelChange"],["mat-raised-button","","color","accent","id","boton",3,"click"]],template:function(t,i){if(1&t&&(c.TgZ(0,"mat-form-field",0)(1,"mat-label"),c._uU(2,"Nombre"),c.qZA(),c.TgZ(3,"input",1),c.NdJ("ngModelChange",function(a){return i.objectReaded.name=a}),c.qZA()(),c._UZ(4,"br"),c.TgZ(5,"mat-form-field",2)(6,"input",3),c.NdJ("ngModelChange",function(a){return i.objectReaded.date2=a}),c.qZA(),c._UZ(7,"mat-datepicker-toggle",4)(8,"mat-datepicker",null,5),c.qZA(),c._UZ(10,"br"),c.TgZ(11,"mat-form-field",6)(12,"mat-label"),c._uU(13,"Acabado"),c.qZA(),c.TgZ(14,"mat-select",7),c.NdJ("valueChange",function(a){return i.objectReaded.done=a}),c.TgZ(15,"mat-option",8),c._uU(16,"Si"),c.qZA(),c.TgZ(17,"mat-option",9),c._uU(18,"No"),c.qZA()()(),c._UZ(19,"br"),c.TgZ(20,"mat-form-field",10)(21,"mat-label"),c._uU(22,"Descripci\xf3n"),c.qZA(),c.TgZ(23,"textarea",11),c.NdJ("ngModelChange",function(a){return i.objectReaded.description=a}),c.qZA()(),c._UZ(24,"br"),c.TgZ(25,"button",12),c.NdJ("click",function(){return i.update()}),c._uU(26,"Update"),c.qZA()),2&t){const r=c.MAs(9);c.xp6(3),c.Q6J("ngModel",i.objectReaded.name),c.xp6(3),c.Q6J("matDatepicker",r)("ngModel",i.objectReaded.date2),c.xp6(1),c.Q6J("for",r),c.xp6(7),c.Q6J("value",i.objectReaded.done),c.xp6(9),c.Q6J("ngModel",i.objectReaded.description)}},directives:[cC,Kd,pC,Bs,fl,ta,ll,YD,D2,ey,E2,h2,Mp,Rl],styles:["#done[_ngcontent-%COMP%], #date[_ngcontent-%COMP%]{margin-left:10px;width:30%;min-width:250px}#nombre[_ngcontent-%COMP%]{margin-left:10px;margin-top:10px;width:30%;min-width:250px}#textarea[_ngcontent-%COMP%]{margin-left:10px;width:30%;min-width:250px}#boton[_ngcontent-%COMP%]{margin-bottom:10px;margin-left:10px}"]}),n})();const gY=[{path:"read/:id",component:kU},{path:"create",component:RU},{path:"update/:id",component:OU}];let _Y=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[TU.forRoot(gY)],TU]}),n})();function SO(){return(0,Jn.e)((n,e)=>{let t,i=!1;n.subscribe((0,un.x)(e,r=>{const a=t;t=r,i&&e.next([a,r]),i=!0}))})}var Na=F(2011),yY=(F(5881),F(3942));function TO(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new we("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function PU(){if("undefined"==typeof Uint8Array)throw new we("unimplemented","Uint8Arrays are not available in this environment.")}function FU(){if(!function E3(){return"undefined"!=typeof atob}())throw new we("unimplemented","Blobs are unavailable in Firestore in this environment.")}class wb{constructor(e){this._delegate=e}static fromBase64String(e){return FU(),new wb(Oa.fromBase64String(e))}static fromUint8Array(e){return PU(),new wb(Oa.fromUint8Array(e))}toBase64(){return FU(),this._delegate.toBase64()}toUint8Array(){return PU(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function MO(n){return function wY(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const i of e)if(i in t&&"function"==typeof t[i])return!0;return!1}(n,["next","error","complete"])}class CY{enableIndexedDbPersistence(e,t){return function w6(n,e){fB(n=Wt(n,Pn));const t=mi(n),i=n._freezeSettings(),r=new DR;return hB(t,r,new ZV(r,i.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function C6(n){fB(n=Wt(n,Pn));const e=mi(n),t=n._freezeSettings(),i=new DR;return hB(e,i,new n6(i,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function E6(n){if(n._initialized&&!n._terminated)throw new we(ie.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Fi;return n._queue.enqueueAndForgetEvenWhileRestricted((0,q.Z)(function*(){try{yield(t=(0,q.Z)(function*(i){if(!$o.vt())return Promise.resolve();const r=i+"main";yield $o.delete(r)}),function(i){return t.apply(this,arguments)})(gk(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class NU{constructor(e,t,i){this._delegate=t,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},e instanceof jl||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&wv("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,i={}){!function m6(n,e,t,i={}){var r;const a=(n=Wt(n,Jv))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==e&&wv("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},a),{host:`${e}:${t}`,ssl:!1})),i.mockUserToken){let u,f;if("string"==typeof i.mockUserToken)u=i.mockUserToken,f=Xi.MOCK_USER;else{u=(0,Ge.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const g=i.mockUserToken.sub||i.mockUserToken.user_id;if(!g)throw new we(ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Xi(g)}n._authCredentials=new g3(new FN(u,f))}}(this._delegate,e,t,i)}enableNetwork(){return function I6(n){return function a6(n){return n.asyncQueue.enqueue((0,q.Z)(function*(){const e=yield XV(n),t=yield eB(n);return e.setNetworkEnabled(!0),function(i){const r=He(i);return r.fu.delete(0),Kv(r)}(t)}))}(mi(n=Wt(n,Pn)))}(this._delegate)}disableNetwork(){return function A6(n){return function l6(n){return n.asyncQueue.enqueue((0,q.Z)(function*(){const e=yield XV(n),t=yield eB(n);return e.setNetworkEnabled(!1),(i=(0,q.Z)(function*(r){const a=He(r);a.fu.add(0),yield Bm(a),a.wu.set("Offline")}),function(r){return i.apply(this,arguments)})(t);var i}))}(mi(n=Wt(n,Pn)))}(this._delegate)}enablePersistence(e){let t=!1,i=!1;return e&&(t=!!e.synchronizeTabs,i=!!e.experimentalForceOwningTab,rB("synchronizeTabs",t,"experimentalForceOwningTab",i)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function D6(n){return function(e){const t=new Fi;return e.asyncQueue.enqueueAndForget((0,q.Z)(function*(){return function zG(n,e){return lR.apply(this,arguments)}(yield kR(e),t)})),t.promise}(mi(n=Wt(n,Pn)))}(this._delegate)}onSnapshotsInSync(e){return function X6(n,e){return function d6(n,e){const t=new xD(e);return n.asyncQueue.enqueueAndForget((0,q.Z)(function*(){return i=yield qm(n),r=t,He(i).Eu.add(r),void r.next();var i,r})),()=>{t.Ia(),n.asyncQueue.enqueueAndForget((0,q.Z)(function*(){return i=yield qm(n),r=t,void He(i).Eu.delete(r);var i,r}))}}(mi(n=Wt(n,Pn)),FR(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new we("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new eg(this,PR(this._delegate,e))}catch(t){throw Fr(t,"collection()","Firestore.collection()")}}doc(e){try{return new no(this,Cu(this._delegate,e))}catch(t){throw Fr(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Nr(this,function g6(n,e){if(n=Wt(n,Jv),OR("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new we(ie.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new pr(n,null,(t=e,new $l(Kt.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Fr(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function tq(n,e){return function h6(n,e){const t=new Fi;return n.asyncQueue.enqueueAndForget((0,q.Z)(function*(){const i=yield(r=n,kD(r).then(a=>a.datastore));var r;new s6(n.asyncQueue,i,e,t).run()})),t.promise}(mi(n=Wt(n,Pn)),t=>e(new eq(n,t)))}(this._delegate,t=>e(new LU(this,t)))}batch(){return mi(this._delegate),new VU(new xB(this._delegate,e=>Wm(this._delegate,e)))}loadBundle(e){return function S6(n,e){const t=mi(n=Wt(n,Pn)),i=new y6;return function f6(n,e,t,i){const r=function(a,u){let f;return f="string"==typeof a?(new TextEncoder).encode(a):a,g=function(g,v){if(g instanceof Uint8Array)return KV(g,v);if(g instanceof ArrayBuffer)return KV(new Uint8Array(g),v);if(g instanceof ReadableStream)return g.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(f),new i6(g,u);var g}(t,Zv(e));n.asyncQueue.enqueueAndForget((0,q.Z)(function*(){!function t6(n,e,t){const i=He(n);var r;(r=(0,q.Z)(function*(a,u,f){try{const g=yield u.getMetadata();if(yield function(R,V){const H=He(R),J=Li(V.createTime);return H.persistence.runTransaction("hasNewerBundle","readonly",be=>H._s.getBundleMetadata(be,V.id)).then(be=>!!be&&be.createTime.compareTo(J)>=0)}(a.localStore,g))return yield u.close(),f._completeWith({taskState:"Success",documentsLoaded:(R=g).totalDocuments,bytesLoaded:R.totalBytes,totalDocuments:R.totalDocuments,totalBytes:R.totalBytes}),Promise.resolve(new Set);f._updateProgress(BV(g));const v=new PG(g,a.localStore,u.M);let D=yield u.da();for(;D;){const R=yield v.ku(D);R&&f._updateProgress(R),D=yield u.da()}const I=yield v.complete();return yield zl(a,I.Fu,void 0),yield function(R,V){const H=He(R);return H.persistence.runTransaction("Save bundle","readwrite",J=>H._s.saveBundleMetadata(J,V))}(a.localStore,g),f._completeWith(I.progress),Promise.resolve(I.Ou)}catch(g){return wv("SyncEngine",`Loading bundle failed with ${g}`),f._failWith(g),Promise.resolve(new Set)}var R}),function(a,u,f){return r.apply(this,arguments)})(i,e,t).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield kR(n),r,i)}))}(t,n._databaseId,e,i),i}(this._delegate,e)}namedQuery(e){return function T6(n,e){return function p6(n,e){return n.asyncQueue.enqueue((0,q.Z)(function*(){return function(t,i){const r=He(t);return r.persistence.runTransaction("Get named query","readonly",a=>r._s.getNamedQuery(a,i))}(yield xR(n),e)}))}(mi(n=Wt(n,Pn)),e).then(t=>t?new pr(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Nr(this,t):null)}}class hI extends jR{constructor(e){super(),this.firestore=e}convertBytes(e){return new wb(new Oa(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return no.forKey(t,this.firestore,null)}}class LU{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new hI(e)}get(e){const t=ef(e);return this._delegate.get(t).then(i=>new Cb(this._firestore,new ql(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,t.converter)))}set(e,t,i){const r=ef(e);return i?(TO("Transaction.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const a=ef(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,i,...r),this}delete(e){const t=ef(e);return this._delegate.delete(t),this}}class VU{constructor(e){this._delegate=e}set(e,t,i){const r=ef(e);return i?(TO("WriteBatch.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const a=ef(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,i,...r),this}delete(e){const t=ef(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Xh{constructor(e,t,i){this._firestore=e,this._userDataWriter=t,this._delegate=i}fromFirestore(e,t){const i=new tb(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Eb(this._firestore,i),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const i=Xh.INSTANCES;let r=i.get(e);r||(r=new WeakMap,i.set(e,r));let a=r.get(t);return a||(a=new Xh(e,new hI(e),t),r.set(t,a)),a}}Xh.INSTANCES=new WeakMap;class no{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new hI(e)}static forPath(e,t,i){if(e.length%2!=0)throw new we("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new no(t,new In(t._delegate,i,new Ne(e)))}static forKey(e,t,i){return new no(t,new In(t._delegate,i,e))}get id(){return this._delegate.id}get parent(){return new eg(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new eg(this.firestore,PR(this._delegate,e))}catch(t){throw Fr(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Ge.m9)(e))instanceof In&&cB(this._delegate,e)}set(e,t){t=TO("DocumentReference.set",t);try{return t?OB(this._delegate,e,t):OB(this._delegate,e)}catch(i){throw Fr(i,"setDoc()","DocumentReference.set()")}}update(e,t,...i){try{return 1===arguments.length?UD(this._delegate,e):UD(this._delegate,e,t,...i)}catch(r){throw Fr(r,"updateDoc()","DocumentReference.update()")}}delete(){return PB(this._delegate)}onSnapshot(...e){const t=BU(e),i=UU(e,r=>new Cb(this.firestore,new ql(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return NB(this._delegate,t,i)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function Z6(n){n=Wt(n,In);const e=Wt(n.firestore,Pn),t=mi(e),i=new Gh(e);return function c6(n,e){const t=new Fi;return n.asyncQueue.enqueueAndForget((0,q.Z)(function*(){return(i=(0,q.Z)(function*(r,a,u){try{const f=yield function(g,v){const D=He(g);return D.persistence.runTransaction("read document","readonly",I=>D.ci.Ls(I,v))}(r,a);f.isFoundDocument()?u.resolve(f):f.isNoDocument()?u.resolve(null):u.reject(new we(ie.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(f){const g=Hm(f,`Failed to get document '${a} from cache`);u.reject(g)}}),function(r,a,u){return i.apply(this,arguments)})(yield xR(n),e,t);var i})),t.promise}(t,n._key).then(r=>new ql(e,i,n._key,r,new zh(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function K6(n){n=Wt(n,In);const e=Wt(n.firestore,Pn);return tB(mi(e),n._key,{source:"server"}).then(t=>HR(e,n,t))}(this._delegate):kB(this._delegate),t.then(i=>new Cb(this.firestore,new ql(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(e){return new no(this.firestore,this._delegate.withConverter(e?Xh.getInstance(this.firestore,e):null))}}function Fr(n,e,t){return n.message=n.message.replace(e,t),n}function BU(n){for(const e of n)if("object"==typeof e&&!MO(e))return e;return{}}function UU(n,e){var t,i;let r;return r=MO(n[0])?n[0]:MO(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:a=>{r.next&&r.next(e(a))},error:null===(t=r.error)||void 0===t?void 0:t.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class Cb{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new no(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return wB(this._delegate,e._delegate)}}class Eb extends Cb{data(e){const t=this._delegate.data(e);return function p3(n,e){n||tt()}(void 0!==t),t}}class Nr{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new hI(e)}where(e,t,i){try{return new Nr(this.firestore,Wl(this._delegate,function B6(n,e,t){const i=e,r=VD("where",n);return new V6(r,i,t)}(e,t,i)))}catch(r){throw Fr(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Nr(this.firestore,Wl(this._delegate,function j6(n,e="asc"){const t=e,i=VD("orderBy",n);return new U6(i,t)}(e,t)))}catch(i){throw Fr(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Nr(this.firestore,Wl(this._delegate,function H6(n){return aB("limit",n),new EB("limit",n,"F")}(e)))}catch(t){throw Fr(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Nr(this.firestore,Wl(this._delegate,function $6(n){return aB("limitToLast",n),new EB("limitToLast",n,"L")}(e)))}catch(t){throw Fr(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Nr(this.firestore,Wl(this._delegate,function z6(...n){return new DB("startAt",n,!0)}(...e)))}catch(t){throw Fr(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Nr(this.firestore,Wl(this._delegate,function G6(...n){return new DB("startAfter",n,!1)}(...e)))}catch(t){throw Fr(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Nr(this.firestore,Wl(this._delegate,function q6(...n){return new IB("endBefore",n,!1)}(...e)))}catch(t){throw Fr(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Nr(this.firestore,Wl(this._delegate,function W6(...n){return new IB("endAt",n,!0)}(...e)))}catch(t){throw Fr(t,"endAt()","Query.endAt()")}}isEqual(e){return uB(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function Q6(n){n=Wt(n,pr);const e=Wt(n.firestore,Pn),t=mi(e),i=new Gh(e);return function u6(n,e){const t=new Fi;return n.asyncQueue.enqueueAndForget((0,q.Z)(function*(){return(i=(0,q.Z)(function*(r,a,u){try{const f=yield DD(r,a,!0),g=new HV(a,f.li),v=g.Gu(f.documents),D=g.applyChanges(v,!1);u.resolve(D.snapshot)}catch(f){const g=Hm(f,`Failed to execute query '${a} against cache`);u.reject(g)}}),function(r,a,u){return i.apply(this,arguments)})(yield xR(n),e,t);var i})),t.promise}(t,n._query).then(r=>new Eu(e,i,n,r))}(this._delegate):"server"===(null==e?void 0:e.source)?function J6(n){n=Wt(n,pr);const e=Wt(n.firestore,Pn),t=mi(e),i=new Gh(e);return nB(t,n._query,{source:"server"}).then(r=>new Eu(e,i,n,r))}(this._delegate):RB(this._delegate),t.then(i=>new xO(this.firestore,new Eu(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...e){const t=BU(e),i=UU(e,r=>new xO(this.firestore,new Eu(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return NB(this._delegate,t,i)}withConverter(e){return new Nr(this.firestore,this._delegate.withConverter(e?Xh.getInstance(this.firestore,e):null))}}class DY{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Eb(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class xO{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Nr(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Eb(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new DY(this._firestore,t))}forEach(e,t){this._delegate.forEach(i=>{e.call(t,new Eb(this._firestore,i))})}isEqual(e){return wB(this._delegate,e._delegate)}}class eg extends Nr{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new no(this.firestore,e):null}doc(e){try{return new no(this.firestore,void 0===e?Cu(this._delegate):Cu(this._delegate,e))}catch(t){throw Fr(t,"doc()","CollectionReference.doc()")}}add(e){return FB(this._delegate,e).then(t=>new no(this.firestore,t))}isEqual(e){return cB(this._delegate,e._delegate)}withConverter(e){return new eg(this.firestore,this._delegate.withConverter(e?Xh.getInstance(this.firestore,e):null))}}function ef(n){return Wt(n,In)}class kO{constructor(...e){this._delegate=new Gl(...e)}static documentId(){return new kO(Ni.keyField().canonicalString())}isEqual(e){return(e=(0,Ge.m9)(e))instanceof Gl&&this._delegate._internalPath.isEqual(e._internalPath)}}class tf{constructor(e){this._delegate=e}static serverTimestamp(){const e=function iq(){return new NR("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new tf(e)}static delete(){const e=function nq(){return new Xv("deleteField")}();return e._methodName="FieldValue.delete",new tf(e)}static arrayUnion(...e){const t=function rq(...n){return new R6("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new tf(t)}static arrayRemove(...e){const t=function sq(...n){return new O6("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new tf(t)}static increment(e){const t=function oq(n){return new P6("increment",n)}(e);return t._methodName="FieldValue.increment",new tf(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const IY={Firestore:NU,GeoPoint:OD,Timestamp:On,Blob:wb,Transaction:LU,WriteBatch:VU,DocumentReference:no,DocumentSnapshot:Cb,Query:Nr,QueryDocumentSnapshot:Eb,QuerySnapshot:xO,CollectionReference:eg,FieldPath:kO,FieldValue:tf,setLogLevel:function EY(n){!function f3(n){du.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function SY(n){(function AY(n,e){n.INTERNAL.registerComponent(new Yi.wA("firestore-compat",t=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("firestore").getImmediate();return e(i,r)},"PUBLIC").setServiceProps(Object.assign({},IY)))})(n,(e,t)=>new NU(e,t,new CY)),n.registerVersion("@firebase/firestore-compat","0.1.17")}(yY.Z);class TY extends yt.x{constructor(e=1/0,t=1/0,i=Jg){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:a,_windowTime:u}=this;t||(i.push(e),!r&&i.push(a.now()+u)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:r}=this,a=r.slice();for(let u=0;u<a.length&&!e.closed;u+=i?1:2)e.next(a[u]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:i,_infiniteTimeWindow:r}=this,a=(r?1:2)*e;if(e<1/0&&a<i.length&&i.splice(0,i.length-a),!r){const u=t.now();let f=0;for(let g=1;g<i.length&&i[g]<=u;g+=2)f=g;f&&i.splice(0,f+1)}}}var MY=F(3099);function jU(n,e,t){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:e=1/0,refCount:r=!1,scheduler:t}=n):i=null!=n?n:1/0,(0,MY.B)({connector:()=>new TY(i,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function HU(n,e){return(0,ys.m)(e)?nr(()=>n,e):nr(()=>n)}var xY=F(127);const $U=new c.OlP("angularfire2.auth.use-emulator"),zU=new c.OlP("angularfire2.auth.settings"),GU=new c.OlP("angularfire2.auth.tenant-id"),qU=new c.OlP("angularfire2.auth.langugage-code"),WU=new c.OlP("angularfire2.auth.use-device-language"),YU=new c.OlP("angularfire.auth.persistence"),ZU=(n,e,t,i,r,a,u,f)=>(0,Na.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const g=e.runOutsideAngular(()=>n.auth());if(t&&g.useEmulator(...t),i&&(g.tenantId=i),g.languageCode=r,a&&g.useDeviceLanguage(),u)for(const[v,D]of Object.entries(u))g.settings[v]=D;return f&&g.setPersistence(f),g},[t,i,r,a,u,f]);let KU=(()=>{class n{constructor(t,i,r,a,u,f,g,v,D,I,R,V){const H=new yt.x,J=ht(void 0).pipe((0,fm.Q)(u.outsideAngular),nr(()=>a.runOutsideAngular(()=>Promise.resolve().then(F.bind(F,5881)))),(0,wt.U)(()=>(0,Na.on)(t,a,i)),(0,wt.U)(be=>ZU(be,a,f,v,D,I,g,R)),jU({bufferSize:1,refCount:!1}));if(Ha(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=ht(null);else{J.pipe(Yh()).subscribe();const qe=J.pipe(nr(et=>et.getRedirectResult().then(Mt=>Mt,()=>null)),Is,jU({bufferSize:1,refCount:!1})),Ke=J.pipe(nr(et=>new zi.y(Mt=>({unsubscribe:a.runOutsideAngular(()=>et.onAuthStateChanged(Ft=>Mt.next(Ft),Ft=>Mt.error(Ft),()=>Mt.complete()))})))),Je=J.pipe(nr(et=>new zi.y(Mt=>({unsubscribe:a.runOutsideAngular(()=>et.onIdTokenChanged(Ft=>Mt.next(Ft),Ft=>Mt.error(Ft),()=>Mt.complete()))}))));this.authState=qe.pipe(HU(Ke),(0,ev.R)(u.outsideAngular),(0,fm.Q)(u.insideAngular)),this.user=qe.pipe(HU(Je),(0,ev.R)(u.outsideAngular),(0,fm.Q)(u.insideAngular)),this.idToken=this.user.pipe(nr(et=>et?(0,bn.D)(et.getIdToken()):ht(null))),this.idTokenResult=this.user.pipe(nr(et=>et?(0,bn.D)(et.getIdTokenResult()):ht(null))),this.credential=(0,Lo.T)(qe,H,this.authState.pipe(Xn(et=>!et))).pipe((0,wt.U)(et=>(null==et?void 0:et.user)?et:null),(0,ev.R)(u.outsideAngular),(0,fm.Q)(u.insideAngular))}return(0,Na.pX)(this,J,a,{spy:{apply:(be,qe,Ke)=>{(be.startsWith("signIn")||be.startsWith("createUser"))&&Ke.then(Je=>H.next(Je))}}})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Na.Dh),c.LFG(Na.xv,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(wE),c.LFG($U,8),c.LFG(zU,8),c.LFG(GU,8),c.LFG(qU,8),c.LFG(WU,8),c.LFG(YU,8),c.LFG(xE,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function QU(n,e){return function RY(n,e=Lc){return new zi.y(t=>{let i;return null!=e?e.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},t)}):i=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=i&&i()}})}(n,e)}function RO(n,e){return QU(n,e).pipe((0,wt.U)(t=>({payload:t,type:"query"})))}function fI(n,e){return RO(n,e).pipe(xn(void 0),SO(),(0,wt.U)(([t,i])=>{const r=i.payload.docChanges(),a=r.map(u=>({type:u.type,payload:u}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((u,f)=>{const g=r.find(D=>D.doc.ref.isEqual(u.ref)),v=null==t?void 0:t.payload.docs.find(D=>D.ref.isEqual(u.ref));g&&JSON.stringify(g.doc.metadata)===JSON.stringify(u.metadata)||!g&&v&&JSON.stringify(v.metadata)===JSON.stringify(u.metadata)||a.push({type:"modified",payload:{oldIndex:f,newIndex:f,type:"modified",doc:u}})}),a}))}function JU(n,e,t){return fI(n,t).pipe(ab((i,r)=>function PY(n,e,t){return e.forEach(i=>{t.indexOf(i.type)>-1&&(n=function FY(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return OO(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return OO(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return OO(n,e.oldIndex,1)}return n}(n,i))}),n}(i,r.map(a=>a.payload),e),[]),wa(),(0,wt.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function OO(n,e,t,...i){const r=n.slice();return r.splice(e,t,...i),r}function XU(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class ej{constructor(e,t,i){this.ref=e,this.query=t,this.afs=i}stateChanges(e){let t=fI(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,wt.U)(i=>i.filter(r=>e.indexOf(r.type)>-1)))),t.pipe(xn(void 0),SO(),Xn(([i,r])=>r.length>0||!i),(0,wt.U)(([i,r])=>r),Is)}auditTrail(e){return this.stateChanges(e).pipe(ab((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=XU(e);return JU(this.query,t,this.afs.schedulers.outsideAngular).pipe(Is)}valueChanges(e={}){return RO(this.query,this.afs.schedulers.outsideAngular).pipe((0,wt.U)(t=>t.payload.docs.map(i=>e.idField?Object.assign(Object.assign({},i.data()),{[e.idField]:i.id}):i.data())),Is)}get(e){return(0,bn.D)(this.query.get(e)).pipe(Is)}add(e){return this.ref.add(e)}doc(e){return new tj(this.ref.doc(e),this.afs)}}class tj{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const i=this.ref.collection(e),{ref:r,query:a}=rj(i,t);return new ej(r,a,this.afs)}snapshotChanges(){return function OY(n,e){return QU(n,e).pipe(xn(void 0),SO(),(0,wt.U)(([t,i])=>i.exists?(null==t?void 0:t.exists)?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Is)}valueChanges(e={}){return this.snapshotChanges().pipe((0,wt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,bn.D)(this.ref.get(e)).pipe(Is)}}class NY{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?fI(this.query,this.afs.schedulers.outsideAngular).pipe((0,wt.U)(t=>t.filter(i=>e.indexOf(i.type)>-1)),Xn(t=>t.length>0),Is):fI(this.query,this.afs.schedulers.outsideAngular).pipe(Is)}auditTrail(e){return this.stateChanges(e).pipe(ab((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=XU(e);return JU(this.query,t,this.afs.schedulers.outsideAngular).pipe(Is)}valueChanges(e={}){return RO(this.query,this.afs.schedulers.outsideAngular).pipe((0,wt.U)(i=>i.payload.docs.map(r=>e.idField?Object.assign({[e.idField]:r.id},r.data()):r.data())),Is)}get(e){return(0,bn.D)(this.query.get(e)).pipe(Is)}}const nj=new c.OlP("angularfire2.enableFirestorePersistence"),ij=new c.OlP("angularfire2.firestore.persistenceSettings"),LY=new c.OlP("angularfire2.firestore.settings"),VY=new c.OlP("angularfire2.firestore.use-emulator");function rj(n,e=(t=>t)){return{query:e(n),ref:n}}let BY=(()=>{class n{constructor(t,i,r,a,u,f,g,v,D,I,R,V,H,J,be,qe,Ke){this.schedulers=g;const Je=(0,Na.on)(t,f,i),et=D;I&&ZU(Je,f,R,H,J,be,V,qe),[this.firestore,this.persistenceEnabled$]=(0,Na.cc)(`${Je.name}.firestore`,"AngularFirestore",Je.name,()=>{const Mt=f.runOutsideAngular(()=>Je.firestore());if(a&&Mt.settings(a),et&&Mt.useEmulator(...et),r&&!Ha(u)){const Ft=()=>{try{return(0,bn.D)(Mt.enablePersistence(v||void 0).then(()=>!0,()=>!1))}catch(tn){return"undefined"!=typeof console&&console.warn(tn),ht(!1)}};return[Mt,f.runOutsideAngular(Ft)]}return[Mt,ht(!1)]},[a,et,r])}collection(t,i){let r;r="string"==typeof t?this.firestore.collection(t):t;const{ref:a,query:u}=rj(r,i),f=this.schedulers.ngZone.run(()=>a);return new ej(f,u,this)}collectionGroup(t,i){const r=i||(u=>u),a=this.firestore.collectionGroup(t);return new NY(r(a),this)}doc(t){let i;i="string"==typeof t?this.firestore.doc(t):t;const r=this.schedulers.ngZone.run(()=>i);return new tj(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Na.Dh),c.LFG(Na.xv,8),c.LFG(nj,8),c.LFG(LY,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(wE),c.LFG(ij,8),c.LFG(VY,8),c.LFG(KU,8),c.LFG($U,8),c.LFG(zU,8),c.LFG(GU,8),c.LFG(qU,8),c.LFG(WU,8),c.LFG(YU,8),c.LFG(xE,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),UY=(()=>{class n{constructor(){xY.Z.registerVersion("angularfire",bE.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:nj,useValue:!0},{provide:ij,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[BY]}),n})(),jY=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n,bootstrap:[AO]}),n.\u0275inj=c.cJS({providers:[],imports:[[Jo,_Y,Ow,rT,Jd,gC,$S,wd,hT,e8,Hw,uH(()=>dH(xC_firebaseConfig)),fq(()=>pq()),yW,UY,yq]]}),n})();(0,c.G48)(),ju().bootstrapModule(jY).catch(n=>console.error(n))},127:(ut,Ce,F)=>{F.d(Ce,{Z:()=>c.Z});var c=F(3942);c.Z.registerVersion("firebase","9.6.11","app-compat")},5881:(ut,Ce,F)=>{F.r(Ce);var c=F(5861),B=F(3942),P=F(573),le=F(2090),de=(F(9681),F(1877),F(4859));function he(){return window}function $(){return($=(0,c.Z)(function*(M,O,L){var ne;const{BuildInfo:ke}=he();(0,P.ap)(O.sessionId,"AuthEvent did not contain a session ID");const Ue=yield Ee(O.sessionId),mt={};return(0,P.aq)()?mt.ibi=ke.packageName:(0,P.ar)()?mt.apn=ke.packageName:(0,P.as)(M,"operation-not-supported-in-this-environment"),ke.displayName&&(mt.appDisplayName=ke.displayName),mt.sessionId=Ue,(0,P.at)(M,L,O.type,void 0,null!==(ne=O.eventId)&&void 0!==ne?ne:void 0,mt)})).apply(this,arguments)}function je(){return(je=(0,c.Z)(function*(M){const{BuildInfo:O}=he(),L={};(0,P.aq)()?L.iosBundleId=O.packageName:(0,P.ar)()?L.androidPackageName=O.packageName:(0,P.as)(M,"operation-not-supported-in-this-environment"),yield(0,P.au)(M,L)})).apply(this,arguments)}function Se(){return(Se=(0,c.Z)(function*(M,O,L){const{cordova:ne}=he();let ke=()=>{};try{yield new Promise((Ue,mt)=>{let We=null;function vt(){var Vt;Ue();const oi=null===(Vt=ne.plugins.browsertab)||void 0===Vt?void 0:Vt.close;"function"==typeof oi&&oi(),"function"==typeof(null==L?void 0:L.close)&&L.close()}function ln(){We||(We=window.setTimeout(()=>{mt((0,P.av)(M,"redirect-cancelled-by-user"))},2e3))}function si(){"visible"===(null==document?void 0:document.visibilityState)&&ln()}O.addPassiveListener(vt),document.addEventListener("resume",ln,!1),(0,P.ar)()&&document.addEventListener("visibilitychange",si,!1),ke=()=>{O.removePassiveListener(vt),document.removeEventListener("resume",ln,!1),document.removeEventListener("visibilitychange",si,!1),We&&window.clearTimeout(We)}})}finally{ke()}})).apply(this,arguments)}function Ee(M){return $e.apply(this,arguments)}function $e(){return($e=(0,c.Z)(function*(M){const O=Ve(M),L=yield crypto.subtle.digest("SHA-256",O);return Array.from(new Uint8Array(L)).map(ke=>ke.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Ve(M){if((0,P.ap)(/[0-9a-zA-Z]+/.test(M),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(M);const O=new ArrayBuffer(M.length),L=new Uint8Array(O);for(let ne=0;ne<M.length;ne++)L[ne]=M.charCodeAt(ne);return L}class ge extends P.az{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(O=>{this.resolveInialized=O})}addPassiveListener(O){this.passiveListeners.add(O)}removePassiveListener(O){this.passiveListeners.delete(O)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(O){return this.resolveInialized(),this.passiveListeners.forEach(L=>L(O)),super.onEvent(O)}initialized(){var O=this;return(0,c.Z)(function*(){yield O.initPromise})()}}function Q(M){return Be.apply(this,arguments)}function Be(){return(Be=(0,c.Z)(function*(M){const O=yield te()._get(oe(M));return O&&(yield te()._remove(oe(M))),O})).apply(this,arguments)}function se(){const M=[],O="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let L=0;L<20;L++){const ne=Math.floor(Math.random()*O.length);M.push(O.charAt(ne))}return M.join("")}function te(){return(0,P.ax)(P.b)}function oe(M){return(0,P.ay)("authEvent",M.config.apiKey,M.name)}function _t(M){if(!(null==M?void 0:M.includes("?")))return{};const[O,...L]=M.split("?");return(0,le.zd)(L.join("?"))}function st(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,P.av)("no-auth-event")}}function zt(){var M;return(null===(M=null==self?void 0:self.location)||void 0===M?void 0:M.protocol)||null}function yn(M=(0,le.z$)()){return!("file:"!==zt()&&"ionic:"!==zt()||!M.toLowerCase().match(/iphone|ipad|ipod|android/))}function sr(){try{const M=self.localStorage,O=P.aG();if(M)return M.setItem(O,"1"),M.removeItem(O),!function Vr(M=(0,le.z$)()){return function Ei(){return(0,le.w1)()&&11===(null==document?void 0:document.documentMode)}()||function gi(M=(0,le.z$)()){return/Edge\/\d+/.test(M)}(M)}()||(0,le.hl)()}catch(M){return yr()&&(0,le.hl)()}return!1}function yr(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Di(){return(function Zt(){return"http:"===zt()||"https:"===zt()}()||(0,le.ru)()||yn())&&!function _r(){return(0,le.b$)()||(0,le.UG)()}()&&sr()&&!yr()}function io(){return yn()&&"undefined"!=typeof document}function ji(){return(ji=(0,c.Z)(function*(){return!!io()&&new Promise(M=>{const O=setTimeout(()=>{M(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(O),M(!0)})})})).apply(this,arguments)}const Xt={LOCAL:"local",NONE:"none",SESSION:"session"},ri=P.aw,Br="persistence";function An(M){return Ii.apply(this,arguments)}function Ii(){return(Ii=(0,c.Z)(function*(M){yield M._initializationPromise;const O=Rt(),L=P.ay(Br,M.config.apiKey,M.name);O&&O.setItem(L,M._getPersistence())})).apply(this,arguments)}function Rt(){var M;try{return(null===(M=function Nn(){return"undefined"!=typeof window?window:null}())||void 0===M?void 0:M.sessionStorage)||null}catch(O){return null}}const ot=P.aw;class Ye{constructor(){this.browserResolver=P.ax(P.k),this.cordovaResolver=P.ax(class Fn{constructor(){this._redirectPersistence=P.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=P.aA}_initialize(O){var L=this;return(0,c.Z)(function*(){const ne=O._key();let ke=L.eventManagers.get(ne);return ke||(ke=new ge(O),L.eventManagers.set(ne,ke),L.attachCallbackListeners(O,ke)),ke})()}_openPopup(O){(0,P.as)(O,"operation-not-supported-in-this-environment")}_openRedirect(O,L,ne,ke){var Ue=this;return(0,c.Z)(function*(){!function X(M){var O,L,ne,ke,Ue,mt,We,vt,ln,si;const Vt=he();(0,P.aw)("function"==typeof(null===(O=null==Vt?void 0:Vt.universalLinks)||void 0===O?void 0:O.subscribe),M,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,P.aw)(void 0!==(null===(L=null==Vt?void 0:Vt.BuildInfo)||void 0===L?void 0:L.packageName),M,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,P.aw)("function"==typeof(null===(Ue=null===(ke=null===(ne=null==Vt?void 0:Vt.cordova)||void 0===ne?void 0:ne.plugins)||void 0===ke?void 0:ke.browsertab)||void 0===Ue?void 0:Ue.openUrl),M,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,P.aw)("function"==typeof(null===(vt=null===(We=null===(mt=null==Vt?void 0:Vt.cordova)||void 0===mt?void 0:mt.plugins)||void 0===We?void 0:We.browsertab)||void 0===vt?void 0:vt.isAvailable),M,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,P.aw)("function"==typeof(null===(si=null===(ln=null==Vt?void 0:Vt.cordova)||void 0===ln?void 0:ln.InAppBrowser)||void 0===si?void 0:si.open),M,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(O);const mt=yield Ue._initialize(O);yield mt.initialized(),mt.resetRedirect(),(0,P.aB)(),yield Ue._originValidation(O);const We=function ue(M,O,L=null){return{type:O,eventId:L,urlResponse:null,sessionId:se(),postBody:null,tenantId:M.tenantId,error:(0,P.av)(M,"no-auth-event")}}(O,ne,ke);yield function Fe(M,O){return te()._set(oe(M),O)}(O,We);const vt=yield function z(M,O,L){return $.apply(this,arguments)}(O,We,L),ln=yield function Ae(M){const{cordova:O}=he();return new Promise(L=>{O.plugins.browsertab.isAvailable(ne=>{let ke=null;ne?O.plugins.browsertab.openUrl(M):ke=O.InAppBrowser.open(M,(0,P.ao)()?"_blank":"_system","location=yes"),L(ke)})})}(vt);return function Re(M,O,L){return Se.apply(this,arguments)}(O,mt,ln)})()}_isIframeWebStorageSupported(O,L){throw new Error("Method not implemented.")}_originValidation(O){const L=O._key();return this.originValidationPromises[L]||(this.originValidationPromises[L]=function K(M){return je.apply(this,arguments)}(O)),this.originValidationPromises[L]}attachCallbackListeners(O,L){const{universalLinks:ne,handleOpenURL:ke,BuildInfo:Ue}=he(),mt=setTimeout((0,c.Z)(function*(){yield Q(O),L.onEvent(st())}),500),We=function(){var si=(0,c.Z)(function*(Vt){clearTimeout(mt);const oi=yield Q(O);let br=null;oi&&(null==Vt?void 0:Vt.url)&&(br=function Y(M,O){var L,ne;const ke=function ee(M){const O=_t(M),L=O.link?decodeURIComponent(O.link):void 0,ne=_t(L).link,ke=O.deep_link_id?decodeURIComponent(O.deep_link_id):void 0;return _t(ke).link||ke||ne||L||M}(O);if(ke.includes("/__/auth/callback")){const Ue=_t(ke),mt=Ue.firebaseError?function Te(M){try{return JSON.parse(M)}catch(O){return null}}(decodeURIComponent(Ue.firebaseError)):null,We=null===(ne=null===(L=null==mt?void 0:mt.code)||void 0===L?void 0:L.split("auth/"))||void 0===ne?void 0:ne[1],vt=We?(0,P.av)(We):null;return vt?{type:M.type,eventId:M.eventId,tenantId:M.tenantId,error:vt,urlResponse:null,sessionId:null,postBody:null}:{type:M.type,eventId:M.eventId,tenantId:M.tenantId,sessionId:M.sessionId,urlResponse:ke,postBody:null}}return null}(oi,Vt.url)),L.onEvent(br||st())});return function(oi){return si.apply(this,arguments)}}();void 0!==ne&&"function"==typeof ne.subscribe&&ne.subscribe(null,We);const vt=ke,ln=`${Ue.packageName.toLowerCase()}://`;he().handleOpenURL=function(){var si=(0,c.Z)(function*(Vt){if(Vt.toLowerCase().startsWith(ln)&&We({url:Vt}),"function"==typeof vt)try{vt(Vt)}catch(oi){console.error(oi)}});return function(Vt){return si.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=P.a,this._completeRedirectFn=P.aA}_initialize(O){var L=this;return(0,c.Z)(function*(){return yield L.selectUnderlyingResolver(),L.assertedUnderlyingResolver._initialize(O)})()}_openPopup(O,L,ne,ke){var Ue=this;return(0,c.Z)(function*(){return yield Ue.selectUnderlyingResolver(),Ue.assertedUnderlyingResolver._openPopup(O,L,ne,ke)})()}_openRedirect(O,L,ne,ke){var Ue=this;return(0,c.Z)(function*(){return yield Ue.selectUnderlyingResolver(),Ue.assertedUnderlyingResolver._openRedirect(O,L,ne,ke)})()}_isIframeWebStorageSupported(O,L){this.assertedUnderlyingResolver._isIframeWebStorageSupported(O,L)}_originValidation(O){return this.assertedUnderlyingResolver._originValidation(O)}get _shouldInitProactively(){return io()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return ot(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var O=this;return(0,c.Z)(function*(){if(O.underlyingResolver)return;const L=yield function at(){return ji.apply(this,arguments)}();O.underlyingResolver=L?O.cordovaResolver:O.browserResolver})()}}function vr(M){return M.unwrap()}function Lt(M){return Cn(M)}function Cn(M){const{_tokenResponse:O}=M instanceof le.ZR?M.customData:M;if(!O)return null;if(!(M instanceof le.ZR)&&"temporaryProof"in O&&"phoneNumber"in O)return P.P.credentialFromResult(M);const L=O.providerId;if(!L||L===P.o.PASSWORD)return null;let ne;switch(L){case P.o.GOOGLE:ne=P.N;break;case P.o.FACEBOOK:ne=P.M;break;case P.o.GITHUB:ne=P.Q;break;case P.o.TWITTER:ne=P.V;break;default:const{oauthIdToken:ke,oauthAccessToken:Ue,oauthTokenSecret:mt,pendingToken:We,nonce:vt}=O;return Ue||mt||ke||We?We?L.startsWith("saml.")?P.aJ._create(L,We):P.I._fromParams({providerId:L,signInMethod:L,pendingToken:We,idToken:ke,accessToken:Ue}):new P.T(L).credential({idToken:ke,accessToken:Ue,rawNonce:vt}):null}return M instanceof le.ZR?ne.credentialFromError(M):ne.credentialFromResult(M)}function nn(M,O){return O.catch(L=>{throw L instanceof le.ZR&&function Ur(M,O){var L;const ne=null===(L=O.customData)||void 0===L?void 0:L._tokenResponse;if("auth/multi-factor-auth-required"===O.code)O.resolver=new Bt(M,P.am(M,O));else if(ne){const ke=Cn(O),Ue=O;ke&&(Ue.credential=ke,Ue.tenantId=ne.tenantId||void 0,Ue.email=ne.email||void 0,Ue.phoneNumber=ne.phoneNumber||void 0)}}(M,L),L}).then(L=>{const ke=L.user;return{operationType:L.operationType,credential:Lt(L),additionalUserInfo:P.ak(L),user:Pe.getOrCreate(ke)}})}function lt(M,O){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,c.Z)(function*(M,O){const L=yield O;return{verificationId:L.verificationId,confirm:ne=>nn(M,L.confirm(ne))}})).apply(this,arguments)}class Bt{constructor(O,L){this.resolver=L,this.auth=function ts(M){return M.wrapped()}(O)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(O){return nn(vr(this.auth),this.resolver.resolveSignIn(O))}}class Pe{constructor(O){this._delegate=O,this.multiFactor=P.an(O)}static getOrCreate(O){return Pe.USER_MAP.has(O)||Pe.USER_MAP.set(O,new Pe(O)),Pe.USER_MAP.get(O)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(O){return this._delegate.getIdTokenResult(O)}getIdToken(O){return this._delegate.getIdToken(O)}linkAndRetrieveDataWithCredential(O){return this.linkWithCredential(O)}linkWithCredential(O){var L=this;return(0,c.Z)(function*(){return nn(L.auth,P.Y(L._delegate,O))})()}linkWithPhoneNumber(O,L){var ne=this;return(0,c.Z)(function*(){return lt(ne.auth,P.l(ne._delegate,O,L))})()}linkWithPopup(O){var L=this;return(0,c.Z)(function*(){return nn(L.auth,P.d(L._delegate,O,Ye))})()}linkWithRedirect(O){var L=this;return(0,c.Z)(function*(){return yield An(P.aC(L.auth)),P.g(L._delegate,O,Ye)})()}reauthenticateAndRetrieveDataWithCredential(O){return this.reauthenticateWithCredential(O)}reauthenticateWithCredential(O){var L=this;return(0,c.Z)(function*(){return nn(L.auth,P.Z(L._delegate,O))})()}reauthenticateWithPhoneNumber(O,L){return lt(this.auth,P.r(this._delegate,O,L))}reauthenticateWithPopup(O){return nn(this.auth,P.e(this._delegate,O,Ye))}reauthenticateWithRedirect(O){var L=this;return(0,c.Z)(function*(){return yield An(P.aC(L.auth)),P.h(L._delegate,O,Ye)})()}sendEmailVerification(O){return P.aa(this._delegate,O)}unlink(O){var L=this;return(0,c.Z)(function*(){return yield P.aj(L._delegate,O),L})()}updateEmail(O){return P.af(this._delegate,O)}updatePassword(O){return P.ag(this._delegate,O)}updatePhoneNumber(O){return P.u(this._delegate,O)}updateProfile(O){return P.ae(this._delegate,O)}verifyBeforeUpdateEmail(O,L){return P.ab(this._delegate,O,L)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Pe.USER_MAP=new WeakMap;const pe=P.aw;let ze=(()=>{class M{constructor(L,ne){if(this.app=L,ne.isInitialized())return this._delegate=ne.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:ke}=L.options;pe(ke,"invalid-api-key",{appName:L.name}),pe(ke,"invalid-api-key",{appName:L.name});const Ue="undefined"!=typeof window?Ye:void 0;this._delegate=ne.initialize({options:{persistence:kt(ke,L.name),popupRedirectResolver:Ue}}),this._delegate._updateErrorMap(P.z),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Pe.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(L){this._delegate.languageCode=L}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(L){this._delegate.tenantId=L}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(L,ne){P.E(this._delegate,L,ne)}applyActionCode(L){return P.a1(this._delegate,L)}checkActionCode(L){return P.a2(this._delegate,L)}confirmPasswordReset(L,ne){return P.a0(this._delegate,L,ne)}createUserWithEmailAndPassword(L,ne){var ke=this;return(0,c.Z)(function*(){return nn(ke._delegate,P.a4(ke._delegate,L,ne))})()}fetchProvidersForEmail(L){return this.fetchSignInMethodsForEmail(L)}fetchSignInMethodsForEmail(L){return P.a9(this._delegate,L)}isSignInWithEmailLink(L){return P.a7(this._delegate,L)}getRedirectResult(){var L=this;return(0,c.Z)(function*(){pe(Di(),L._delegate,"operation-not-supported-in-this-environment");const ne=yield P.j(L._delegate,Ye);return ne?nn(L._delegate,Promise.resolve(ne)):{credential:null,user:null}})()}addFrameworkForLogging(L){!function _n(M,O){(0,P.aC)(M)._logFramework(O)}(this._delegate,L)}onAuthStateChanged(L,ne,ke){const{next:Ue,error:mt,complete:We}=rt(L,ne,ke);return this._delegate.onAuthStateChanged(Ue,mt,We)}onIdTokenChanged(L,ne,ke){const{next:Ue,error:mt,complete:We}=rt(L,ne,ke);return this._delegate.onIdTokenChanged(Ue,mt,We)}sendSignInLinkToEmail(L,ne){return P.a6(this._delegate,L,ne)}sendPasswordResetEmail(L,ne){return P.$(this._delegate,L,ne||void 0)}setPersistence(L){var ne=this;return(0,c.Z)(function*(){let ke;switch(function Ln(M,O){ri(Object.values(Xt).includes(O),M,"invalid-persistence-type"),(0,le.b$)()?ri(O!==Xt.SESSION,M,"unsupported-persistence-type"):(0,le.UG)()?ri(O===Xt.NONE,M,"unsupported-persistence-type"):yr()?ri(O===Xt.NONE||O===Xt.LOCAL&&(0,le.hl)(),M,"unsupported-persistence-type"):ri(O===Xt.NONE||sr(),M,"unsupported-persistence-type")}(ne._delegate,L),L){case Xt.SESSION:ke=P.a;break;case Xt.LOCAL:ke=(yield P.ax(P.i)._isAvailable())?P.i:P.b;break;case Xt.NONE:ke=P.K;break;default:return P.as("argument-error",{appName:ne._delegate.name})}return ne._delegate.setPersistence(ke)})()}signInAndRetrieveDataWithCredential(L){return this.signInWithCredential(L)}signInAnonymously(){return nn(this._delegate,P.W(this._delegate))}signInWithCredential(L){return nn(this._delegate,P.X(this._delegate,L))}signInWithCustomToken(L){return nn(this._delegate,P._(this._delegate,L))}signInWithEmailAndPassword(L,ne){return nn(this._delegate,P.a5(this._delegate,L,ne))}signInWithEmailLink(L,ne){return nn(this._delegate,P.a8(this._delegate,L,ne))}signInWithPhoneNumber(L,ne){return lt(this._delegate,P.s(this._delegate,L,ne))}signInWithPopup(L){var ne=this;return(0,c.Z)(function*(){return pe(Di(),ne._delegate,"operation-not-supported-in-this-environment"),nn(ne._delegate,P.c(ne._delegate,L,Ye))})()}signInWithRedirect(L){var ne=this;return(0,c.Z)(function*(){return pe(Di(),ne._delegate,"operation-not-supported-in-this-environment"),yield An(ne._delegate),P.f(ne._delegate,L,Ye)})()}updateCurrentUser(L){return this._delegate.updateCurrentUser(L)}verifyPasswordResetCode(L){return P.a3(this._delegate,L)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return M.Persistence=Xt,M})();function rt(M,O,L){let ne=M;"function"!=typeof M&&({next:ne,error:O,complete:L}=M);const ke=ne;return{next:mt=>ke(mt&&Pe.getOrCreate(mt)),error:O,complete:L}}function kt(M,O){const L=function ro(M,O){const L=Rt();if(!L)return[];const ne=P.ay(Br,M,O);switch(L.getItem(ne)){case Xt.NONE:return[P.K];case Xt.LOCAL:return[P.i,P.a];case Xt.SESSION:return[P.a];default:return[]}}(M,O);if("undefined"!=typeof self&&!L.includes(P.i)&&L.push(P.i),"undefined"!=typeof window)for(const ne of[P.b,P.a])L.includes(ne)||L.push(ne);return L.includes(P.K)||L.push(P.K),L}class xt{constructor(){this.providerId="phone",this._delegate=new P.P(vr(B.Z.auth()))}static credential(O,L){return P.P.credential(O,L)}verifyPhoneNumber(O,L){return this._delegate.verifyPhoneNumber(O,L)}unwrap(){return this._delegate}}xt.PHONE_SIGN_IN_METHOD=P.P.PHONE_SIGN_IN_METHOD,xt.PROVIDER_ID=P.P.PROVIDER_ID;const j=P.aw;class N{constructor(O,L,ne=B.Z.app()){var ke;j(null===(ke=ne.options)||void 0===ke?void 0:ke.apiKey,"invalid-api-key",{appName:ne.name}),this._delegate=new P.R(O,L,ne.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function re(M){M.INTERNAL.registerComponent(new de.wA("auth-compat",O=>{const L=O.getProvider("app-compat").getImmediate(),ne=O.getProvider("auth");return new ze(L,ne)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:P.A.EMAIL_SIGNIN,PASSWORD_RESET:P.A.PASSWORD_RESET,RECOVER_EMAIL:P.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:P.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:P.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:P.A.VERIFY_EMAIL}},EmailAuthProvider:P.L,FacebookAuthProvider:P.M,GithubAuthProvider:P.Q,GoogleAuthProvider:P.N,OAuthProvider:P.T,SAMLAuthProvider:P.U,PhoneAuthProvider:xt,PhoneMultiFactorGenerator:P.m,RecaptchaVerifier:N,TwitterAuthProvider:P.V,Auth:ze,AuthCredential:P.G,Error:le.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),M.registerVersion("@firebase/auth-compat","0.2.12")}(B.Z)},8306:(ut,Ce,F)=>{F.d(Ce,{y:()=>z});var c=F(930),B=F(727),P=F(8822),le=F(4671);var de=F(2416),he=F(576),Ie=F(2806);let z=(()=>{class Ae{constructor(Se){Se&&(this._subscribe=Se)}lift(Se){const X=new Ae;return X.source=this,X.operator=Se,X}subscribe(Se,X,Ee){const $e=function je(Ae){return Ae&&Ae instanceof c.Lv||function K(Ae){return Ae&&(0,he.m)(Ae.next)&&(0,he.m)(Ae.error)&&(0,he.m)(Ae.complete)}(Ae)&&(0,B.Nn)(Ae)}(Se)?Se:new c.Hp(Se,X,Ee);return(0,Ie.x)(()=>{const{operator:Ve,source:De}=this;$e.add(Ve?Ve.call($e,De):De?this._subscribe($e):this._trySubscribe($e))}),$e}_trySubscribe(Se){try{return this._subscribe(Se)}catch(X){Se.error(X)}}forEach(Se,X){return new(X=$(X))((Ee,$e)=>{const Ve=new c.Hp({next:De=>{try{Se(De)}catch(ge){$e(ge),Ve.unsubscribe()}},error:$e,complete:Ee});this.subscribe(Ve)})}_subscribe(Se){var X;return null===(X=this.source)||void 0===X?void 0:X.subscribe(Se)}[P.L](){return this}pipe(...Se){return function ve(Ae){return 0===Ae.length?le.y:1===Ae.length?Ae[0]:function(Se){return Ae.reduce((X,Ee)=>Ee(X),Se)}}(Se)(this)}toPromise(Se){return new(Se=$(Se))((X,Ee)=>{let $e;this.subscribe(Ve=>$e=Ve,Ve=>Ee(Ve),()=>X($e))})}}return Ae.create=Re=>new Ae(Re),Ae})();function $(Ae){var Re;return null!==(Re=null!=Ae?Ae:de.v.Promise)&&void 0!==Re?Re:Promise}},7579:(ut,Ce,F)=>{F.d(Ce,{x:()=>de});var c=F(8306),B=F(727);const le=(0,F(3888).d)(Ie=>function(){Ie(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ye=F(8737),ve=F(2806);let de=(()=>{class Ie extends c.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift($){const K=new he(this,this);return K.operator=$,K}_throwIfClosed(){if(this.closed)throw new le}next($){(0,ve.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const K of this.currentObservers)K.next($)}})}error($){(0,ve.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=$;const{observers:K}=this;for(;K.length;)K.shift().error($)}})}complete(){(0,ve.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:$}=this;for(;$.length;)$.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var $;return(null===($=this.observers)||void 0===$?void 0:$.length)>0}_trySubscribe($){return this._throwIfClosed(),super._trySubscribe($)}_subscribe($){return this._throwIfClosed(),this._checkFinalizedStatuses($),this._innerSubscribe($)}_innerSubscribe($){const{hasError:K,isStopped:je,observers:Ae}=this;return K||je?B.Lc:(this.currentObservers=null,Ae.push($),new B.w0(()=>{this.currentObservers=null,(0,ye.P)(Ae,$)}))}_checkFinalizedStatuses($){const{hasError:K,thrownError:je,isStopped:Ae}=this;K?$.error(je):Ae&&$.complete()}asObservable(){const $=new c.y;return $.source=this,$}}return Ie.create=(z,$)=>new he(z,$),Ie})();class he extends de{constructor(z,$){super(),this.destination=z,this.source=$}next(z){var $,K;null===(K=null===($=this.destination)||void 0===$?void 0:$.next)||void 0===K||K.call($,z)}error(z){var $,K;null===(K=null===($=this.destination)||void 0===$?void 0:$.error)||void 0===K||K.call($,z)}complete(){var z,$;null===($=null===(z=this.destination)||void 0===z?void 0:z.complete)||void 0===$||$.call(z)}_subscribe(z){var $,K;return null!==(K=null===($=this.source)||void 0===$?void 0:$.subscribe(z))&&void 0!==K?K:B.Lc}}},930:(ut,Ce,F)=>{F.d(Ce,{Hp:()=>Se,Lv:()=>K});var c=F(576),B=F(727),P=F(2416),le=F(7849),ye=F(5032);const ve=Ie("C",void 0,void 0);function Ie(De,ge,ue){return{kind:De,value:ge,error:ue}}var z=F(3410),$=F(2806);class K extends B.w0{constructor(ge){super(),this.isStopped=!1,ge?(this.destination=ge,(0,B.Nn)(ge)&&ge.add(this)):this.destination=Ve}static create(ge,ue,Fe){return new Se(ge,ue,Fe)}next(ge){this.isStopped?$e(function he(De){return Ie("N",De,void 0)}(ge),this):this._next(ge)}error(ge){this.isStopped?$e(function de(De){return Ie("E",void 0,De)}(ge),this):(this.isStopped=!0,this._error(ge))}complete(){this.isStopped?$e(ve,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ge){this.destination.next(ge)}_error(ge){try{this.destination.error(ge)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const je=Function.prototype.bind;function Ae(De,ge){return je.call(De,ge)}class Re{constructor(ge){this.partialObserver=ge}next(ge){const{partialObserver:ue}=this;if(ue.next)try{ue.next(ge)}catch(Fe){X(Fe)}}error(ge){const{partialObserver:ue}=this;if(ue.error)try{ue.error(ge)}catch(Fe){X(Fe)}else X(ge)}complete(){const{partialObserver:ge}=this;if(ge.complete)try{ge.complete()}catch(ue){X(ue)}}}class Se extends K{constructor(ge,ue,Fe){let Q;if(super(),(0,c.m)(ge)||!ge)Q={next:null!=ge?ge:void 0,error:null!=ue?ue:void 0,complete:null!=Fe?Fe:void 0};else{let Be;this&&P.v.useDeprecatedNextContext?(Be=Object.create(ge),Be.unsubscribe=()=>this.unsubscribe(),Q={next:ge.next&&Ae(ge.next,Be),error:ge.error&&Ae(ge.error,Be),complete:ge.complete&&Ae(ge.complete,Be)}):Q=ge}this.destination=new Re(Q)}}function X(De){P.v.useDeprecatedSynchronousErrorHandling?(0,$.O)(De):(0,le.h)(De)}function $e(De,ge){const{onStoppedNotification:ue}=P.v;ue&&z.z.setTimeout(()=>ue(De,ge))}const Ve={closed:!0,next:ye.Z,error:function Ee(De){throw De},complete:ye.Z}},727:(ut,Ce,F)=>{F.d(Ce,{Lc:()=>ve,w0:()=>ye,Nn:()=>de});var c=F(576);const P=(0,F(3888).d)(Ie=>function($){Ie(this),this.message=$?`${$.length} errors occurred during unsubscription:\n${$.map((K,je)=>`${je+1}) ${K.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=$});var le=F(8737);class ye{constructor(z){this.initialTeardown=z,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let z;if(!this.closed){this.closed=!0;const{_parentage:$}=this;if($)if(this._parentage=null,Array.isArray($))for(const Ae of $)Ae.remove(this);else $.remove(this);const{initialTeardown:K}=this;if((0,c.m)(K))try{K()}catch(Ae){z=Ae instanceof P?Ae.errors:[Ae]}const{_finalizers:je}=this;if(je){this._finalizers=null;for(const Ae of je)try{he(Ae)}catch(Re){z=null!=z?z:[],Re instanceof P?z=[...z,...Re.errors]:z.push(Re)}}if(z)throw new P(z)}}add(z){var $;if(z&&z!==this)if(this.closed)he(z);else{if(z instanceof ye){if(z.closed||z._hasParent(this))return;z._addParent(this)}(this._finalizers=null!==($=this._finalizers)&&void 0!==$?$:[]).push(z)}}_hasParent(z){const{_parentage:$}=this;return $===z||Array.isArray($)&&$.includes(z)}_addParent(z){const{_parentage:$}=this;this._parentage=Array.isArray($)?($.push(z),$):$?[$,z]:z}_removeParent(z){const{_parentage:$}=this;$===z?this._parentage=null:Array.isArray($)&&(0,le.P)($,z)}remove(z){const{_finalizers:$}=this;$&&(0,le.P)($,z),z instanceof ye&&z._removeParent(this)}}ye.EMPTY=(()=>{const Ie=new ye;return Ie.closed=!0,Ie})();const ve=ye.EMPTY;function de(Ie){return Ie instanceof ye||Ie&&"closed"in Ie&&(0,c.m)(Ie.remove)&&(0,c.m)(Ie.add)&&(0,c.m)(Ie.unsubscribe)}function he(Ie){(0,c.m)(Ie)?Ie():Ie.unsubscribe()}},2416:(ut,Ce,F)=>{F.d(Ce,{v:()=>c});const c={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(ut,Ce,F)=>{F.d(Ce,{E:()=>B});const B=new(F(8306).y)(ye=>ye.complete())},8996:(ut,Ce,F)=>{F.d(Ce,{D:()=>ge});var c=F(8421),B=F(5363),P=F(9468),ve=F(8306),he=F(2202),Ie=F(576),z=F(9672);function K(ue,Fe){if(!ue)throw new Error("Iterable cannot be null");return new ve.y(Q=>{(0,z.f)(Q,Fe,()=>{const Be=ue[Symbol.asyncIterator]();(0,z.f)(Q,Fe,()=>{Be.next().then(Y=>{Y.done?Q.complete():Q.next(Y.value)})},0,!0)})})}var je=F(3670),Ae=F(8239),Re=F(1144),Se=F(6495),X=F(2206),Ee=F(4532),$e=F(3260);function ge(ue,Fe){return Fe?function De(ue,Fe){if(null!=ue){if((0,je.c)(ue))return function le(ue,Fe){return(0,c.Xf)(ue).pipe((0,P.R)(Fe),(0,B.Q)(Fe))}(ue,Fe);if((0,Re.z)(ue))return function de(ue,Fe){return new ve.y(Q=>{let Be=0;return Fe.schedule(function(){Be===ue.length?Q.complete():(Q.next(ue[Be++]),Q.closed||this.schedule())})})}(ue,Fe);if((0,Ae.t)(ue))return function ye(ue,Fe){return(0,c.Xf)(ue).pipe((0,P.R)(Fe),(0,B.Q)(Fe))}(ue,Fe);if((0,X.D)(ue))return K(ue,Fe);if((0,Se.T)(ue))return function $(ue,Fe){return new ve.y(Q=>{let Be;return(0,z.f)(Q,Fe,()=>{Be=ue[he.h](),(0,z.f)(Q,Fe,()=>{let Y,se;try{({value:Y,done:se}=Be.next())}catch(te){return void Q.error(te)}se?Q.complete():Q.next(Y)},0,!0)}),()=>(0,Ie.m)(null==Be?void 0:Be.return)&&Be.return()})}(ue,Fe);if((0,$e.L)(ue))return function Ve(ue,Fe){return K((0,$e.Q)(ue),Fe)}(ue,Fe)}throw(0,Ee.z)(ue)}(ue,Fe):(0,c.Xf)(ue)}},8421:(ut,Ce,F)=>{F.d(Ce,{Xf:()=>je});var c=F(655),B=F(1144),P=F(8239),le=F(8306),ye=F(3670),ve=F(2206),de=F(4532),he=F(6495),Ie=F(3260),z=F(576),$=F(7849),K=F(8822);function je(De){if(De instanceof le.y)return De;if(null!=De){if((0,ye.c)(De))return function Ae(De){return new le.y(ge=>{const ue=De[K.L]();if((0,z.m)(ue.subscribe))return ue.subscribe(ge);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(De);if((0,B.z)(De))return function Re(De){return new le.y(ge=>{for(let ue=0;ue<De.length&&!ge.closed;ue++)ge.next(De[ue]);ge.complete()})}(De);if((0,P.t)(De))return function Se(De){return new le.y(ge=>{De.then(ue=>{ge.closed||(ge.next(ue),ge.complete())},ue=>ge.error(ue)).then(null,$.h)})}(De);if((0,ve.D)(De))return Ee(De);if((0,he.T)(De))return function X(De){return new le.y(ge=>{for(const ue of De)if(ge.next(ue),ge.closed)return;ge.complete()})}(De);if((0,Ie.L)(De))return function $e(De){return Ee((0,Ie.Q)(De))}(De)}throw(0,de.z)(De)}function Ee(De){return new le.y(ge=>{(function Ve(De,ge){var ue,Fe,Q,Be;return(0,c.mG)(this,void 0,void 0,function*(){try{for(ue=(0,c.KL)(De);!(Fe=yield ue.next()).done;)if(ge.next(Fe.value),ge.closed)return}catch(Y){Q={error:Y}}finally{try{Fe&&!Fe.done&&(Be=ue.return)&&(yield Be.call(ue))}finally{if(Q)throw Q.error}}ge.complete()})})(De,ge).catch(ue=>ge.error(ue))})}},6451:(ut,Ce,F)=>{F.d(Ce,{T:()=>ve});var c=F(8189),B=F(8421),P=F(515),le=F(3269),ye=F(8996);function ve(...de){const he=(0,le.yG)(de),Ie=(0,le._6)(de,1/0),z=de;return z.length?1===z.length?(0,B.Xf)(z[0]):(0,c.J)(Ie)((0,ye.D)(z,he)):P.E}},5403:(ut,Ce,F)=>{F.d(Ce,{x:()=>B});var c=F(930);function B(le,ye,ve,de,he){return new P(le,ye,ve,de,he)}class P extends c.Lv{constructor(ye,ve,de,he,Ie,z){super(ye),this.onFinalize=Ie,this.shouldUnsubscribe=z,this._next=ve?function($){try{ve($)}catch(K){ye.error(K)}}:super._next,this._error=he?function($){try{he($)}catch(K){ye.error(K)}finally{this.unsubscribe()}}:super._error,this._complete=de?function(){try{de()}catch($){ye.error($)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ye;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ve}=this;super.unsubscribe(),!ve&&(null===(ye=this.onFinalize)||void 0===ye||ye.call(this))}}}},4004:(ut,Ce,F)=>{F.d(Ce,{U:()=>P});var c=F(4482),B=F(5403);function P(le,ye){return(0,c.e)((ve,de)=>{let he=0;ve.subscribe((0,B.x)(de,Ie=>{de.next(le.call(ye,Ie,he++))}))})}},8189:(ut,Ce,F)=>{F.d(Ce,{J:()=>P});var c=F(5577),B=F(4671);function P(le=1/0){return(0,c.z)(B.y,le)}},5577:(ut,Ce,F)=>{F.d(Ce,{z:()=>he});var c=F(4004),B=F(8421),P=F(4482),le=F(9672),ye=F(5403),de=F(576);function he(Ie,z,$=1/0){return(0,de.m)(z)?he((K,je)=>(0,c.U)((Ae,Re)=>z(K,Ae,je,Re))((0,B.Xf)(Ie(K,je))),$):("number"==typeof z&&($=z),(0,P.e)((K,je)=>function ve(Ie,z,$,K,je,Ae,Re,Se){const X=[];let Ee=0,$e=0,Ve=!1;const De=()=>{Ve&&!X.length&&!Ee&&z.complete()},ge=Fe=>Ee<K?ue(Fe):X.push(Fe),ue=Fe=>{Ae&&z.next(Fe),Ee++;let Q=!1;(0,B.Xf)($(Fe,$e++)).subscribe((0,ye.x)(z,Be=>{null==je||je(Be),Ae?ge(Be):z.next(Be)},()=>{Q=!0},void 0,()=>{if(Q)try{for(Ee--;X.length&&Ee<K;){const Be=X.shift();Re?(0,le.f)(z,Re,()=>ue(Be)):ue(Be)}De()}catch(Be){z.error(Be)}}))};return Ie.subscribe((0,ye.x)(z,ge,()=>{Ve=!0,De()})),()=>{null==Se||Se()}}(K,je,Ie,$)))}},5363:(ut,Ce,F)=>{F.d(Ce,{Q:()=>le});var c=F(9672),B=F(4482),P=F(5403);function le(ye,ve=0){return(0,B.e)((de,he)=>{de.subscribe((0,P.x)(he,Ie=>(0,c.f)(he,ye,()=>he.next(Ie),ve),()=>(0,c.f)(he,ye,()=>he.complete(),ve),Ie=>(0,c.f)(he,ye,()=>he.error(Ie),ve)))})}},3099:(ut,Ce,F)=>{F.d(Ce,{B:()=>ve});var c=F(8996),B=F(5698),P=F(7579),le=F(930),ye=F(4482);function ve(he={}){const{connector:Ie=(()=>new P.x),resetOnError:z=!0,resetOnComplete:$=!0,resetOnRefCountZero:K=!0}=he;return je=>{let Ae=null,Re=null,Se=null,X=0,Ee=!1,$e=!1;const Ve=()=>{null==Re||Re.unsubscribe(),Re=null},De=()=>{Ve(),Ae=Se=null,Ee=$e=!1},ge=()=>{const ue=Ae;De(),null==ue||ue.unsubscribe()};return(0,ye.e)((ue,Fe)=>{X++,!$e&&!Ee&&Ve();const Q=Se=null!=Se?Se:Ie();Fe.add(()=>{X--,0===X&&!$e&&!Ee&&(Re=de(ge,K))}),Q.subscribe(Fe),Ae||(Ae=new le.Hp({next:Be=>Q.next(Be),error:Be=>{$e=!0,Ve(),Re=de(De,z,Be),Q.error(Be)},complete:()=>{Ee=!0,Ve(),Re=de(De,$),Q.complete()}}),(0,c.D)(ue).subscribe(Ae))})(je)}}function de(he,Ie,...z){return!0===Ie?(he(),null):!1===Ie?null:Ie(...z).pipe((0,B.q)(1)).subscribe(()=>he())}},9468:(ut,Ce,F)=>{F.d(Ce,{R:()=>B});var c=F(4482);function B(P,le=0){return(0,c.e)((ye,ve)=>{ve.add(P.schedule(()=>ye.subscribe(ve),le))})}},5698:(ut,Ce,F)=>{F.d(Ce,{q:()=>le});var c=F(515),B=F(4482),P=F(5403);function le(ye){return ye<=0?()=>c.E:(0,B.e)((ve,de)=>{let he=0;ve.subscribe((0,P.x)(de,Ie=>{++he<=ye&&(de.next(Ie),ye<=he&&de.complete())}))})}},3410:(ut,Ce,F)=>{F.d(Ce,{z:()=>c});const c={setTimeout(B,P,...le){const{delegate:ye}=c;return(null==ye?void 0:ye.setTimeout)?ye.setTimeout(B,P,...le):setTimeout(B,P,...le)},clearTimeout(B){const{delegate:P}=c;return((null==P?void 0:P.clearTimeout)||clearTimeout)(B)},delegate:void 0}},2202:(ut,Ce,F)=>{F.d(Ce,{h:()=>B});const B=function c(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(ut,Ce,F)=>{F.d(Ce,{L:()=>c});const c="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(ut,Ce,F)=>{F.d(Ce,{_6:()=>ve,jO:()=>le,yG:()=>ye});var c=F(576),B=F(3532);function P(de){return de[de.length-1]}function le(de){return(0,c.m)(P(de))?de.pop():void 0}function ye(de){return(0,B.K)(P(de))?de.pop():void 0}function ve(de,he){return"number"==typeof P(de)?de.pop():he}},8737:(ut,Ce,F)=>{function c(B,P){if(B){const le=B.indexOf(P);0<=le&&B.splice(le,1)}}F.d(Ce,{P:()=>c})},3888:(ut,Ce,F)=>{function c(B){const le=B(ye=>{Error.call(ye),ye.stack=(new Error).stack});return le.prototype=Object.create(Error.prototype),le.prototype.constructor=le,le}F.d(Ce,{d:()=>c})},2806:(ut,Ce,F)=>{F.d(Ce,{O:()=>le,x:()=>P});var c=F(2416);let B=null;function P(ye){if(c.v.useDeprecatedSynchronousErrorHandling){const ve=!B;if(ve&&(B={errorThrown:!1,error:null}),ye(),ve){const{errorThrown:de,error:he}=B;if(B=null,de)throw he}}else ye()}function le(ye){c.v.useDeprecatedSynchronousErrorHandling&&B&&(B.errorThrown=!0,B.error=ye)}},9672:(ut,Ce,F)=>{function c(B,P,le,ye=0,ve=!1){const de=P.schedule(function(){le(),ve?B.add(this.schedule(null,ye)):this.unsubscribe()},ye);if(B.add(de),!ve)return de}F.d(Ce,{f:()=>c})},4671:(ut,Ce,F)=>{function c(B){return B}F.d(Ce,{y:()=>c})},1144:(ut,Ce,F)=>{F.d(Ce,{z:()=>c});const c=B=>B&&"number"==typeof B.length&&"function"!=typeof B},2206:(ut,Ce,F)=>{F.d(Ce,{D:()=>B});var c=F(576);function B(P){return Symbol.asyncIterator&&(0,c.m)(null==P?void 0:P[Symbol.asyncIterator])}},576:(ut,Ce,F)=>{function c(B){return"function"==typeof B}F.d(Ce,{m:()=>c})},3670:(ut,Ce,F)=>{F.d(Ce,{c:()=>P});var c=F(8822),B=F(576);function P(le){return(0,B.m)(le[c.L])}},6495:(ut,Ce,F)=>{F.d(Ce,{T:()=>P});var c=F(2202),B=F(576);function P(le){return(0,B.m)(null==le?void 0:le[c.h])}},8239:(ut,Ce,F)=>{F.d(Ce,{t:()=>B});var c=F(576);function B(P){return(0,c.m)(null==P?void 0:P.then)}},3260:(ut,Ce,F)=>{F.d(Ce,{L:()=>le,Q:()=>P});var c=F(655),B=F(576);function P(ye){return(0,c.FC)(this,arguments,function*(){const de=ye.getReader();try{for(;;){const{value:he,done:Ie}=yield(0,c.qq)(de.read());if(Ie)return yield(0,c.qq)(void 0);yield yield(0,c.qq)(he)}}finally{de.releaseLock()}})}function le(ye){return(0,B.m)(null==ye?void 0:ye.getReader)}},3532:(ut,Ce,F)=>{F.d(Ce,{K:()=>B});var c=F(576);function B(P){return P&&(0,c.m)(P.schedule)}},4482:(ut,Ce,F)=>{F.d(Ce,{A:()=>B,e:()=>P});var c=F(576);function B(le){return(0,c.m)(null==le?void 0:le.lift)}function P(le){return ye=>{if(B(ye))return ye.lift(function(ve){try{return le(ve,this)}catch(de){this.error(de)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(ut,Ce,F)=>{function c(){}F.d(Ce,{Z:()=>c})},7849:(ut,Ce,F)=>{F.d(Ce,{h:()=>P});var c=F(2416),B=F(3410);function P(le){B.z.setTimeout(()=>{const{onUnhandledError:ye}=c.v;if(!ye)throw le;ye(le)})}},4532:(ut,Ce,F)=>{function c(B){return new TypeError(`You provided ${null!==B&&"object"==typeof B?"an invalid object":`'${B}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}F.d(Ce,{z:()=>c})},655:(ut,Ce,F)=>{function le(Y,se){var te={};for(var oe in Y)Object.prototype.hasOwnProperty.call(Y,oe)&&se.indexOf(oe)<0&&(te[oe]=Y[oe]);if(null!=Y&&"function"==typeof Object.getOwnPropertySymbols){var Te=0;for(oe=Object.getOwnPropertySymbols(Y);Te<oe.length;Te++)se.indexOf(oe[Te])<0&&Object.prototype.propertyIsEnumerable.call(Y,oe[Te])&&(te[oe[Te]]=Y[oe[Te]])}return te}function he(Y,se,te,oe){return new(te||(te=Promise))(function(ee,_t){function qt(st){try{it(oe.next(st))}catch(_n){_t(_n)}}function Fn(st){try{it(oe.throw(st))}catch(_n){_t(_n)}}function it(st){st.done?ee(st.value):function Te(ee){return ee instanceof te?ee:new te(function(_t){_t(ee)})}(st.value).then(qt,Fn)}it((oe=oe.apply(Y,se||[])).next())})}function X(Y){return this instanceof X?(this.v=Y,this):new X(Y)}function Ee(Y,se,te){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Te,oe=te.apply(Y,se||[]),ee=[];return Te={},_t("next"),_t("throw"),_t("return"),Te[Symbol.asyncIterator]=function(){return this},Te;function _t(pn){oe[pn]&&(Te[pn]=function(gr){return new Promise(function(Yt,zt){ee.push([pn,gr,Yt,zt])>1||qt(pn,gr)})})}function qt(pn,gr){try{!function Fn(pn){pn.value instanceof X?Promise.resolve(pn.value.v).then(it,st):_n(ee[0][2],pn)}(oe[pn](gr))}catch(Yt){_n(ee[0][3],Yt)}}function it(pn){qt("next",pn)}function st(pn){qt("throw",pn)}function _n(pn,gr){pn(gr),ee.shift(),ee.length&&qt(ee[0][0],ee[0][1])}}function Ve(Y){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var te,se=Y[Symbol.asyncIterator];return se?se.call(Y):(Y=function K(Y){var se="function"==typeof Symbol&&Symbol.iterator,te=se&&Y[se],oe=0;if(te)return te.call(Y);if(Y&&"number"==typeof Y.length)return{next:function(){return Y&&oe>=Y.length&&(Y=void 0),{value:Y&&Y[oe++],done:!Y}}};throw new TypeError(se?"Object is not iterable.":"Symbol.iterator is not defined.")}(Y),te={},oe("next"),oe("throw"),oe("return"),te[Symbol.asyncIterator]=function(){return this},te);function oe(ee){te[ee]=Y[ee]&&function(_t){return new Promise(function(qt,Fn){!function Te(ee,_t,qt,Fn){Promise.resolve(Fn).then(function(it){ee({value:it,done:qt})},_t)}(qt,Fn,(_t=Y[ee](_t)).done,_t.value)})}}}F.d(Ce,{FC:()=>Ee,KL:()=>Ve,_T:()=>le,mG:()=>he,qq:()=>X})},5e3:(ut,Ce,F)=>{F.d(Ce,{$8M:()=>Cc,$Z:()=>lw,AFp:()=>Xp,ALo:()=>uy,AaK:()=>he,BQk:()=>pp,CHM:()=>ag,CRH:()=>Hp,CZH:()=>My,CqO:()=>dw,EJc:()=>LT,EpF:()=>mp,F$t:()=>pw,F4k:()=>uw,FYo:()=>EC,FiY:()=>fs,G48:()=>jy,Gf:()=>jp,GfV:()=>nT,Gpc:()=>$,Gre:()=>cS,Hsn:()=>F_,Ikx:()=>Sp,JOm:()=>Ao,LFG:()=>ci,LSH:()=>Uf,Lbi:()=>wP,MAs:()=>Gc,NdJ:()=>k_,O4$:()=>Fb,OlP:()=>wn,Oqu:()=>Ep,PXZ:()=>ou,Q6J:()=>S_,QGY:()=>cw,Qsj:()=>sP,R0b:()=>Ds,RDi:()=>ff,Rgc:()=>eu,SBq:()=>Xd,Sil:()=>BT,Suo:()=>oh,TTD:()=>Ua,TgZ:()=>fp,Udp:()=>$_,VLi:()=>XC,WFA:()=>gp,X6Q:()=>Uy,XFs:()=>at,Xpm:()=>xt,Y36:()=>jd,YKP:()=>TC,YNc:()=>Cs,Yjl:()=>ke,Yz7:()=>Yt,ZZ4:()=>hh,_Bn:()=>KS,_UZ:()=>Hd,_Vd:()=>Rp,_c5:()=>cM,_uU:()=>z_,aQg:()=>dm,c2e:()=>em,cJS:()=>Zt,cg1:()=>Tp,d8E:()=>xl,dDg:()=>nm,deG:()=>sd,dqk:()=>Lt,eFA:()=>eE,ekj:()=>vp,f3M:()=>xf,g9A:()=>FT,h0i:()=>th,hGG:()=>qy,hij:()=>Dp,iGM:()=>Up,ifc:()=>Rt,ip1:()=>PT,kL8:()=>Gw,kcU:()=>Nb,lG2:()=>ne,n5z:()=>wc,n_E:()=>ih,oAB:()=>M,oxw:()=>fw,q4F:()=>iy,qLn:()=>zf,qOj:()=>g_,qZA:()=>Al,sBO:()=>eM,sIi:()=>wl,s_b:()=>Lp,soG:()=>xy,tBr:()=>js,tb:()=>NT,tp0:()=>$r,uIk:()=>rp,vHH:()=>Re,vpe:()=>Qr,wAp:()=>pt,xi3:()=>kC,xp6:()=>ZI,ynx:()=>$d,z2F:()=>Ly,zSh:()=>ep,zs3:()=>Ks});var c=F(7579),B=F(727),P=F(8306),le=F(6451),ye=F(3099);function ve(s){for(let o in s)if(s[o]===ve)return o;throw Error("Could not find renamed property on target object.")}function de(s,o){for(const l in o)o.hasOwnProperty(l)&&!s.hasOwnProperty(l)&&(s[l]=o[l])}function he(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(he).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const l=o.indexOf("\n");return-1===l?o:o.substring(0,l)}function Ie(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const z=ve({__forward_ref__:ve});function $(s){return s.__forward_ref__=$,s.toString=function(){return he(this())},s}function K(s){return je(s)?s():s}function je(s){return"function"==typeof s&&s.hasOwnProperty(z)&&s.__forward_ref__===$}class Re extends Error{constructor(o,l){super(function Se(s,o){return`NG0${Math.abs(s)}${o?": "+o:""}`}(o,l)),this.code=o}}function X(s){return"string"==typeof s?s:null==s?"":String(s)}function Ee(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():X(s)}function ge(s,o){const l=o?` in ${o}`:"";throw new Re(-201,`No provider for ${Ee(s)} found${l}`)}function it(s,o){null==s&&function st(s,o,l,d){throw new Error(`ASSERTION ERROR: ${s}`+(null==d?"":` [Expected=> ${l} ${d} ${o} <=Actual]`))}(o,s,null,"!=")}function Yt(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function Zt(s){return{providers:s.providers||[],imports:s.imports||[]}}function yn(s){return _r(s,sr)||_r(s,Di)}function _r(s,o){return s.hasOwnProperty(o)?s[o]:null}function Vr(s){return s&&(s.hasOwnProperty(yr)||s.hasOwnProperty(io))?s[yr]:null}const sr=ve({\u0275prov:ve}),yr=ve({\u0275inj:ve}),Di=ve({ngInjectableDef:ve}),io=ve({ngInjectorDef:ve});var at=(()=>((at=at||{})[at.Default=0]="Default",at[at.Host=1]="Host",at[at.Self=2]="Self",at[at.SkipSelf=4]="SkipSelf",at[at.Optional=8]="Optional",at))();let ji;function Xt(s){const o=ji;return ji=s,o}function ri(s,o,l){const d=yn(s);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:l&at.Optional?null:void 0!==o?o:void ge(he(s),"Injector")}function Ln(s){return{toString:s}.toString()}var An=(()=>((An=An||{})[An.OnPush=0]="OnPush",An[An.Default=1]="Default",An))(),Rt=(()=>{return(s=Rt||(Rt={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",Rt;var s})();const ot="undefined"!=typeof globalThis&&globalThis,Ye="undefined"!=typeof window&&window,vr="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Lt=ot||"undefined"!=typeof global&&global||Ye||vr,nn={},lt=[],Vn=ve({\u0275cmp:ve}),Bt=ve({\u0275dir:ve}),Pe=ve({\u0275pipe:ve}),pe=ve({\u0275mod:ve}),ze=ve({\u0275fac:ve}),rt=ve({__NG_ELEMENT_ID__:ve});let kt=0;function xt(s){return Ln(()=>{const l={},d={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:l,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===An.OnPush,directiveDefs:null,pipeDefs:null,selectors:s.selectors||lt,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||Rt.Emulated,id:"c",styles:s.styles||lt,_:null,setInput:null,schemas:s.schemas||null,tView:null},h=s.directives,p=s.features,y=s.pipes;return d.id+=kt++,d.inputs=L(s.inputs,l),d.outputs=L(s.outputs),p&&p.forEach(w=>w(d)),d.directiveDefs=h?()=>("function"==typeof h?h():h).map(N):null,d.pipeDefs=y?()=>("function"==typeof y?y():y).map(G):null,d})}function N(s){return Ue(s)||function mt(s){return s[Bt]||null}(s)}function G(s){return function We(s){return s[Pe]||null}(s)}const re={};function M(s){return Ln(()=>{const o={type:s.type,bootstrap:s.bootstrap||lt,declarations:s.declarations||lt,imports:s.imports||lt,exports:s.exports||lt,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null};return null!=s.id&&(re[s.id]=s.type),o})}function L(s,o){if(null==s)return nn;const l={};for(const d in s)if(s.hasOwnProperty(d)){let h=s[d],p=h;Array.isArray(h)&&(p=h[1],h=h[0]),l[h]=d,o&&(o[h]=p)}return l}const ne=xt;function ke(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,onDestroy:s.type.prototype.ngOnDestroy||null}}function Ue(s){return s[Vn]||null}function vt(s,o){const l=s[pe]||null;if(!l&&!0===o)throw new Error(`Type ${he(s)} does not have '\u0275mod' property.`);return l}function Yn(s){return Array.isArray(s)&&"object"==typeof s[1]}function Si(s){return Array.isArray(s)&&!0===s[1]}function zo(s){return 0!=(8&s.flags)}function Ou(s){return 2==(2&s.flags)}function oo(s){return 1==(1&s.flags)}function Cr(s){return null!==s.template}function Pu(s){return 0!=(512&s[2])}function Er(s,o){return s.hasOwnProperty(ze)?s[ze]:null}class tg{constructor(o,l,d){this.previousValue=o,this.currentValue=l,this.firstChange=d}isFirstChange(){return this.firstChange}}function Ua(){return ic}function ic(s){return s.type.prototype.ngOnChanges&&(s.setInput=ja),ng}function ng(){const s=Wo(this),o=null==s?void 0:s.current;if(o){const l=s.previous;if(l===nn)s.previous=o;else for(let d in o)l[d]=o[d];s.current=null,this.ngOnChanges(o)}}function ja(s,o,l,d){const h=Wo(s)||function ig(s,o){return s[ao]=o}(s,{previous:nn,current:null}),p=h.current||(h.current={}),y=h.previous,w=this.declaredInputs[l],E=y[w];p[w]=new tg(E&&E.currentValue,o,y===nn),s[d]=o}Ua.ngInherit=!0;const ao="__ngSimpleChanges__";function Wo(s){return s[ao]||null}let oc;function ff(s){oc=s}function hn(s){return!!s.listen}const za={createRenderer:(s,o)=>function $a(){return void 0!==oc?oc:"undefined"!=typeof document?document:void 0}()};function cn(s){for(;Array.isArray(s);)s=s[0];return s}function Yo(s,o){return cn(o[s])}function ai(s,o){return cn(o[s.index])}function lc(s,o){return s.data[o]}function jr(s,o){return s[o]}function Ti(s,o){const l=o[s];return Yn(l)?l:l[0]}function lo(s){return 4==(4&s[2])}function Zo(s){return 128==(128&s[2])}function rs(s,o){return null==o?null:s[o]}function Fs(s){s[18]=0}function co(s,o){s[5]+=o;let l=s,d=s[3];for(;null!==d&&(1===o&&1===l[5]||-1===o&&0===l[5]);)d[5]+=o,l=d,d=d[3]}const ft={lFrame:Gu(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function dc(){return ft.bindingsEnabled}function _e(){return ft.lFrame.lView}function Nt(){return ft.lFrame.tView}function ag(s){return ft.lFrame.contextLView=s,s[8]}function fn(){let s=hc();for(;null!==s&&64===s.type;)s=s.parent;return s}function hc(){return ft.lFrame.currentTNode}function Dr(s,o){const l=ft.lFrame;l.currentTNode=s,l.isParent=o}function Uu(){return ft.lFrame.isParent}function Wa(){ft.lFrame.isParent=!1}function Ko(){return ft.isInCheckNoChangesMode}function fc(s){ft.isInCheckNoChangesMode=s}function Qo(){return ft.lFrame.bindingIndex++}function Ir(s){const o=ft.lFrame,l=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,l}function cg(s,o){const l=ft.lFrame;l.bindingIndex=l.bindingRootIndex=s,Hu(o)}function Hu(s){ft.lFrame.currentDirectiveIndex=s}function Jo(s){const o=ft.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}function ug(){return ft.lFrame.currentQueryIndex}function $u(s){ft.lFrame.currentQueryIndex=s}function dg(s){const o=s[1];return 2===o.type?o.declTNode:1===o.type?s[6]:null}function zu(s,o,l){if(l&at.SkipSelf){let h=o,p=s;for(;!(h=h.parent,null!==h||l&at.Host||(h=dg(p),null===h||(p=p[15],10&h.type))););if(null===h)return!1;o=h,s=p}const d=ft.lFrame=ho();return d.currentTNode=o,d.lView=s,!0}function gc(s){const o=ho(),l=s[1];ft.lFrame=o,o.currentTNode=l.firstChild,o.lView=s,o.tView=l,o.contextLView=s,o.bindingIndex=l.bindingStartIndex,o.inI18n=!1}function ho(){const s=ft.lFrame,o=null===s?null:s.child;return null===o?Gu(s):o}function Gu(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function hg(){const s=ft.lFrame;return ft.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const fg=hg;function Ya(){const s=hg();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function Mi(){return ft.lFrame.selectedIndex}function os(s){ft.lFrame.selectedIndex=s}function vn(){const s=ft.lFrame;return lc(s.tView,s.selectedIndex)}function Fb(){ft.lFrame.currentNamespace="svg"}function Nb(){!function Lb(){ft.lFrame.currentNamespace=null}()}function Za(s,o){for(let l=o.directiveStart,d=o.directiveEnd;l<d;l++){const p=s.data[l].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:w,ngAfterViewInit:E,ngAfterViewChecked:A,ngOnDestroy:T}=p;y&&(s.contentHooks||(s.contentHooks=[])).push(-l,y),w&&((s.contentHooks||(s.contentHooks=[])).push(l,w),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(l,w)),E&&(s.viewHooks||(s.viewHooks=[])).push(-l,E),A&&((s.viewHooks||(s.viewHooks=[])).push(l,A),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(l,A)),null!=T&&(s.destroyHooks||(s.destroyHooks=[])).push(l,T)}}function qu(s,o,l){mg(s,o,3,l)}function Wu(s,o,l,d){(3&s[2])===l&&mg(s,o,l,d)}function Yu(s,o){let l=s[2];(3&l)===o&&(l&=2047,l+=1,s[2]=l)}function mg(s,o,l,d){const p=null!=d?d:-1,y=o.length-1;let w=0;for(let E=void 0!==d?65535&s[18]:0;E<y;E++)if("number"==typeof o[E+1]){if(w=o[E],null!=d&&w>=d)break}else o[E]<0&&(s[18]+=65536),(w<p||-1==p)&&(_f(s,l,o,E),s[18]=(4294901760&s[18])+E+2),E++}function _f(s,o,l,d){const h=l[d]<0,p=l[d+1],w=s[h?-l[d]:l[d]];if(h){if(s[2]>>11<s[18]>>16&&(3&s[2])===o){s[2]+=2048;try{p.call(w)}finally{}}}else try{p.call(w)}finally{}}class _c{constructor(o,l,d){this.factory=o,this.resolving=!1,this.canSeeViewProviders=l,this.injectImpl=d}}function Xo(s,o,l){const d=hn(s);let h=0;for(;h<l.length;){const p=l[h];if("number"==typeof p){if(0!==p)break;h++;const y=l[h++],w=l[h++],E=l[h++];d?s.setAttribute(o,w,E,y):o.setAttributeNS(y,w,E)}else{const y=p,w=l[++h];Ku(y)?d&&s.setProperty(o,y,w):d?s.setAttribute(o,y,w):o.setAttribute(y,w),h++}}return h}function vf(s){return 3===s||4===s||6===s}function Ku(s){return 64===s.charCodeAt(0)}function Ls(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let l=-1;for(let d=0;d<o.length;d++){const h=o[d];"number"==typeof h?l=h:0===l||Qu(s,l,h,null,-1===l||2===l?o[++d]:null)}}return s}function Qu(s,o,l,d,h){let p=0,y=s.length;if(-1===o)y=-1;else for(;p<s.length;){const w=s[p++];if("number"==typeof w){if(w===o){y=-1;break}if(w>o){y=p-1;break}}}for(;p<s.length;){const w=s[p];if("number"==typeof w)break;if(w===l){if(null===d)return void(null!==h&&(s[p+1]=h));if(d===s[p+1])return void(s[p+2]=h)}p++,null!==d&&p++,null!==h&&p++}-1!==y&&(s.splice(y,0,o),p=y+1),s.splice(p++,0,l),null!==d&&s.splice(p++,0,d),null!==h&&s.splice(p++,0,h)}function Tn(s){return-1!==s}function or(s){return 32767&s}function un(s,o){let l=function Vs(s){return s>>16}(s),d=o;for(;l>0;)d=d[15],l--;return d}let wt=!0;function vc(s){const o=wt;return wt=s,o}let bc=0;function _i(s,o){const l=ed(s,o);if(-1!==l)return l;const d=o[1];d.firstCreatePass&&(s.injectorIndex=o.length,Zn(d.data,s),Zn(o,null),Zn(d.blueprint,null));const h=po(s,o),p=s.injectorIndex;if(Tn(h)){const y=or(h),w=un(h,o),E=w[1].data;for(let A=0;A<8;A++)o[p+A]=w[y+A]|E[y+A]}return o[p+8]=h,p}function Zn(s,o){s.push(0,0,0,0,0,0,0,0,o)}function ed(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function po(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let l=0,d=null,h=o;for(;null!==h;){const p=h[1],y=p.type;if(d=2===y?p.declTNode:1===y?h[6]:null,null===d)return-1;if(l++,h=h[15],-1!==d.injectorIndex)return d.injectorIndex|l<<16}return-1}function Qa(s,o,l){!function Xu(s,o,l){let d;"string"==typeof l?d=l.charCodeAt(0)||0:l.hasOwnProperty(rt)&&(d=l[rt]),null==d&&(d=l[rt]=bc++);const h=255&d;o.data[s+(h>>5)]|=1<<h}(s,o,l)}function bf(s,o,l){if(l&at.Optional)return s;ge(o,"NodeInjector")}function Bs(s,o,l,d){if(l&at.Optional&&void 0===d&&(d=null),0==(l&(at.Self|at.Host))){const h=s[9],p=Xt(void 0);try{return h?h.get(o,d,l&at.Optional):ri(o,d,l&at.Optional)}finally{Xt(p)}}return bf(d,o,l)}function Hr(s,o,l,d=at.Default,h){if(null!==s){const p=function wf(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(rt)?s[rt]:void 0;return"number"==typeof o?o>=0?255&o:Kn:o}(l);if("function"==typeof p){if(!zu(o,s,d))return d&at.Host?bf(h,l,d):Bs(o,l,d,h);try{const y=p(d);if(null!=y||d&at.Optional)return y;ge(l)}finally{fg()}}else if("number"==typeof p){let y=null,w=ed(s,o),E=-1,A=d&at.Host?o[16][6]:null;for((-1===w||d&at.SkipSelf)&&(E=-1===w?po(s,o):o[w+8],-1!==E&&Xa(d,!1)?(y=o[1],w=or(E),o=un(E,o)):w=-1);-1!==w;){const T=o[1];if(id(p,w,T.data)){const x=mo(w,o,l,y,d,A);if(x!==nd)return x}E=o[w+8],-1!==E&&Xa(d,o[1].data[w+8]===A)&&id(p,w,o)?(y=T,w=or(E),o=un(E,o)):w=-1}}}return Bs(o,l,d,h)}const nd={};function Kn(){return new _o(fn(),_e())}function mo(s,o,l,d,h,p){const y=o[1],w=y.data[s+8],T=Ja(w,y,l,null==d?Ou(w)&&wt:d!=y&&0!=(3&w.type),h&at.Host&&p===w);return null!==T?go(o,y,T,w):nd}function Ja(s,o,l,d,h){const p=s.providerIndexes,y=o.data,w=1048575&p,E=s.directiveStart,T=p>>20,U=h?w+T:s.directiveEnd;for(let W=d?w:w+T;W<U;W++){const ce=y[W];if(W<E&&l===ce||W>=E&&ce.type===l)return W}if(h){const W=y[E];if(W&&Cr(W)&&W.type===l)return E}return null}function go(s,o,l,d){let h=s[l];const p=o.data;if(function Zu(s){return s instanceof _c}(h)){const y=h;y.resolving&&function $e(s,o){const l=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new Re(-200,`Circular dependency in DI detected for ${s}${l}`)}(Ee(p[l]));const w=vc(y.canSeeViewProviders);y.resolving=!0;const E=y.injectImpl?Xt(y.injectImpl):null;zu(s,d,at.Default);try{h=s[l]=y.factory(void 0,p,s,d),o.firstCreatePass&&l>=d.directiveStart&&function fo(s,o,l){const{ngOnChanges:d,ngOnInit:h,ngDoCheck:p}=o.type.prototype;if(d){const y=ic(o);(l.preOrderHooks||(l.preOrderHooks=[])).push(s,y),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(s,y)}h&&(l.preOrderHooks||(l.preOrderHooks=[])).push(0-s,h),p&&((l.preOrderHooks||(l.preOrderHooks=[])).push(s,p),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(s,p))}(l,p[l],o)}finally{null!==E&&Xt(E),vc(w),y.resolving=!1,fg()}}return h}function id(s,o,l){return!!(l[o+(s>>5)]&1<<s)}function Xa(s,o){return!(s&at.Self||s&at.Host&&o)}class _o{constructor(o,l){this._tNode=o,this._lView=l}get(o,l,d){return Hr(this._tNode,this._lView,o,d,l)}}function wc(s){return Ln(()=>{const o=s.prototype.constructor,l=o[ze]||el(o),d=Object.prototype;let h=Object.getPrototypeOf(s.prototype).constructor;for(;h&&h!==d;){const p=h[ze]||el(h);if(p&&p!==l)return p;h=Object.getPrototypeOf(h)}return p=>new p})}function el(s){return je(s)?()=>{const o=el(K(s));return o&&o()}:Er(s)}function Cc(s){return function td(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const l=s.attrs;if(l){const d=l.length;let h=0;for(;h<d;){const p=l[h];if(vf(p))break;if(0===p)h+=2;else if("number"==typeof p)for(h++;h<d&&"string"==typeof l[h];)h++;else{if(p===o)return l[h+1];h+=2}}}return null}(fn(),s)}const ar="__parameters__";function ls(s,o,l){return Ln(()=>{const d=function Ec(s){return function(...l){if(s){const d=s(...l);for(const h in d)this[h]=d[h]}}}(o);function h(...p){if(this instanceof h)return d.apply(this,p),this;const y=new h(...p);return w.annotation=y,w;function w(E,A,T){const x=E.hasOwnProperty(ar)?E[ar]:Object.defineProperty(E,ar,{value:[]})[ar];for(;x.length<=T;)x.push(null);return(x[T]=x[T]||[]).push(y),E}}return l&&(h.prototype=Object.create(l.prototype)),h.prototype.ngMetadataName=s,h.annotationCls=h,h})}class wn{constructor(o,l){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof l?this.__NG_ELEMENT_ID__=l:void 0!==l&&(this.\u0275prov=Yt({token:this,providedIn:l.providedIn||"root",factory:l.factory}))}toString(){return`InjectionToken ${this._desc}`}}const sd=new wn("AnalyzeForEntryComponents");function Gi(s,o){void 0===o&&(o=s);for(let l=0;l<s.length;l++){let d=s[l];Array.isArray(d)?(o===s&&(o=s.slice(0,l)),Gi(d,o)):o!==s&&o.push(d)}return o}function cs(s,o){s.forEach(l=>Array.isArray(l)?cs(l,o):o(l))}function ta(s,o,l){o>=s.length?s.push(l):s.splice(o,0,l)}function Ic(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function qi(s,o){const l=[];for(let d=0;d<s;d++)l.push(o);return l}function lr(s,o,l){let d=wo(s,o);return d>=0?s[1|d]=l:(d=~d,function ld(s,o,l,d){let h=s.length;if(h==o)s.push(l,d);else if(1===h)s.push(d,s[0]),s[0]=l;else{for(h--,s.push(s[h-1],s[h]);h>o;)s[h]=s[h-2],h--;s[o]=l,s[o+1]=d}}(s,d,o,l)),d}function Df(s,o){const l=wo(s,o);if(l>=0)return s[1|l]}function wo(s,o){return function Ac(s,o,l){let d=0,h=s.length>>l;for(;h!==d;){const p=d+(h-d>>1),y=s[p<<l];if(o===y)return p<<l;y>o?h=p:d=p+1}return~(h<<l)}(s,o,1)}const ds={},ra="__NG_DI_FLAG__",nl="ngTempTokenPath",Tf=/\n/gm,il="__source",Ag=ve({provide:String,useValue:ve});let Sc;function Tc(s){const o=Sc;return Sc=s,o}function Mf(s,o=at.Default){if(void 0===Sc)throw new Re(203,"");return null===Sc?ri(s,void 0,o):Sc.get(s,o&at.Optional?null:void 0,o)}function ci(s,o=at.Default){return(function Nn(){return ji}()||Mf)(K(s),o)}const xf=ci;function oa(s){const o=[];for(let l=0;l<s.length;l++){const d=K(s[l]);if(Array.isArray(d)){if(0===d.length)throw new Re(900,"");let h,p=at.Default;for(let y=0;y<d.length;y++){const w=d[y],E=rl(w);"number"==typeof E?-1===E?h=w.token:p|=E:h=w}o.push(ci(h,p))}else o.push(ci(d))}return o}function hs(s,o){return s[ra]=o,s.prototype[ra]=o,s}function rl(s){return s[ra]}const js=hs(ls("Inject",s=>({token:s})),-1),fs=hs(ls("Optional"),8),$r=hs(ls("SkipSelf"),4);class ll{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function ps(s){return s instanceof ll?s.changingThisBreaksApplicationSecurity:s}const m=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,C=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var zn=(()=>((zn=zn||{})[zn.NONE=0]="NONE",zn[zn.HTML=1]="HTML",zn[zn.STYLE=2]="STYLE",zn[zn.SCRIPT=3]="SCRIPT",zn[zn.URL=4]="URL",zn[zn.RESOURCE_URL=5]="RESOURCE_URL",zn))();function Uf(s){const o=function wd(){const s=_e();return s&&s[12]}();return o?o.sanitize(zn.URL,s)||"":function ua(s,o){const l=function Of(s){return s instanceof ll&&s.getTypeName()||null}(s);if(null!=l&&l!==o){if("ResourceURL"===l&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${l} (see https://g.co/ng/security#xss)`)}return l===o}(s,"URL")?ps(s):function S(s){return(s=String(s)).match(m)||s.match(C)?s:"unsafe:"+s}(X(s))}const wI="__ngContext__";function It(s,o){s[wI]=o}function jg(s){const o=function pl(s){return s[wI]||null}(s);return o?Array.isArray(o)?o:o.lView:null}function Pc(s){return s.ngOriginalError}function ml(s,...o){s.error(...o)}class zf{constructor(){this._console=console}handleError(o){const l=this._findOriginalError(o),d=function $f(s){return s&&s.ngErrorLogger||ml}(o);d(this._console,"ERROR",o),l&&d(this._console,"ORIGINAL ERROR",l)}_findOriginalError(o){let l=o&&Pc(o);for(;l&&Pc(l);)l=Pc(l);return l||null}}const xI=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Lt))();function yt(s){return s instanceof Function?s():s}var Ao=(()=>((Ao=Ao||{})[Ao.Important=1]="Important",Ao[Ao.DashCase=2]="DashCase",Ao))();function Jb(s,o){return undefined(s,o)}function Dd(s){const o=s[3];return Si(o)?o[3]:o}function t0(s){return gs(s[13])}function Id(s){return gs(s[4])}function gs(s){for(;null!==s&&!Si(s);)s=s[4];return s}function ma(s,o,l,d,h){if(null!=d){let p,y=!1;Si(d)?p=d:Yn(d)&&(y=!0,d=d[0]);const w=cn(d);0===s&&null!==l?null==h?a0(o,l,w):Nc(o,l,w,h||null,!0):1===s&&null!==l?Nc(o,l,w,h||null,!0):2===s?function UI(s,o,l){const d=Gg(s,o);d&&function qO(s,o,l,d){hn(s)?s.removeChild(o,l,d):o.removeChild(l)}(s,d,o,l)}(o,w,y):3===s&&o.destroyNode(w),null!=p&&function ZO(s,o,l,d,h){const p=l[7];p!==cn(l)&&ma(o,s,d,p,h);for(let w=10;w<l.length;w++){const E=l[w];qf(E[1],E,s,o,d,p)}}(o,s,p,l,h)}}function Ys(s,o,l){if(hn(s))return s.createElement(o,l);{const d=null!==l?function hf(s){const o=s.toLowerCase();return"svg"===o?"http://www.w3.org/2000/svg":"math"===o?"http://www.w3.org/1998/MathML/":null}(l):null;return null===d?s.createElement(o):s.createElementNS(d,o)}}function r0(s,o){const l=s[9],d=l.indexOf(o),h=o[3];1024&o[2]&&(o[2]&=-1025,co(h,-1)),l.splice(d,1)}function s0(s,o){if(s.length<=10)return;const l=10+o,d=s[l];if(d){const h=d[17];null!==h&&h!==s&&r0(h,d),o>0&&(s[l-1][4]=d[4]);const p=Ic(s,10+o);!function Td(s,o){qf(s,o,o[11],2,null,null),o[0]=null,o[6]=null}(d[1],d);const y=p[19];null!==y&&y.detachView(p[1]),d[3]=null,d[4]=null,d[2]&=-129}return d}function RI(s,o){if(!(256&o[2])){const l=o[11];hn(l)&&l.destroyNode&&qf(s,o,l,3,null,null),function jO(s){let o=s[13];if(!o)return o0(s[1],s);for(;o;){let l=null;if(Yn(o))l=o[13];else{const d=o[10];d&&(l=d)}if(!l){for(;o&&!o[4]&&o!==s;)Yn(o)&&o0(o[1],o),o=o[3];null===o&&(o=s),Yn(o)&&o0(o[1],o),l=o&&o[4]}o=l}}(o)}}function o0(s,o){if(!(256&o[2])){o[2]&=-129,o[2]|=256,function GO(s,o){let l;if(null!=s&&null!=(l=s.destroyHooks))for(let d=0;d<l.length;d+=2){const h=o[l[d]];if(!(h instanceof _c)){const p=l[d+1];if(Array.isArray(p))for(let y=0;y<p.length;y+=2){const w=h[p[y]],E=p[y+1];try{E.call(w)}finally{}}else try{p.call(h)}finally{}}}}(s,o),function zO(s,o){const l=s.cleanup,d=o[7];let h=-1;if(null!==l)for(let p=0;p<l.length-1;p+=2)if("string"==typeof l[p]){const y=l[p+1],w="function"==typeof y?y(o):cn(o[y]),E=d[h=l[p+2]],A=l[p+3];"boolean"==typeof A?w.removeEventListener(l[p],E,A):A>=0?d[h=A]():d[h=-A].unsubscribe(),p+=2}else{const y=d[h=l[p+1]];l[p].call(y)}if(null!==d){for(let p=h+1;p<d.length;p++)d[p]();o[7]=null}}(s,o),1===o[1].type&&hn(o[11])&&o[11].destroy();const l=o[17];if(null!==l&&Si(o[3])){l!==o[3]&&r0(l,o);const d=o[19];null!==d&&d.detachView(s)}}}function OI(s,o,l){return function PI(s,o,l){let d=o;for(;null!==d&&40&d.type;)d=(o=d).parent;if(null===d)return l[0];if(2&d.flags){const h=s.data[d.directiveStart].encapsulation;if(h===Rt.None||h===Rt.Emulated)return null}return ai(d,l)}(s,o.parent,l)}function Nc(s,o,l,d,h){hn(s)?s.insertBefore(o,l,d,h):o.insertBefore(l,d,h)}function a0(s,o,l){hn(s)?s.appendChild(o,l):o.appendChild(l)}function FI(s,o,l,d,h){null!==d?Nc(s,o,l,d,h):a0(s,o,l)}function Gg(s,o){return hn(s)?s.parentNode(o):o.parentNode}function Gf(s,o,l){return LI(s,o,l)}let LI=function NI(s,o,l){return 40&s.type?ai(s,l):null};function qg(s,o,l,d){const h=OI(s,d,o),p=o[11],w=Gf(d.parent||o[6],d,o);if(null!=h)if(Array.isArray(l))for(let E=0;E<l.length;E++)FI(p,h,l[E],w,!1);else FI(p,h,l,w,!1)}function Wg(s,o){if(null!==o){const l=o.type;if(3&l)return ai(o,s);if(4&l)return c0(-1,s[o.index]);if(8&l){const d=o.child;if(null!==d)return Wg(s,d);{const h=s[o.index];return Si(h)?c0(-1,h):cn(h)}}if(32&l)return Jb(o,s)()||cn(s[o.index]);{const d=BI(s,o);return null!==d?Array.isArray(d)?d[0]:Wg(Dd(s[16]),d):Wg(s,o.next)}}return null}function BI(s,o){return null!==o?s[16][6].projection[o.projection]:null}function c0(s,o){const l=10+s+1;if(l<o.length){const d=o[l],h=d[1].firstChild;if(null!==h)return Wg(d,h)}return o[7]}function u0(s,o,l,d,h,p,y){for(;null!=l;){const w=d[l.index],E=l.type;if(y&&0===o&&(w&&It(cn(w),d),l.flags|=4),64!=(64&l.flags))if(8&E)u0(s,o,l.child,d,h,p,!1),ma(o,s,h,w,p);else if(32&E){const A=Jb(l,d);let T;for(;T=A();)ma(o,s,h,T,p);ma(o,s,h,w,p)}else 16&E?jI(s,o,d,l,h,p):ma(o,s,h,w,p);l=y?l.projectionNext:l.next}}function qf(s,o,l,d,h,p){u0(l,d,s.firstChild,o,h,p,!1)}function jI(s,o,l,d,h,p){const y=l[16],E=y[6].projection[d.projection];if(Array.isArray(E))for(let A=0;A<E.length;A++)ma(o,s,h,E[A],p);else u0(s,o,E,y[3],h,p,!0)}function HI(s,o,l){hn(s)?s.setAttribute(o,"style",l):o.style.cssText=l}function d0(s,o,l){hn(s)?""===l?s.removeAttribute(o,"class"):s.setAttribute(o,"class",l):o.className=l}function $I(s,o,l){let d=s.length;for(;;){const h=s.indexOf(o,l);if(-1===h)return h;if(0===h||s.charCodeAt(h-1)<=32){const p=o.length;if(h+p===d||s.charCodeAt(h+p)<=32)return h}l=h+1}}const zI="ng-template";function QO(s,o,l){let d=0;for(;d<s.length;){let h=s[d++];if(l&&"class"===h){if(h=s[d],-1!==$I(h.toLowerCase(),o,0))return!0}else if(1===h){for(;d<s.length&&"string"==typeof(h=s[d++]);)if(h.toLowerCase()===o)return!0;return!1}}return!1}function GI(s){return 4===s.type&&s.value!==zI}function JO(s,o,l){return o===(4!==s.type||l?s.value:zI)}function XO(s,o,l){let d=4;const h=s.attrs||[],p=function t1(s){for(let o=0;o<s.length;o++)if(vf(s[o]))return o;return s.length}(h);let y=!1;for(let w=0;w<o.length;w++){const E=o[w];if("number"!=typeof E){if(!y)if(4&d){if(d=2|1&d,""!==E&&!JO(s,E,l)||""===E&&1===o.length){if(_s(d))return!1;y=!0}}else{const A=8&d?E:o[++w];if(8&d&&null!==s.attrs){if(!QO(s.attrs,A,l)){if(_s(d))return!1;y=!0}continue}const x=qI(8&d?"class":E,h,GI(s),l);if(-1===x){if(_s(d))return!1;y=!0;continue}if(""!==A){let U;U=x>p?"":h[x+1].toLowerCase();const W=8&d?U:null;if(W&&-1!==$I(W,A,0)||2&d&&A!==U){if(_s(d))return!1;y=!0}}}}else{if(!y&&!_s(d)&&!_s(E))return!1;if(y&&_s(E))continue;y=!1,d=E|1&d}}return _s(d)||y}function _s(s){return 0==(1&s)}function qI(s,o,l,d){if(null===o)return-1;let h=0;if(d||!l){let p=!1;for(;h<o.length;){const y=o[h];if(y===s)return h;if(3===y||6===y)p=!0;else{if(1===y||2===y){let w=o[++h];for(;"string"==typeof w;)w=o[++h];continue}if(4===y)break;if(0===y){h+=4;continue}}h+=p?1:2}return-1}return function n1(s,o){let l=s.indexOf(4);if(l>-1)for(l++;l<s.length;){const d=s[l];if("number"==typeof d)return-1;if(d===o)return l;l++}return-1}(o,s)}function WI(s,o,l=!1){for(let d=0;d<o.length;d++)if(XO(s,o[d],l))return!0;return!1}function r1(s,o){e:for(let l=0;l<o.length;l++){const d=o[l];if(s.length===d.length){for(let h=0;h<s.length;h++)if(s[h]!==d[h])continue e;return!0}}return!1}function YI(s,o){return s?":not("+o.trim()+")":o}function s1(s){let o=s[0],l=1,d=2,h="",p=!1;for(;l<s.length;){let y=s[l];if("string"==typeof y)if(2&d){const w=s[++l];h+="["+y+(w.length>0?'="'+w+'"':"")+"]"}else 8&d?h+="."+y:4&d&&(h+=" "+y);else""!==h&&!_s(y)&&(o+=YI(p,h),h=""),d=y,p=p||!_s(d);l++}return""!==h&&(o+=YI(p,h)),o}const St={};function ZI(s){KI(Nt(),_e(),Mi()+s,Ko())}function KI(s,o,l,d){if(!d)if(3==(3&o[2])){const p=s.preOrderCheckHooks;null!==p&&qu(o,p,l)}else{const p=s.preOrderHooks;null!==p&&Wu(o,p,0,l)}os(l)}function Yg(s,o){return s<<17|o<<2}function Zs(s){return s>>17&32767}function h0(s){return 2|s}function _a(s){return(131068&s)>>2}function f0(s,o){return-131069&s|o<<2}function p0(s){return 1|s}function Lc(s,o){const l=s.contentQueries;if(null!==l)for(let d=0;d<l.length;d+=2){const h=l[d],p=l[d+1];if(-1!==p){const y=s.data[p];$u(h),y.contentQueries(2,o[p],p)}}}function Xn(s,o,l,d,h,p,y,w,E,A){const T=o.blueprint.slice();return T[0]=h,T[2]=140|d,Fs(T),T[3]=T[15]=s,T[8]=l,T[10]=y||s&&s[10],T[11]=w||s&&s[11],T[12]=E||s&&s[12]||null,T[9]=A||s&&s[9]||null,T[6]=p,T[16]=2==o.type?s[16]:T,T}function yi(s,o,l,d,h){let p=s.data[o];if(null===p)p=function Xg(s,o,l,d,h){const p=hc(),y=Uu(),E=s.data[o]=function oA(s,o,l,d,h,p){return{type:l,index:d,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?p:p&&p.parent,l,o,d,h);return null===s.firstChild&&(s.firstChild=E),null!==p&&(y?null==p.child&&null!==E.parent&&(p.child=E):null===p.next&&(p.next=E)),E}(s,o,l,d,h),function lg(){return ft.lFrame.inI18n}()&&(p.flags|=64);else if(64&p.type){p.type=l,p.value=d,p.attrs=h;const y=function uo(){const s=ft.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}();p.injectorIndex=null===y?-1:y.injectorIndex}return Dr(p,!0),p}function wa(s,o,l,d){if(0===l)return-1;const h=o.length;for(let p=0;p<l;p++)o.push(d),s.blueprint.push(d),s.data.push(null);return h}function xd(s,o,l){gc(o);try{const d=s.viewQuery;null!==d&&Qf(1,d,l);const h=s.template;null!==h&&e_(s,o,h,1,l),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&Lc(s,o),s.staticViewQueries&&Qf(2,s.viewQuery,l);const p=s.components;null!==p&&function v0(s,o){for(let l=0;l<o.length;l++)vA(s,o[l])}(o,p)}catch(d){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),d}finally{o[2]&=-5,Ya()}}function Vc(s,o,l,d){const h=o[2];if(256==(256&h))return;gc(o);const p=Ko();try{Fs(o),function pc(s){return ft.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==l&&e_(s,o,l,2,d);const y=3==(3&h);if(!p)if(y){const A=s.preOrderCheckHooks;null!==A&&qu(o,A,null)}else{const A=s.preOrderHooks;null!==A&&Wu(o,A,0,null),Yu(o,0)}if(function yA(s){for(let o=t0(s);null!==o;o=Id(o)){if(!o[2])continue;const l=o[9];for(let d=0;d<l.length;d++){const h=l[d],p=h[3];0==(1024&h[2])&&co(p,1),h[2]|=1024}}}(o),function _A(s){for(let o=t0(s);null!==o;o=Id(o))for(let l=10;l<o.length;l++){const d=o[l],h=d[1];Zo(d)&&Vc(h,d,h.template,d[8])}}(o),null!==s.contentQueries&&Lc(s,o),!p)if(y){const A=s.contentCheckHooks;null!==A&&qu(o,A)}else{const A=s.contentHooks;null!==A&&Wu(o,A,1),Yu(o,1)}!function Yf(s,o){const l=s.hostBindingOpCodes;if(null!==l)try{for(let d=0;d<l.length;d++){const h=l[d];if(h<0)os(~h);else{const p=h,y=l[++d],w=l[++d];cg(y,p),w(2,o[p])}}}finally{os(-1)}}(s,o);const w=s.components;null!==w&&function rA(s,o){for(let l=0;l<o.length;l++)M0(s,o[l])}(o,w);const E=s.viewQuery;if(null!==E&&Qf(2,E,d),!p)if(y){const A=s.viewCheckHooks;null!==A&&qu(o,A)}else{const A=s.viewHooks;null!==A&&Wu(o,A,2),Yu(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),p||(o[2]&=-73),1024&o[2]&&(o[2]&=-1025,co(o[3],-1))}finally{Ya()}}function ui(s,o,l,d){const h=o[10],p=!Ko(),y=lo(o);try{p&&!y&&h.begin&&h.begin(),y&&xd(s,o,d),Vc(s,o,l,d)}finally{p&&!y&&h.end&&h.end()}}function e_(s,o,l,d,h){const p=Mi(),y=2&d;try{os(-1),y&&o.length>20&&KI(s,o,20,Ko()),l(d,h)}finally{os(p)}}function b0(s,o,l){if(zo(o)){const h=o.directiveEnd;for(let p=o.directiveStart;p<h;p++){const y=s.data[p];y.contentQueries&&y.contentQueries(1,l[p],p)}}}function t_(s,o,l){!dc()||(function hA(s,o,l,d){const h=l.directiveStart,p=l.directiveEnd;s.firstCreatePass||_i(l,o),It(d,o);const y=l.initialInputs;for(let w=h;w<p;w++){const E=s.data[w],A=Cr(E);A&&b1(o,l,E);const T=go(o,s,w,l);It(T,o),null!==y&&w1(0,w-h,T,E,0,y),A&&(Ti(l.index,o)[8]=T)}}(s,o,l,ai(l,o)),128==(128&l.flags)&&function D0(s,o,l){const d=l.directiveStart,h=l.directiveEnd,y=l.index,w=function ju(){return ft.lFrame.currentDirectiveIndex}();try{os(y);for(let E=d;E<h;E++){const A=s.data[E],T=o[E];Hu(E),(null!==A.hostBindings||0!==A.hostVars||null!==A.hostAttrs)&&o_(A,T)}}finally{os(-1),Hu(w)}}(s,o,l))}function Zf(s,o,l=ai){const d=o.localNames;if(null!==d){let h=o.index+1;for(let p=0;p<d.length;p+=2){const y=d[p+1],w=-1===y?l(o,s):s[y];s[h++]=w}}}function n_(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=i_(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function i_(s,o,l,d,h,p,y,w,E,A){const T=20+d,x=T+h,U=function m1(s,o){const l=[];for(let d=0;d<o;d++)l.push(d<s?null:St);return l}(T,x),W="function"==typeof A?A():A;return U[1]={type:s,blueprint:U,template:l,queries:null,viewQuery:w,declTNode:o,data:U.slice().fill(null,T),bindingStartIndex:T,expandoStartIndex:x,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:E,consts:W,incompleteFirstPass:!1}}function sA(s,o,l,d){const h=h_(o);null===l?h.push(d):(h.push(l),s.firstCreatePass&&k0(s).push(d,h.length-1))}function aA(s,o,l){for(let d in s)if(s.hasOwnProperty(d)){const h=s[d];(l=null===l?{}:l).hasOwnProperty(d)?l[d].push(o,h):l[d]=[o,h]}return l}function dr(s,o,l,d,h,p,y,w){const E=ai(o,l);let T,A=o.inputs;!w&&null!=A&&(T=A[d])?(Jf(s,l,T,d,h),Ou(o)&&function lA(s,o){const l=Ti(o,s);16&l[2]||(l[2]|=64)}(l,o.index)):3&o.type&&(d=function _1(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(d),h=null!=y?y(h,o.value||"",d):h,hn(p)?p.setProperty(E,d,h):Ku(d)||(E.setProperty?E.setProperty(d,h):E[d]=h))}function s_(s,o,l,d){let h=!1;if(dc()){const p=function fA(s,o,l){const d=s.directiveRegistry;let h=null;if(d)for(let p=0;p<d.length;p++){const y=d[p];WI(l,y.selectors,!1)&&(h||(h=[]),Qa(_i(l,o),s,y.type),Cr(y)?(I0(s,l),h.unshift(y)):h.push(y))}return h}(s,o,l),y=null===d?null:{"":-1};if(null!==p){h=!0,A0(l,s.data.length,p.length);for(let T=0;T<p.length;T++){const x=p[T];x.providersResolver&&x.providersResolver(x)}let w=!1,E=!1,A=wa(s,o,p.length,null);for(let T=0;T<p.length;T++){const x=p[T];l.mergedAttrs=Ls(l.mergedAttrs,x.hostAttrs),S0(s,l,o,A,x),mA(A,x,y),null!==x.contentQueries&&(l.flags|=8),(null!==x.hostBindings||null!==x.hostAttrs||0!==x.hostVars)&&(l.flags|=128);const U=x.type.prototype;!w&&(U.ngOnChanges||U.ngOnInit||U.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(l.index),w=!0),!E&&(U.ngOnChanges||U.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(l.index),E=!0),A++}!function g1(s,o){const d=o.directiveEnd,h=s.data,p=o.attrs,y=[];let w=null,E=null;for(let A=o.directiveStart;A<d;A++){const T=h[A],x=T.inputs,U=null===p||GI(o)?null:C1(x,p);y.push(U),w=aA(x,A,w),E=aA(T.outputs,A,E)}null!==w&&(w.hasOwnProperty("class")&&(o.flags|=16),w.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=y,o.inputs=w,o.outputs=E}(s,l)}y&&function pA(s,o,l){if(o){const d=s.localNames=[];for(let h=0;h<o.length;h+=2){const p=l[o[h+1]];if(null==p)throw new Re(-301,!1);d.push(o[h],p)}}}(l,d,y)}return l.mergedAttrs=Ls(l.mergedAttrs,l.attrs),h}function E0(s,o,l,d,h,p){const y=p.hostBindings;if(y){let w=s.hostBindingOpCodes;null===w&&(w=s.hostBindingOpCodes=[]);const E=~o.index;(function dA(s){let o=s.length;for(;o>0;){const l=s[--o];if("number"==typeof l&&l<0)return l}return 0})(w)!=E&&w.push(E),w.push(d,h,y)}}function o_(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function I0(s,o){o.flags|=2,(s.components||(s.components=[])).push(o.index)}function mA(s,o,l){if(l){if(o.exportAs)for(let d=0;d<o.exportAs.length;d++)l[o.exportAs[d]]=s;Cr(o)&&(l[""]=s)}}function A0(s,o,l){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+l,s.providerIndexes=o}function S0(s,o,l,d,h){s.data[d]=h;const p=h.factory||(h.factory=Er(h.type)),y=new _c(p,Cr(h),null);s.blueprint[d]=y,l[d]=y,E0(s,o,0,d,wa(s,l,h.hostVars,St),h)}function b1(s,o,l){const d=ai(o,s),h=n_(l),p=s[10],y=Kf(s,Xn(s,h,null,l.onPush?64:16,d,o,p,p.createRenderer(d,l),null,null));s[o.index]=y}function So(s,o,l,d,h,p){const y=ai(s,o);!function T0(s,o,l,d,h,p,y){if(null==p)hn(s)?s.removeAttribute(o,h,l):o.removeAttribute(h);else{const w=null==y?X(p):y(p,d||"",h);hn(s)?s.setAttribute(o,h,w,l):l?o.setAttributeNS(l,h,w):o.setAttribute(h,w)}}(o[11],y,p,s.value,l,d,h)}function w1(s,o,l,d,h,p){const y=p[o];if(null!==y){const w=d.setInput;for(let E=0;E<y.length;){const A=y[E++],T=y[E++],x=y[E++];null!==w?d.setInput(l,x,A,T):l[T]=x}}}function C1(s,o){let l=null,d=0;for(;d<o.length;){const h=o[d];if(0!==h)if(5!==h){if("number"==typeof h)break;s.hasOwnProperty(h)&&(null===l&&(l=[]),l.push(h,s[h],o[d+1])),d+=2}else d+=2;else d+=4}return l}function a_(s,o,l,d){return new Array(s,!0,!1,o,null,0,d,l,null,null)}function M0(s,o){const l=Ti(o,s);if(Zo(l)){const d=l[1];80&l[2]?Vc(d,l,d.template,l[8]):l[5]>0&&Ca(l)}}function Ca(s){for(let d=t0(s);null!==d;d=Id(d))for(let h=10;h<d.length;h++){const p=d[h];if(1024&p[2]){const y=p[1];Vc(y,p,y.template,p[8])}else p[5]>0&&Ca(p)}const l=s[1].components;if(null!==l)for(let d=0;d<l.length;d++){const h=Ti(l[d],s);Zo(h)&&h[5]>0&&Ca(h)}}function vA(s,o){const l=Ti(o,s),d=l[1];(function bA(s,o){for(let l=o.length;l<s.blueprint.length;l++)o.push(s.blueprint[l])})(d,l),xd(d,l,l[8])}function Kf(s,o){return s[13]?s[14][4]=o:s[13]=o,s[14]=o,o}function l_(s){for(;s;){s[2]|=64;const o=Dd(s);if(Pu(s)&&!o)return s;s=o}return null}function c_(s,o,l){const d=o[10];d.begin&&d.begin();try{Vc(s,o,s.template,l)}catch(h){throw R0(o,h),h}finally{d.end&&d.end()}}function kd(s){!function x0(s){for(let o=0;o<s.components.length;o++){const l=s.components[o],d=jg(l),h=d[1];ui(h,d,h.template,l)}}(s[8])}function Qf(s,o,l){$u(0),o(s,l)}const d_=(()=>Promise.resolve(null))();function h_(s){return s[7]||(s[7]=[])}function k0(s){return s.cleanup||(s.cleanup=[])}function Rd(s,o,l){return(null===s||Cr(s))&&(l=function Lu(s){for(;Array.isArray(s);){if("object"==typeof s[1])return s;s=s[0]}return null}(l[o.index])),l[11]}function R0(s,o){const l=s[9],d=l?l.get(zf,null):null;d&&d.handleError(o)}function Jf(s,o,l,d,h){for(let p=0;p<l.length;){const y=l[p++],w=l[p++],E=o[y],A=s.data[y];null!==A.setInput?A.setInput(E,h,d,w):E[w]=h}}function xn(s,o,l){const d=Yo(o,s);!function Ad(s,o,l){hn(s)?s.setValue(o,l):o.textContent=l}(s[11],d,l)}function Od(s,o,l){let d=l?s.styles:null,h=l?s.classes:null,p=0;if(null!==o)for(let y=0;y<o.length;y++){const w=o[y];"number"==typeof w?p=w:1==p?h=Ie(h,w):2==p&&(d=Ie(d,w+": "+o[++y]+";"))}l?s.styles=d:s.stylesWithoutHost=d,l?s.classes=h:s.classesWithoutHost=h}const Mo=new wn("INJECTOR",-1);class IA{get(o,l=ds){if(l===ds){const d=new Error(`NullInjectorError: No provider for ${he(o)}!`);throw d.name="NullInjectorError",d}return l}}const ep=new wn("Set Injector scope."),ei={},Bc={};let tp;function xo(){return void 0===tp&&(tp=new IA),tp}function AA(s,o=null,l=null,d){const h=O0(s,o,l,d);return h._resolveInjectorDefTypes(),h}function O0(s,o=null,l=null,d){return new E1(s,l,o||xo(),d)}class E1{constructor(o,l,d,h=null){this.parent=d,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const p=[];l&&cs(l,w=>this.processProvider(w,o,l)),cs([o],w=>this.processInjectorType(w,[],p)),this.records.set(Mo,yl(void 0,this));const y=this.records.get(ep);this.scope=null!=y?y.value:null,this.source=h||("object"==typeof o?null:he(o))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(o=>o.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(o,l=ds,d=at.Default){this.assertNotDestroyed();const h=Tc(this),p=Xt(void 0);try{if(!(d&at.SkipSelf)){let w=this.records.get(o);if(void 0===w){const E=function xA(s){return"function"==typeof s||"object"==typeof s&&s instanceof wn}(o)&&yn(o);w=E&&this.injectableDefInScope(E)?yl(f_(o),ei):null,this.records.set(o,w)}if(null!=w)return this.hydrate(o,w)}return(d&at.Self?xo():this.parent).get(o,l=d&at.Optional&&l===ds?null:l)}catch(y){if("NullInjectorError"===y.name){if((y[nl]=y[nl]||[]).unshift(he(o)),h)throw y;return function Sg(s,o,l,d){const h=s[nl];throw o[il]&&h.unshift(o[il]),s.message=function sl(s,o,l,d=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.substr(2):s;let h=he(o);if(Array.isArray(o))h=o.map(he).join(" -> ");else if("object"==typeof o){let p=[];for(let y in o)if(o.hasOwnProperty(y)){let w=o[y];p.push(y+":"+("string"==typeof w?JSON.stringify(w):he(w)))}h=`{${p.join(", ")}}`}return`${l}${d?"("+d+")":""}[${h}]: ${s.replace(Tf,"\n  ")}`}("\n"+s.message,h,l,d),s.ngTokenPath=h,s[nl]=null,s}(y,o,"R3InjectorError",this.source)}throw y}finally{Xt(p),Tc(h)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(o=>this.get(o))}toString(){const o=[];return this.records.forEach((d,h)=>o.push(he(h))),`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Re(205,!1)}processInjectorType(o,l,d){if(!(o=K(o)))return!1;let h=Vr(o);const p=null==h&&o.ngModule||void 0,y=void 0===p?o:p,w=-1!==d.indexOf(y);if(void 0!==p&&(h=Vr(p)),null==h)return!1;if(null!=h.imports&&!w){let T;d.push(y);try{cs(h.imports,x=>{this.processInjectorType(x,l,d)&&(void 0===T&&(T=[]),T.push(x))})}finally{}if(void 0!==T)for(let x=0;x<T.length;x++){const{ngModule:U,providers:W}=T[x];cs(W,ce=>this.processProvider(ce,U,W||lt))}}this.injectorDefTypes.add(y);const E=Er(y)||(()=>new y);this.records.set(y,yl(E,ei));const A=h.providers;if(null!=A&&!w){const T=o;cs(A,x=>this.processProvider(x,T,A))}return void 0!==p&&void 0!==o.providers}processProvider(o,l,d){let h=vl(o=K(o))?o:K(o&&o.provide);const p=function P0(s,o,l){return np(s)?yl(void 0,s.useValue):yl(Uc(s),ei)}(o);if(vl(o)||!0!==o.multi)this.records.get(h);else{let y=this.records.get(h);y||(y=yl(void 0,ei,!0),y.factory=()=>oa(y.multi),this.records.set(h,y)),h=o,y.multi.push(o)}this.records.set(h,p)}hydrate(o,l){return l.value===ei&&(l.value=Bc,l.value=l.factory()),"object"==typeof l.value&&l.value&&function MA(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(l.value)&&this.onDestroy.add(l.value),l.value}injectableDefInScope(o){if(!o.providedIn)return!1;const l=K(o.providedIn);return"string"==typeof l?"any"===l||l===this.scope:this.injectorDefTypes.has(l)}}function f_(s){const o=yn(s),l=null!==o?o.factory:Er(s);if(null!==l)return l;if(s instanceof wn)throw new Re(204,!1);if(s instanceof Function)return function D1(s){const o=s.length;if(o>0)throw qi(o,"?"),new Re(204,!1);const l=function Ei(s){const o=s&&(s[sr]||s[Di]);if(o){const l=function gi(s){if(s.hasOwnProperty("name"))return s.name;const o=(""+s).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${l}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${l}" class.`),o}return null}(s);return null!==l?()=>l.factory(s):()=>new s}(s);throw new Re(204,!1)}function Uc(s,o,l){let d;if(vl(s)){const h=K(s);return Er(h)||f_(h)}if(np(s))d=()=>K(s.useValue);else if(function ip(s){return!(!s||!s.useFactory)}(s))d=()=>s.useFactory(...oa(s.deps||[]));else if(function jt(s){return!(!s||!s.useExisting)}(s))d=()=>ci(K(s.useExisting));else{const h=K(s&&(s.useClass||s.provide));if(!function TA(s){return!!s.deps}(s))return Er(h)||f_(h);d=()=>new h(...oa(s.deps))}return d}function yl(s,o,l=!1){return{factory:s,value:o,multi:l?[]:void 0}}function np(s){return null!==s&&"object"==typeof s&&Ag in s}function vl(s){return"function"==typeof s}let Ks=(()=>{class s{static create(l,d){var h;if(Array.isArray(l))return AA({name:""},d,l,"");{const p=null!==(h=l.name)&&void 0!==h?h:"";return AA({name:p},l.parent,l.providers,p)}}}return s.THROW_IF_NOT_FOUND=ds,s.NULL=new IA,s.\u0275prov=Yt({token:s,providedIn:"any",factory:()=>ci(Mo)}),s.__NG_ELEMENT_ID__=-1,s})();function LA(s,o){Za(jg(s)[1],fn())}function g_(s){let o=function q0(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),l=!0;const d=[s];for(;o;){let h;if(Cr(s))h=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new Re(903,"");h=o.\u0275dir}if(h){if(l){d.push(h);const y=s;y.inputs=Qs(s.inputs),y.declaredInputs=Qs(s.declaredInputs),y.outputs=Qs(s.outputs);const w=h.hostBindings;w&&v_(s,w);const E=h.viewQuery,A=h.contentQueries;if(E&&W0(s,E),A&&y_(s,A),de(s.inputs,h.inputs),de(s.declaredInputs,h.declaredInputs),de(s.outputs,h.outputs),Cr(h)&&h.data.animation){const T=s.data;T.animation=(T.animation||[]).concat(h.data.animation)}}const p=h.features;if(p)for(let y=0;y<p.length;y++){const w=p[y];w&&w.ngInherit&&w(s),w===g_&&(l=!1)}}o=Object.getPrototypeOf(o)}!function __(s){let o=0,l=null;for(let d=s.length-1;d>=0;d--){const h=s[d];h.hostVars=o+=h.hostVars,h.hostAttrs=Ls(h.hostAttrs,l=Ls(l,h.hostAttrs))}}(d)}function Qs(s){return s===nn?{}:s===lt?[]:s}function W0(s,o){const l=s.viewQuery;s.viewQuery=l?(d,h)=>{o(d,h),l(d,h)}:o}function y_(s,o){const l=s.contentQueries;s.contentQueries=l?(d,h,p)=>{o(d,h,p),l(d,h,p)}:o}function v_(s,o){const l=s.hostBindings;s.hostBindings=l?(d,h)=>{o(d,h),l(d,h)}:o}let jc=null;function bl(){if(!jc){const s=Lt.Symbol;if(s&&s.iterator)jc=s.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let l=0;l<o.length;++l){const d=o[l];"entries"!==d&&"size"!==d&&Map.prototype[d]===Map.prototype.entries&&(jc=d)}}}return jc}function wl(s){return!!ko(s)&&(Array.isArray(s)||!(s instanceof Map)&&bl()in s)}function ko(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function Ri(s,o,l){return!Object.is(s[o],l)&&(s[o]=l,!0)}function rp(s,o,l,d){const h=_e();return Ri(h,Qo(),o)&&(Nt(),So(vn(),h,s,o,l,d)),rp}function $c(s,o,l,d){return Ri(s,Qo(),l)?o+X(l)+d:St}function Cs(s,o,l,d,h,p,y,w){const E=_e(),A=Nt(),T=s+20,x=A.firstCreatePass?function Q0(s,o,l,d,h,p,y,w,E){const A=o.consts,T=yi(o,s,4,y||null,rs(A,w));s_(o,l,T,rs(A,E)),Za(o,T);const x=T.tViews=i_(2,T,d,h,p,o.directiveRegistry,o.pipeRegistry,null,o.schemas,A);return null!==o.queries&&(o.queries.template(o,T),x.queries=o.queries.embeddedTView(T)),T}(T,A,E,o,l,d,h,p,y):A.data[T];Dr(x,!1);const U=E[11].createComment("");qg(A,E,U,x),It(U,E),Kf(E,E[T]=a_(U,E,U,x)),oo(x)&&t_(A,E,x),null!=y&&Zf(E,x,w)}function Gc(s){return jr(function mf(){return ft.lFrame.contextLView}(),20+s)}function jd(s,o=at.Default){const l=_e();return null===l?ci(s,o):Hr(fn(),l,K(s),o)}function lw(){throw new Error("invalid")}function S_(s,o,l){const d=_e();return Ri(d,Qo(),o)&&dr(Nt(),vn(),d,s,o,d[11],l,!1),S_}function T_(s,o,l,d,h){const y=h?"class":"style";Jf(s,l,o.inputs[y],y,d)}function fp(s,o,l,d){const h=_e(),p=Nt(),y=20+s,w=h[11],E=h[y]=Ys(w,o,function gf(){return ft.lFrame.currentNamespace}()),A=p.firstCreatePass?function M_(s,o,l,d,h,p,y){const w=o.consts,A=yi(o,s,2,h,rs(w,p));return s_(o,l,A,rs(w,y)),null!==A.attrs&&Od(A,A.attrs,!1),null!==A.mergedAttrs&&Od(A,A.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,A),A}(y,p,h,0,o,l,d):p.data[y];Dr(A,!0);const T=A.mergedAttrs;null!==T&&Xo(w,E,T);const x=A.classes;null!==x&&d0(w,E,x);const U=A.styles;return null!==U&&HI(w,E,U),64!=(64&A.flags)&&qg(p,h,E,A),0===function pf(){return ft.lFrame.elementDepthCount}()&&It(E,h),function uc(){ft.lFrame.elementDepthCount++}(),oo(A)&&(t_(p,h,A),b0(p,A,h)),null!==d&&Zf(h,A),fp}function Al(){let s=fn();Uu()?Wa():(s=s.parent,Dr(s,!1));const o=s;!function sg(){ft.lFrame.elementDepthCount--}();const l=Nt();return l.firstCreatePass&&(Za(l,s),zo(s)&&l.queries.elementEnd(s)),null!=o.classesWithoutHost&&function _g(s){return 0!=(16&s.flags)}(o)&&T_(l,o,_e(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function mI(s){return 0!=(32&s.flags)}(o)&&T_(l,o,_e(),o.stylesWithoutHost,!1),Al}function Hd(s,o,l,d){return fp(s,o,l,d),Al(),Hd}function $d(s,o,l){const d=_e(),h=Nt(),p=s+20,y=h.firstCreatePass?function YA(s,o,l,d,h){const p=o.consts,y=rs(p,d),w=yi(o,s,8,"ng-container",y);return null!==y&&Od(w,y,!0),s_(o,l,w,rs(p,h)),null!==o.queries&&o.queries.elementStart(o,w),w}(p,h,d,o,l):h.data[p];Dr(y,!0);const w=d[p]=d[11].createComment("");return qg(h,d,w,y),It(w,d),oo(y)&&(t_(h,d,y),b0(h,y,d)),null!=l&&Zf(d,y),$d}function pp(){let s=fn();const o=Nt();return Uu()?Wa():(s=s.parent,Dr(s,!1)),o.firstCreatePass&&(Za(o,s),zo(s)&&o.queries.elementEnd(s)),pp}function mp(){return _e()}function cw(s){return!!s&&"function"==typeof s.then}function uw(s){return!!s&&"function"==typeof s.subscribe}const dw=uw;function k_(s,o,l,d){const h=_e(),p=Nt(),y=fn();return O_(p,h,h[11],y,s,o,!!l,d),k_}function gp(s,o){const l=fn(),d=_e(),h=Nt();return O_(h,d,Rd(Jo(h.data),l,d),l,s,o,!1),gp}function O_(s,o,l,d,h,p,y,w){const E=oo(d),T=s.firstCreatePass&&k0(s),x=o[8],U=h_(o);let W=!0;if(3&d.type||w){const Oe=ai(d,o),Ze=w?w(Oe):Oe,fe=U.length,dt=w?Ut=>w(cn(Ut[d.index])):d.index;if(hn(l)){let Ut=null;if(!w&&E&&(Ut=function R_(s,o,l,d){const h=s.cleanup;if(null!=h)for(let p=0;p<h.length-1;p+=2){const y=h[p];if(y===l&&h[p+1]===d){const w=o[7],E=h[p+2];return w.length>E?w[E]:null}"string"==typeof y&&(p+=2)}return null}(s,o,h,d.index)),null!==Ut)(Ut.__ngLastListenerFn__||Ut).__ngNextListenerFn__=p,Ut.__ngLastListenerFn__=p,W=!1;else{p=P_(d,o,x,p,!1);const en=l.listen(Ze,h,p);U.push(p,en),T&&T.push(h,dt,fe,fe+1)}}else p=P_(d,o,x,p,!0),Ze.addEventListener(h,p,y),U.push(p),T&&T.push(h,dt,fe,y)}else p=P_(d,o,x,p,!1);const ce=d.outputs;let Me;if(W&&null!==ce&&(Me=ce[h])){const Oe=Me.length;if(Oe)for(let Ze=0;Ze<Oe;Ze+=2){const Mr=o[Me[Ze]][Me[Ze+1]].subscribe(p),ni=U.length;U.push(p,Mr),T&&T.push(h,d.index,ni,-(ni+1))}}}function hw(s,o,l,d){try{return!1!==l(d)}catch(h){return R0(s,h),!1}}function P_(s,o,l,d,h){return function p(y){if(y===Function)return d;const w=2&s.flags?Ti(s.index,o):o;0==(32&o[2])&&l_(w);let E=hw(o,0,d,y),A=p.__ngNextListenerFn__;for(;A;)E=hw(o,0,A,y)&&E,A=A.__ngNextListenerFn__;return h&&!1===E&&(y.preventDefault(),y.returnValue=!1),E}}function fw(s=1){return function Ns(s){return(ft.lFrame.contextLView=function pg(s,o){for(;s>0;)o=o[15],s--;return o}(s,ft.lFrame.contextLView))[8]}(s)}function KA(s,o){let l=null;const d=function e1(s){const o=s.attrs;if(null!=o){const l=o.indexOf(5);if(0==(1&l))return o[l+1]}return null}(s);for(let h=0;h<o.length;h++){const p=o[h];if("*"!==p){if(null===d?WI(s,p,!0):r1(d,p))return h}else l=h}return l}function pw(s){const o=_e()[16][6];if(!o.projection){const d=o.projection=qi(s?s.length:1,null),h=d.slice();let p=o.child;for(;null!==p;){const y=s?KA(p,s):0;null!==y&&(h[y]?h[y].projectionNext=p:d[y]=p,h[y]=p),p=p.next}}}function F_(s,o=0,l){const d=_e(),h=Nt(),p=yi(h,20+s,16,null,l||null);null===p.projection&&(p.projection=o),Wa(),64!=(64&p.flags)&&function YO(s,o,l){jI(o[11],0,o,l,OI(s,l,o),Gf(l.parent||o[6],l,o))}(h,d,p)}function Wc(s,o,l,d,h){const p=s[l+1],y=null===o;let w=d?Zs(p):_a(p),E=!1;for(;0!==w&&(!1===E||y);){const T=s[w+1];U_(s[w],o)&&(E=!0,s[w+1]=d?p0(T):h0(T)),w=d?Zs(T):_a(T)}E&&(s[l+1]=d?h0(p):p0(p))}function U_(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&wo(s,o)>=0}const ti={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function ww(s){return s.substring(ti.key,ti.keyEnd)}function Cw(s,o){const l=ti.textEnd;return l===o?-1:(o=ti.keyEnd=function Dw(s,o,l){for(;o<l&&s.charCodeAt(o)>32;)o++;return o}(s,ti.key=o,l),Sl(s,o,l))}function Sl(s,o,l){for(;o<l&&s.charCodeAt(o)<=32;)o++;return o}function $_(s,o,l){return Es(s,o,l,!1),$_}function vp(s,o){return Es(s,o,null,!0),vp}function Yr(s,o){for(let l=function QA(s){return function H_(s){ti.key=0,ti.keyEnd=0,ti.value=0,ti.valueEnd=0,ti.textEnd=s.length}(s),Cw(s,Sl(s,0,ti.textEnd))}(o);l>=0;l=Cw(o,l))lr(s,ww(o),!0)}function Es(s,o,l,d){const h=_e(),p=Nt(),y=Ir(2);p.firstUpdatePass&&Sw(p,s,y,d),o!==St&&Ri(h,y,o)&&kw(p,p.data[Mi()],h,h[11],s,h[y+1]=function sS(s,o){return null==s||("string"==typeof o?s+=o:"object"==typeof s&&(s=he(ps(s)))),s}(o,l),d,y)}function Aw(s,o){return o>=s.expandoStartIndex}function Sw(s,o,l,d){const h=s.data;if(null===h[l+1]){const p=h[Mi()],y=Aw(s,l);Sa(p,d)&&null===o&&!y&&(o=!1),o=function nS(s,o,l,d){const h=Jo(s);let p=d?o.residualClasses:o.residualStyles;if(null===h)0===(d?o.classBindings:o.styleBindings)&&(l=zd(l=wp(null,s,o,l,d),o.attrs,d),p=null);else{const y=o.directiveStylingLast;if(-1===y||s[y]!==h)if(l=wp(h,s,o,l,d),null===p){let E=function iS(s,o,l){const d=l?o.classBindings:o.styleBindings;if(0!==_a(d))return s[Zs(d)]}(s,o,d);void 0!==E&&Array.isArray(E)&&(E=wp(null,s,o,E[1],d),E=zd(E,o.attrs,d),function Tw(s,o,l,d){s[Zs(l?o.classBindings:o.styleBindings)]=d}(s,o,d,E))}else p=function bp(s,o,l){let d;const h=o.directiveEnd;for(let p=1+o.directiveStylingLast;p<h;p++)d=zd(d,s[p].hostAttrs,l);return zd(d,o.attrs,l)}(s,o,d)}return void 0!==p&&(d?o.residualClasses=p:o.residualStyles=p),l}(h,p,o,d),function qr(s,o,l,d,h,p){let y=p?o.classBindings:o.styleBindings,w=Zs(y),E=_a(y);s[d]=l;let T,A=!1;if(Array.isArray(l)){const x=l;T=x[1],(null===T||wo(x,T)>0)&&(A=!0)}else T=l;if(h)if(0!==E){const U=Zs(s[w+1]);s[d+1]=Yg(U,w),0!==U&&(s[U+1]=f0(s[U+1],d)),s[w+1]=function l1(s,o){return 131071&s|o<<17}(s[w+1],d)}else s[d+1]=Yg(w,0),0!==w&&(s[w+1]=f0(s[w+1],d)),w=d;else s[d+1]=Yg(E,0),0===w?w=d:s[E+1]=f0(s[E+1],d),E=d;A&&(s[d+1]=h0(s[d+1])),Wc(s,T,d,!0),Wc(s,T,d,!1),function B_(s,o,l,d,h){const p=h?s.residualClasses:s.residualStyles;null!=p&&"string"==typeof o&&wo(p,o)>=0&&(l[d+1]=p0(l[d+1]))}(o,T,s,d,p),y=Yg(w,E),p?o.classBindings=y:o.styleBindings=y}(h,p,o,l,y,d)}}function wp(s,o,l,d,h){let p=null;const y=l.directiveEnd;let w=l.directiveStylingLast;for(-1===w?w=l.directiveStart:w++;w<y&&(p=o[w],d=zd(d,p.hostAttrs,h),p!==s);)w++;return null!==s&&(l.directiveStylingLast=w),d}function zd(s,o,l){const d=l?1:2;let h=-1;if(null!==o)for(let p=0;p<o.length;p++){const y=o[p];"number"==typeof y?h=y:h===d&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),lr(s,y,!!l||o[++p]))}return void 0===s?null:s}function kw(s,o,l,d,h,p,y,w){if(!(3&o.type))return;const E=s.data,A=E[w+1];Cp(function XI(s){return 1==(1&s)}(A)?Rw(E,o,l,h,_a(A),y):void 0)||(Cp(p)||function JI(s){return 2==(2&s)}(A)&&(p=Rw(E,null,l,h,w,y)),function KO(s,o,l,d,h){const p=hn(s);if(o)h?p?s.addClass(l,d):l.classList.add(d):p?s.removeClass(l,d):l.classList.remove(d);else{let y=-1===d.indexOf("-")?void 0:Ao.DashCase;if(null==h)p?s.removeStyle(l,d,y):l.style.removeProperty(d);else{const w="string"==typeof h&&h.endsWith("!important");w&&(h=h.slice(0,-10),y|=Ao.Important),p?s.setStyle(l,d,h,y):l.style.setProperty(d,h,w?"important":"")}}}(d,y,Yo(Mi(),l),h,p))}function Rw(s,o,l,d,h,p){const y=null===o;let w;for(;h>0;){const E=s[h],A=Array.isArray(E),T=A?E[1]:E,x=null===T;let U=l[h+1];U===St&&(U=x?lt:void 0);let W=x?Df(U,d):T===d?U:void 0;if(A&&!Cp(W)&&(W=Df(E,d)),Cp(W)&&(w=W,y))return w;const ce=s[h+1];h=y?Zs(ce):_a(ce)}if(null!==o){let E=p?o.residualClasses:o.residualStyles;null!=E&&(w=Df(E,d))}return w}function Cp(s){return void 0!==s}function Sa(s,o){return 0!=(s.flags&(o?16:32))}function z_(s,o=""){const l=_e(),d=Nt(),h=s+20,p=d.firstCreatePass?yi(d,h,1,o,null):d.data[h],y=l[h]=function Fc(s,o){return hn(s)?s.createText(o):s.createTextNode(o)}(l[11],o);qg(d,l,y,p),Dr(p,!1)}function Ep(s){return Dp("",s,""),Ep}function Dp(s,o,l){const d=_e(),h=$c(d,s,o,l);return h!==St&&xn(d,Mi(),h),Dp}function cS(s,o,l){!function Zr(s,o,l,d){const h=Nt(),p=Ir(2);h.firstUpdatePass&&Sw(h,null,p,d);const y=_e();if(l!==St&&Ri(y,p,l)){const w=h.data[Mi()];if(Sa(w,d)&&!Aw(h,p)){let E=d?w.classesWithoutHost:w.stylesWithoutHost;null!==E&&(l=Ie(E,l||"")),T_(h,w,y,l,d)}else!function rS(s,o,l,d,h,p,y,w){h===St&&(h=lt);let E=0,A=0,T=0<h.length?h[0]:null,x=0<p.length?p[0]:null;for(;null!==T||null!==x;){const U=E<h.length?h[E+1]:void 0,W=A<p.length?p[A+1]:void 0;let Me,ce=null;T===x?(E+=2,A+=2,U!==W&&(ce=x,Me=W)):null===x||null!==T&&T<x?(E+=2,ce=T):(A+=2,ce=x,Me=W),null!==ce&&kw(s,o,l,d,ce,Me,y,w),T=E<h.length?h[E]:null,x=A<p.length?p[A]:null}}(h,w,y,y[11],y[p+1],y[p+1]=function Mw(s,o,l){if(null==l||""===l)return lt;const d=[],h=ps(l);if(Array.isArray(h))for(let p=0;p<h.length;p++)s(d,h[p],!0);else if("object"==typeof h)for(const p in h)h.hasOwnProperty(p)&&s(d,p,h[p]);else"string"==typeof h&&o(d,h);return d}(s,o,l),d,p)}}(lr,Yr,$c(_e(),s,o,l),!0)}function Sp(s,o,l){const d=_e();return Ri(d,Qo(),o)&&dr(Nt(),vn(),d,s,o,d[11],l,!0),Sp}function xl(s,o,l){const d=_e();if(Ri(d,Qo(),o)){const p=Nt(),y=vn();dr(p,y,d,s,o,Rd(Jo(p.data),y,d),l,!0)}return xl}const Js=void 0;var $w=["en",[["a","p"],["AM","PM"],Js],[["AM","PM"],Js,Js],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Js,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Js,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Js,"{1} 'at' {0}",Js],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function gS(s){const l=Math.floor(Math.abs(s)),d=s.toString().replace(/^[^.]*\.?/,"").length;return 1===l&&0===d?1:5}];let Zc={};function Tp(s){const o=function Gd(s){return s.toLowerCase().replace(/_/g,"-")}(s);let l=qw(o);if(l)return l;const d=o.split("-")[0];if(l=qw(d),l)return l;if("en"===d)return $w;throw new Error(`Missing locale data for the locale "${s}".`)}function Gw(s){return Tp(s)[pt.PluralCase]}function qw(s){return s in Zc||(Zc[s]=Lt.ng&&Lt.ng.common&&Lt.ng.common.locales&&Lt.ng.common.locales[s]),Zc[s]}var pt=(()=>((pt=pt||{})[pt.LocaleId=0]="LocaleId",pt[pt.DayPeriodsFormat=1]="DayPeriodsFormat",pt[pt.DayPeriodsStandalone=2]="DayPeriodsStandalone",pt[pt.DaysFormat=3]="DaysFormat",pt[pt.DaysStandalone=4]="DaysStandalone",pt[pt.MonthsFormat=5]="MonthsFormat",pt[pt.MonthsStandalone=6]="MonthsStandalone",pt[pt.Eras=7]="Eras",pt[pt.FirstDayOfWeek=8]="FirstDayOfWeek",pt[pt.WeekendRange=9]="WeekendRange",pt[pt.DateFormat=10]="DateFormat",pt[pt.TimeFormat=11]="TimeFormat",pt[pt.DateTimeFormat=12]="DateTimeFormat",pt[pt.NumberSymbols=13]="NumberSymbols",pt[pt.NumberFormats=14]="NumberFormats",pt[pt.CurrencyCode=15]="CurrencyCode",pt[pt.CurrencySymbol=16]="CurrencySymbol",pt[pt.CurrencyName=17]="CurrencyName",pt[pt.Currencies=18]="Currencies",pt[pt.Directionality=19]="Directionality",pt[pt.PluralCase=20]="PluralCase",pt[pt.ExtraData=21]="ExtraData",pt))();const Kc="en-US";let vS=Kc;function _C(s,o,l,d,h){if(s=K(s),Array.isArray(s))for(let p=0;p<s.length;p++)_C(s[p],o,l,d,h);else{const p=Nt(),y=_e();let w=vl(s)?s:K(s.provide),E=Uc(s);const A=fn(),T=1048575&A.providerIndexes,x=A.directiveStart,U=A.providerIndexes>>20;if(vl(s)||!s.multi){const W=new _c(E,h,jd),ce=vC(w,o,h?T:T+U,x);-1===ce?(Qa(_i(A,y),p,w),yC(p,s,o.length),o.push(w),A.directiveStart++,A.directiveEnd++,h&&(A.providerIndexes+=1048576),l.push(W),y.push(W)):(l[ce]=W,y[ce]=W)}else{const W=vC(w,o,T+U,x),ce=vC(w,o,T,T+U),Me=W>=0&&l[W],Oe=ce>=0&&l[ce];if(h&&!Oe||!h&&!Me){Qa(_i(A,y),p,w);const Ze=function iP(s,o,l,d,h){const p=new _c(s,l,jd);return p.multi=[],p.index=o,p.componentProviders=0,ZS(p,h,d&&!l),p}(h?nP:ty,l.length,h,d,E);!h&&Oe&&(l[ce].providerFactory=Ze),yC(p,s,o.length,0),o.push(w),A.directiveStart++,A.directiveEnd++,h&&(A.providerIndexes+=1048576),l.push(Ze),y.push(Ze)}else yC(p,s,W>-1?W:ce,ZS(l[h?ce:W],E,!h&&d));!h&&d&&Oe&&l[ce].componentProviders++}}}function yC(s,o,l,d){const h=vl(o),p=function SA(s){return!!s.useClass}(o);if(h||p){const E=(p?K(o.useClass):o).prototype.ngOnDestroy;if(E){const A=s.destroyHooks||(s.destroyHooks=[]);if(!h&&o.multi){const T=A.indexOf(l);-1===T?A.push(l,[d,E]):A[T+1].push(d,E)}else A.push(l,E)}}}function ZS(s,o,l){return l&&s.componentProviders++,s.multi.push(o)-1}function vC(s,o,l,d){for(let h=l;h<d;h++)if(o[h]===s)return h;return-1}function ty(s,o,l,d){return bC(this.multi,[])}function nP(s,o,l,d){const h=this.multi;let p;if(this.providerFactory){const y=this.providerFactory.componentProviders,w=go(l,l[1],this.providerFactory.index,d);p=w.slice(0,y),bC(h,p);for(let E=y;E<w.length;E++)p.push(w[E])}else p=[],bC(h,p);return p}function bC(s,o){for(let l=0;l<s.length;l++)o.push((0,s[l])());return o}function KS(s,o=[]){return l=>{l.providersResolver=(d,h)=>function tP(s,o,l){const d=Nt();if(d.firstCreatePass){const h=Cr(s);_C(l,d.data,d.blueprint,h,!0),_C(o,d.data,d.blueprint,h,!1)}}(d,h?h(s):s,o)}}class ny{}class JS{resolveComponentFactory(o){throw function wC(s){const o=Error(`No component factory found for ${he(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let Rp=(()=>{class s{}return s.NULL=new JS,s})();function XS(){return Jc(fn(),_e())}function Jc(s,o){return new Xd(ai(s,o))}let Xd=(()=>{class s{constructor(l){this.nativeElement=l}}return s.__NG_ELEMENT_ID__=XS,s})();function eT(s){return s instanceof Xd?s.nativeElement:s}class EC{}let sP=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function IC(){const s=_e(),l=Ti(fn().index,s);return function DC(s){return s[11]}(Yn(l)?l:s)}(),s})(),AC=(()=>{class s{}return s.\u0275prov=Yt({token:s,providedIn:"root",factory:()=>null}),s})();class nT{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const iy=new nT("13.3.3"),ry={};function Op(s,o,l,d,h=!1){for(;null!==l;){const p=o[l.index];if(null!==p&&d.push(cn(p)),Si(p))for(let w=10;w<p.length;w++){const E=p[w],A=E[1].firstChild;null!==A&&Op(E[1],E,A,d)}const y=l.type;if(8&y)Op(s,o,l.child,d);else if(32&y){const w=Jb(l,o);let E;for(;E=w();)d.push(E)}else if(16&y){const w=BI(o,l);if(Array.isArray(w))d.push(...w);else{const E=Dd(o[16]);Op(E[1],E,w,d,!0)}}l=h?l.projectionNext:l.next}return d}class eh{constructor(o,l){this._lView=o,this._cdRefInjectingView=l,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,l=o[1];return Op(l,o,l.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(Si(o)){const l=o[8],d=l?l.indexOf(this):-1;d>-1&&(s0(o,d),Ic(l,d))}this._attachedToViewContainer=!1}RI(this._lView[1],this._lView)}onDestroy(o){sA(this._lView[1],this._lView,null,o)}markForCheck(){l_(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){c_(this._lView[1],this._lView,this.context)}checkNoChanges(){!function u_(s,o,l){fc(!0);try{c_(s,o,l)}finally{fc(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Re(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function UO(s,o){qf(s,o,o[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new Re(902,"");this._appRef=o}}class iT extends eh{constructor(o){super(o),this._view=o}detectChanges(){kd(this._view)}checkNoChanges(){!function CA(s){fc(!0);try{kd(s)}finally{fc(!1)}}(this._view)}get context(){return null}}class SC extends Rp{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const l=Ue(o);return new oy(l,this.ngModule)}}function sy(s){const o=[];for(let l in s)s.hasOwnProperty(l)&&o.push({propName:s[l],templateName:l});return o}class oy extends ny{constructor(o,l){super(),this.componentDef=o,this.ngModule=l,this.componentType=o.type,this.selector=function o1(s){return s.map(s1).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!l}get inputs(){return sy(this.componentDef.inputs)}get outputs(){return sy(this.componentDef.outputs)}create(o,l,d,h){const p=(h=h||this.ngModule)?function sT(s,o){return{get:(l,d,h)=>{const p=s.get(l,ry,h);return p!==ry||d===ry?p:o.get(l,d,h)}}}(o,h.injector):o,y=p.get(EC,za),w=p.get(AC,null),E=y.createRenderer(null,this.componentDef),A=this.componentDef.selectors[0][0]||"div",T=d?function w0(s,o,l){if(hn(s))return s.selectRootElement(o,l===Rt.ShadowDom);let d="string"==typeof o?s.querySelector(o):o;return d.textContent="",d}(E,d,this.componentDef.encapsulation):Ys(y.createRenderer(null,this.componentDef),A,function rT(s){const o=s.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(A)),x=this.componentDef.onPush?576:528,U=function G0(s,o){return{components:[],scheduler:s||xI,clean:d_,playerHandler:o||null,flags:0}}(),W=i_(0,null,null,1,0,null,null,null,null,null),ce=Xn(null,W,U,x,null,null,y,E,w,p);let Me,Oe;gc(ce);try{const Ze=function $0(s,o,l,d,h,p){const y=l[1];l[20]=s;const E=yi(y,20,2,"#host",null),A=E.mergedAttrs=o.hostAttrs;null!==A&&(Od(E,A,!0),null!==s&&(Xo(h,s,A),null!==E.classes&&d0(h,s,E.classes),null!==E.styles&&HI(h,s,E.styles)));const T=d.createRenderer(s,o),x=Xn(l,n_(o),null,o.onPush?64:16,l[20],E,d,T,p||null,null);return y.firstCreatePass&&(Qa(_i(E,l),y,o.type),I0(y,E),A0(E,l.length,1)),Kf(l,x),l[20]=x}(T,this.componentDef,ce,y,E);if(T)if(d)Xo(E,T,["ng-version",iy.full]);else{const{attrs:fe,classes:dt}=function a1(s){const o=[],l=[];let d=1,h=2;for(;d<s.length;){let p=s[d];if("string"==typeof p)2===h?""!==p&&o.push(p,s[++d]):8===h&&l.push(p);else{if(!_s(h))break;h=p}d++}return{attrs:o,classes:l}}(this.componentDef.selectors[0]);fe&&Xo(E,T,fe),dt&&dt.length>0&&d0(E,T,dt.join(" "))}if(Oe=lc(W,20),void 0!==l){const fe=Oe.projection=[];for(let dt=0;dt<this.ngContentSelectors.length;dt++){const Ut=l[dt];fe.push(null!=Ut?Array.from(Ut):null)}}Me=function z0(s,o,l,d,h){const p=l[1],y=function uA(s,o,l){const d=fn();s.firstCreatePass&&(l.providersResolver&&l.providersResolver(l),S0(s,d,o,wa(s,o,1,null),l));const h=go(o,s,d.directiveStart,d);It(h,o);const p=ai(d,o);return p&&It(p,o),h}(p,l,o);if(d.components.push(y),s[8]=y,h&&h.forEach(E=>E(y,o)),o.contentQueries){const E=fn();o.contentQueries(1,y,E.directiveStart)}const w=fn();return!p.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(os(w.index),E0(l[1],w,0,w.directiveStart,w.directiveEnd,o),o_(o,y)),y}(Ze,this.componentDef,ce,U,[LA]),xd(W,ce,null)}finally{Ya()}return new aP(this.componentType,Me,Jc(Oe,ce),ce,Oe)}}class aP extends class QS{}{constructor(o,l,d,h,p){super(),this.location=d,this._rootLView=h,this._tNode=p,this.instance=l,this.hostView=this.changeDetectorRef=new iT(h),this.componentType=o}get injector(){return new _o(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}class th{}class TC{}const nh=new Map;class cT extends th{constructor(o,l){super(),this._parent=l,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new SC(this);const d=vt(o);this._bootstrapComponents=yt(d.bootstrap),this._r3Injector=O0(o,l,[{provide:th,useValue:this},{provide:Rp,useValue:this.componentFactoryResolver}],he(o)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(o)}get(o,l=Ks.THROW_IF_NOT_FOUND,d=at.Default){return o===Ks||o===th||o===Mo?this:this._r3Injector.get(o,l,d)}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(l=>l()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class MC extends TC{constructor(o){super(),this.moduleType=o,null!==vt(o)&&function cP(s){const o=new Set;!function l(d){const h=vt(d,!0),p=h.id;null!==p&&(function aT(s,o,l){if(o&&o!==l)throw new Error(`Duplicate module registered for ${s} - ${he(o)} vs ${he(o.name)}`)}(p,nh.get(p),d),nh.set(p,d));const y=yt(h.imports);for(const w of y)o.has(w)||(o.add(w),l(w))}(s)}(o)}create(o){return new cT(this.moduleType,o)}}function ay(s,o,l,d,h,p,y){const w=o+l;return function Ea(s,o,l,d){const h=Ri(s,o,l);return Ri(s,o+1,d)||h}(s,w,h,p)?function bs(s,o,l){return s[o]=l}(s,w+2,y?d.call(y,h,p):d(h,p)):function Yi(s,o){const l=s[o];return l===St?void 0:l}(s,w+2)}function uy(s,o){const l=Nt();let d;const h=s+20;l.firstCreatePass?(d=function mT(s,o){if(o)for(let l=o.length-1;l>=0;l--){const d=o[l];if(s===d.name)return d}}(o,l.pipeRegistry),l.data[h]=d,d.onDestroy&&(l.destroyHooks||(l.destroyHooks=[])).push(h,d.onDestroy)):d=l.data[h];const p=d.factory||(d.factory=Er(d.type)),y=Xt(jd);try{const w=vc(!1),E=p();return vc(w),function Il(s,o,l,d){l>=s.data.length&&(s.data[l]=null,s.blueprint[l]=null),o[l]=d}(l,_e(),h,E),E}finally{Xt(y)}}function kC(s,o,l,d){const h=s+20,p=_e(),y=jr(p,h);return function Xc(s,o){return s[1].data[o].pure}(p,h)?ay(p,function $n(){const s=ft.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}(),o,y.transform,l,d,y):y.transform(l,d)}function Fp(s){return o=>{setTimeout(s,void 0,o)}}const Qr=class dy extends c.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,l,d){var h,p,y;let w=o,E=l||(()=>null),A=d;if(o&&"object"==typeof o){const x=o;w=null===(h=x.next)||void 0===h?void 0:h.bind(x),E=null===(p=x.error)||void 0===p?void 0:p.bind(x),A=null===(y=x.complete)||void 0===y?void 0:y.bind(x)}this.__isAsync&&(E=Fp(E),w&&(w=Fp(w)),A&&(A=Fp(A)));const T=super.subscribe({next:w,error:E,complete:A});return o instanceof B.w0&&o.add(T),T}};function hy(){return this._results[bl()]()}class ih{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const l=bl(),d=ih.prototype;d[l]||(d[l]=hy)}get changes(){return this._changes||(this._changes=new Qr)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,l){return this._results.reduce(o,l)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,l){const d=this;d.dirty=!1;const h=Gi(o);(this._changesDetected=!function tl(s,o,l){if(s.length!==o.length)return!1;for(let d=0;d<s.length;d++){let h=s[d],p=o[d];if(l&&(h=l(h),p=l(p)),p!==h)return!1}return!0}(d._results,h,l))&&(d._results=h,d.length=h.length,d.last=h[this.length-1],d.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let eu=(()=>{class s{}return s.__NG_ELEMENT_ID__=vT,s})();const fy=eu,py=class extends fy{constructor(o,l,d){super(),this._declarationLView=o,this._declarationTContainer=l,this.elementRef=d}createEmbeddedView(o){const l=this._declarationTContainer.tViews,d=Xn(this._declarationLView,l,o,16,null,l.declTNode,null,null,null,null);d[17]=this._declarationLView[this._declarationTContainer.index];const p=this._declarationLView[19];return null!==p&&(d[19]=p.createEmbeddedView(l)),xd(l,d,o),new eh(d)}};function vT(){return Np(fn(),_e())}function Np(s,o){return 4&s.type?new py(o,s,Jc(s,o)):null}let Lp=(()=>{class s{}return s.__NG_ELEMENT_ID__=my,s})();function my(){return FC(fn(),_e())}const RC=Lp,OC=class extends RC{constructor(o,l,d){super(),this._lContainer=o,this._hostTNode=l,this._hostLView=d}get element(){return Jc(this._hostTNode,this._hostLView)}get injector(){return new _o(this._hostTNode,this._hostLView)}get parentInjector(){const o=po(this._hostTNode,this._hostLView);if(Tn(o)){const l=un(o,this._hostLView),d=or(o);return new _o(l[1].data[d+8],l)}return new _o(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const l=PC(this._lContainer);return null!==l&&l[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,l,d){const h=o.createEmbeddedView(l||{});return this.insert(h,d),h}createComponent(o,l,d,h,p){const y=o&&!function xi(s){return"function"==typeof s}(o);let w;if(y)w=l;else{const x=l||{};w=x.index,d=x.injector,h=x.projectableNodes,p=x.ngModuleRef}const E=y?o:new oy(Ue(o)),A=d||this.parentInjector;if(!p&&null==E.ngModule){const U=(y?A:this.parentInjector).get(th,null);U&&(p=U)}const T=E.create(A,h,void 0,p);return this.insert(T.hostView,w),T}insert(o,l){const d=o._lView,h=d[1];if(function cc(s){return Si(s[3])}(d)){const T=this.indexOf(o);if(-1!==T)this.detach(T);else{const x=d[3],U=new OC(x,x[6],x[3]);U.detach(U.indexOf(o))}}const p=this._adjustIndex(l),y=this._lContainer;!function HO(s,o,l,d){const h=10+d,p=l.length;d>0&&(l[h-1][4]=o),d<p-10?(o[4]=l[h],ta(l,10+d,o)):(l.push(o),o[4]=null),o[3]=l;const y=o[17];null!==y&&l!==y&&function $O(s,o){const l=s[9];o[16]!==o[3][3][16]&&(s[2]=!0),null===l?s[9]=[o]:l.push(o)}(y,o);const w=o[19];null!==w&&w.insertView(s),o[2]|=128}(h,d,y,p);const w=c0(p,y),E=d[11],A=Gg(E,y[7]);return null!==A&&function ga(s,o,l,d,h,p){d[0]=h,d[6]=o,qf(s,d,l,1,h,p)}(h,y[6],E,d,A,w),o.attachToViewContainerRef(),ta(rh(y),p,o),o}move(o,l){return this.insert(o,l)}indexOf(o){const l=PC(this._lContainer);return null!==l?l.indexOf(o):-1}remove(o){const l=this._adjustIndex(o,-1),d=s0(this._lContainer,l);d&&(Ic(rh(this._lContainer),l),RI(d[1],d))}detach(o){const l=this._adjustIndex(o,-1),d=s0(this._lContainer,l);return d&&null!=Ic(rh(this._lContainer),l)?new eh(d):null}_adjustIndex(o,l=0){return null==o?this.length+l:o}};function PC(s){return s[8]}function rh(s){return s[8]||(s[8]=[])}function FC(s,o){let l;const d=o[s.index];if(Si(d))l=d;else{let h;if(8&s.type)h=cn(d);else{const p=o[11];h=p.createComment("");const y=ai(s,o);Nc(p,Gg(p,y),h,function WO(s,o){return hn(s)?s.nextSibling(o):o.nextSibling}(p,y),!1)}o[s.index]=l=a_(d,o,h,s),Kf(o,l)}return new OC(l,s,o)}class Vp{constructor(o){this.queryList=o,this.matches=null}clone(){return new Vp(this.queryList)}setDirty(){this.queryList.setDirty()}}class gy{constructor(o=[]){this.queries=o}createEmbeddedView(o){const l=o.queries;if(null!==l){const d=null!==o.contentQueries?o.contentQueries[0]:l.length,h=[];for(let p=0;p<d;p++){const y=l.getByIndex(p);h.push(this.queries[y.indexInDeclarationView].clone())}return new gy(h)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let l=0;l<this.queries.length;l++)null!==zp(o,l).matches&&this.queries[l].setDirty()}}class NC{constructor(o,l,d=null){this.predicate=o,this.flags=l,this.read=d}}class Bp{constructor(o=[]){this.queries=o}elementStart(o,l){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(o,l)}elementEnd(o){for(let l=0;l<this.queries.length;l++)this.queries[l].elementEnd(o)}embeddedTView(o){let l=null;for(let d=0;d<this.length;d++){const h=null!==l?l.length:0,p=this.getByIndex(d).embeddedTView(o,h);p&&(p.indexInDeclarationView=d,null!==l?l.push(p):l=[p])}return null!==l?new Bp(l):null}template(o,l){for(let d=0;d<this.queries.length;d++)this.queries[d].template(o,l)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class _y{constructor(o,l=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=l}elementStart(o,l){this.isApplyingToNode(l)&&this.matchTNode(o,l)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,l){this.elementStart(o,l)}embeddedTView(o,l){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,l),new _y(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const l=this._declarationNodeIndex;let d=o.parent;for(;null!==d&&8&d.type&&d.index!==l;)d=d.parent;return l===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(o,l){const d=this.metadata.predicate;if(Array.isArray(d))for(let h=0;h<d.length;h++){const p=d[h];this.matchTNodeWithReadOption(o,l,Ol(l,p)),this.matchTNodeWithReadOption(o,l,Ja(l,o,p,!1,!1))}else d===eu?4&l.type&&this.matchTNodeWithReadOption(o,l,-1):this.matchTNodeWithReadOption(o,l,Ja(l,o,d,!1,!1))}matchTNodeWithReadOption(o,l,d){if(null!==d){const h=this.metadata.read;if(null!==h)if(h===Xd||h===Lp||h===eu&&4&l.type)this.addMatch(l.index,-2);else{const p=Ja(l,o,h,!1,!1);null!==p&&this.addMatch(l.index,p)}else this.addMatch(l.index,d)}}addMatch(o,l){null===this.matches?this.matches=[o,l]:this.matches.push(o,l)}}function Ol(s,o){const l=s.localNames;if(null!==l)for(let d=0;d<l.length;d+=2)if(l[d]===o)return l[d+1];return null}function VC(s,o,l,d){return-1===l?function LC(s,o){return 11&s.type?Jc(s,o):4&s.type?Np(s,o):null}(o,s):-2===l?function wT(s,o,l){return l===Xd?Jc(o,s):l===eu?Np(o,s):l===Lp?FC(o,s):void 0}(s,o,d):go(s,s[1],l,o)}function BC(s,o,l,d){const h=o[19].queries[d];if(null===h.matches){const p=s.data,y=l.matches,w=[];for(let E=0;E<y.length;E+=2){const A=y[E];w.push(A<0?null:VC(o,p[A],y[E+1],l.metadata.read))}h.matches=w}return h.matches}function Bo(s,o,l,d){const h=s.queries.getByIndex(l),p=h.matches;if(null!==p){const y=BC(s,o,h,l);for(let w=0;w<p.length;w+=2){const E=p[w];if(E>0)d.push(y[w/2]);else{const A=p[w+1],T=o[-E];for(let x=10;x<T.length;x++){const U=T[x];U[17]===U[3]&&Bo(U[1],U,A,d)}if(null!==T[9]){const x=T[9];for(let U=0;U<x.length;U++){const W=x[U];Bo(W[1],W,A,d)}}}}}return d}function Up(s){const o=_e(),l=Nt(),d=ug();$u(d+1);const h=zp(l,d);if(s.dirty&&lo(o)===(2==(2&h.metadata.flags))){if(null===h.matches)s.reset([]);else{const p=h.crossesNgTemplate?Bo(l,o,d,[]):BC(l,o,h,d);s.reset(p,eT),s.notifyOnChanges()}return!0}return!1}function jp(s,o,l){const d=Nt();d.firstCreatePass&&(nu(d,new NC(s,o,l),-1),2==(2&o)&&(d.staticViewQueries=!0)),$p(d,_e(),o)}function oh(s,o,l,d){const h=Nt();if(h.firstCreatePass){const p=fn();nu(h,new NC(o,l,d),p.index),function vy(s,o){const l=s.contentQueries||(s.contentQueries=[]);o!==(l.length?l[l.length-1]:-1)&&l.push(s.queries.length-1,o)}(h,s),2==(2&l)&&(h.staticContentQueries=!0)}$p(h,_e(),l)}function Hp(){return function yy(s,o){return s[19].queries[o].queryList}(_e(),ug())}function $p(s,o,l){const d=new ih(4==(4&l));sA(s,o,d,d.destroy),null===o[19]&&(o[19]=new gy),o[19].queries.push(new Vp(d))}function nu(s,o,l){null===s.queries&&(s.queries=new Bp),s.queries.track(new _y(o,l))}function zp(s,o){return s.queries.getByIndex(o)}function Jp(...s){}const PT=new wn("Application Initializer");let My=(()=>{class s{constructor(l){this.appInits=l,this.resolve=Jp,this.reject=Jp,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,h)=>{this.resolve=d,this.reject=h})}runInitializers(){if(this.initialized)return;const l=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const p=this.appInits[h]();if(cw(p))l.push(p);else if(dw(p)){const y=new Promise((w,E)=>{p.subscribe({complete:w,error:E})});l.push(y)}}Promise.all(l).then(()=>{d()}).catch(h=>{this.reject(h)}),0===l.length&&d(),this.initialized=!0}}return s.\u0275fac=function(l){return new(l||s)(ci(PT,8))},s.\u0275prov=Yt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const Xp=new wn("AppId",{providedIn:"root",factory:function JC(){return`${ch()}${ch()}${ch()}`}});function ch(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const FT=new wn("Platform Initializer"),wP=new wn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),NT=new wn("appBootstrapListener");let em=(()=>{class s{log(l){console.log(l)}warn(l){console.warn(l)}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=Yt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const xy=new wn("LocaleId",{providedIn:"root",factory:()=>xf(xy,at.Optional|at.SkipSelf)||function CP(){return"undefined"!=typeof $localize&&$localize.locale||Kc}()}),LT=new wn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class VT{constructor(o,l){this.ngModuleFactory=o,this.componentFactories=l}}let BT=(()=>{class s{compileModuleSync(l){return new MC(l)}compileModuleAsync(l){return Promise.resolve(this.compileModuleSync(l))}compileModuleAndAllComponentsSync(l){const d=this.compileModuleSync(l),p=yt(vt(l).declarations).reduce((y,w)=>{const E=Ue(w);return E&&y.push(new oy(E)),y},[]);return new VT(d,p)}compileModuleAndAllComponentsAsync(l){return Promise.resolve(this.compileModuleAndAllComponentsSync(l))}clearCache(){}clearCacheFor(l){}getModuleId(l){}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=Yt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const jT=(()=>Promise.resolve(0))();function su(s){"undefined"==typeof Zone?jT.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class Ds{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:l=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Qr(!1),this.onMicrotaskEmpty=new Qr(!1),this.onStable=new Qr(!1),this.onError=new Qr(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!d&&l,h.shouldCoalesceRunChangeDetection=d,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function Fl(){let s=Lt.requestAnimationFrame,o=Lt.cancelAnimationFrame;if("undefined"!=typeof Zone&&s&&o){const l=s[Zone.__symbol__("OriginalDelegate")];l&&(s=l);const d=o[Zone.__symbol__("OriginalDelegate")];d&&(o=d)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function zT(s){const o=()=>{!function $T(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(Lt,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,Ry(s),s.isCheckStableRunning=!0,ky(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),Ry(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(l,d,h,p,y,w)=>{try{return GT(s),l.invokeTask(h,p,y,w)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||s.shouldCoalesceRunChangeDetection)&&o(),tm(s)}},onInvoke:(l,d,h,p,y,w,E)=>{try{return GT(s),l.invoke(h,p,y,w,E)}finally{s.shouldCoalesceRunChangeDetection&&o(),tm(s)}},onHasTask:(l,d,h,p)=>{l.hasTask(h,p),d===h&&("microTask"==p.change?(s._hasPendingMicrotasks=p.microTask,Ry(s),ky(s)):"macroTask"==p.change&&(s.hasPendingMacrotasks=p.macroTask))},onHandleError:(l,d,h,p)=>(l.handleError(h,p),s.runOutsideAngular(()=>s.onError.emit(p)),!1)})}(h)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ds.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Ds.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(o,l,d){return this._inner.run(o,l,d)}runTask(o,l,d,h){const p=this._inner,y=p.scheduleEventTask("NgZoneEvent: "+h,o,HT,Jp,Jp);try{return p.runTask(y,l,d)}finally{p.cancelTask(y)}}runGuarded(o,l,d){return this._inner.runGuarded(o,l,d)}runOutsideAngular(o){return this._outer.run(o)}}const HT={};function ky(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function Ry(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function GT(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function tm(s){s._nesting--,ky(s)}class qT{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Qr,this.onMicrotaskEmpty=new Qr,this.onStable=new Qr,this.onError=new Qr}run(o,l,d){return o.apply(l,d)}runGuarded(o,l,d){return o.apply(l,d)}runOutsideAngular(o){return o()}runTask(o,l,d,h){return o.apply(l,d)}}let nm=(()=>{class s{constructor(l){this._ngZone=l,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),l.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ds.assertNotInAngularZone(),su(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())su(()=>{for(;0!==this._callbacks.length;){let l=this._callbacks.pop();clearTimeout(l.timeoutId),l.doneCb(this._didWork)}this._didWork=!1});else{let l=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(l)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(l=>({source:l.source,creationLocation:l.creationLocation,data:l.data})):[]}addCallback(l,d,h){let p=-1;d&&d>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==p),l(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:l,timeoutId:p,updateCb:h})}whenStable(l,d,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(l,d,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(l,d,h){return[]}}return s.\u0275fac=function(l){return new(l||s)(ci(Ds))},s.\u0275prov=Yt({token:s,factory:s.\u0275fac}),s})(),WT=(()=>{class s{constructor(){this._applications=new Map,Oy.addToWindow(this)}registerApplication(l,d){this._applications.set(l,d)}unregisterApplication(l){this._applications.delete(l)}unregisterAllApplications(){this._applications.clear()}getTestability(l){return this._applications.get(l)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(l,d=!0){return Oy.findTestabilityInTree(this,l,d)}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=Yt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();class YT{addToWindow(o){}findTestabilityInTree(o,l,d){return null}}function XC(s){Oy=s}let Jr,Oy=new YT;const QT=new wn("AllowMultipleToken");class ou{constructor(o,l){this.name=o,this.token=l}}function eE(s,o,l=[]){const d=`Platform: ${o}`,h=new wn(d);return(p=[])=>{let y=Fy();if(!y||y.injector.get(QT,!1))if(s)s(l.concat(p).concat({provide:h,useValue:!0}));else{const w=l.concat(p).concat({provide:h,useValue:!0},{provide:ep,useValue:"platform"});!function Uo(s){if(Jr&&!Jr.destroyed&&!Jr.injector.get(QT,!1))throw new Re(400,"");Jr=s.get(JT);const o=s.get(FT,null);o&&o.forEach(l=>l())}(Ks.create({providers:w,name:d}))}return function Py(s){const o=Fy();if(!o)throw new Re(401,"");return o}()}}function Fy(){return Jr&&!Jr.destroyed?Jr:null}let JT=(()=>{class s{constructor(l){this._injector=l,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(l,d){const w=function Ny(s,o){let l;return l="noop"===s?new qT:("zone.js"===s?void 0:s)||new Ds({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==o?void 0:o.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==o?void 0:o.ngZoneRunCoalescing)}),l}(d?d.ngZone:void 0,{ngZoneEventCoalescing:d&&d.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:d&&d.ngZoneRunCoalescing||!1}),E=[{provide:Ds,useValue:w}];return w.run(()=>{const A=Ks.create({providers:E,parent:this.injector,name:l.moduleType.name}),T=l.create(A),x=T.injector.get(zf,null);if(!x)throw new Re(402,"");return w.runOutsideAngular(()=>{const U=w.onError.subscribe({next:W=>{x.handleError(W)}});T.onDestroy(()=>{jo(this._modules,T),U.unsubscribe()})}),function XT(s,o,l){try{const d=l();return cw(d)?d.catch(h=>{throw o.runOutsideAngular(()=>s.handleError(h)),h}):d}catch(d){throw o.runOutsideAngular(()=>s.handleError(d)),d}}(x,w,()=>{const U=T.injector.get(My);return U.runInitializers(),U.donePromise.then(()=>(function bS(s){it(s,"Expected localeId to be defined"),"string"==typeof s&&(vS=s.toLowerCase().replace(/_/g,"-"))}(T.injector.get(xy,Kc)||Kc),this._moduleDoBootstrap(T),T))})})}bootstrapModule(l,d=[]){const h=tE({},d);return function ZT(s,o,l){const d=new MC(l);return Promise.resolve(d)}(0,0,l).then(p=>this.bootstrapModuleFactory(p,h))}_moduleDoBootstrap(l){const d=l.injector.get(Ly);if(l._bootstrapComponents.length>0)l._bootstrapComponents.forEach(h=>d.bootstrap(h));else{if(!l.instance.ngDoBootstrap)throw new Re(403,"");l.instance.ngDoBootstrap(d)}this._modules.push(l)}onDestroy(l){this._destroyListeners.push(l)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Re(404,"");this._modules.slice().forEach(l=>l.destroy()),this._destroyListeners.forEach(l=>l()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(l){return new(l||s)(ci(Ks))},s.\u0275prov=Yt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function tE(s,o){return Array.isArray(o)?o.reduce(tE,s):Object.assign(Object.assign({},s),o)}let Ly=(()=>{class s{constructor(l,d,h,p){this._zone=l,this._injector=d,this._exceptionHandler=h,this._initStatus=p,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const y=new P.y(E=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{E.next(this._stable),E.complete()})}),w=new P.y(E=>{let A;this._zone.runOutsideAngular(()=>{A=this._zone.onStable.subscribe(()=>{Ds.assertNotInAngularZone(),su(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,E.next(!0))})})});const T=this._zone.onUnstable.subscribe(()=>{Ds.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{E.next(!1)}))});return()=>{A.unsubscribe(),T.unsubscribe()}});this.isStable=(0,le.T)(y,w.pipe((0,ye.B)()))}bootstrap(l,d){if(!this._initStatus.done)throw new Re(405,"");let h;h=l instanceof ny?l:this._injector.get(Rp).resolveComponentFactory(l),this.componentTypes.push(h.componentType);const p=function KT(s){return s.isBoundToModule}(h)?void 0:this._injector.get(th),w=h.create(Ks.NULL,[],d||h.selector,p),E=w.location.nativeElement,A=w.injector.get(nm,null),T=A&&w.injector.get(WT);return A&&T&&T.registerApplication(E,A),w.onDestroy(()=>{this.detachView(w.hostView),jo(this.components,w),T&&T.unregisterApplication(E)}),this._loadComponent(w),w}tick(){if(this._runningTick)throw new Re(101,"");try{this._runningTick=!0;for(let l of this._views)l.detectChanges()}catch(l){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(l))}finally{this._runningTick=!1}}attachView(l){const d=l;this._views.push(d),d.attachToAppRef(this)}detachView(l){const d=l;jo(this._views,d),d.detachFromAppRef()}_loadComponent(l){this.attachView(l.hostView),this.tick(),this.components.push(l),this._injector.get(NT,[]).concat(this._bootstrapListeners).forEach(h=>h(l))}ngOnDestroy(){this._views.slice().forEach(l=>l.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return s.\u0275fac=function(l){return new(l||s)(ci(Ds),ci(Ks),ci(zf),ci(My))},s.\u0275prov=Yt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function jo(s,o){const l=s.indexOf(o);l>-1&&s.splice(l,1)}let By=!0,rm=!1;function Uy(){return rm=!0,By}function jy(){if(rm)throw new Error("Cannot enable prod mode after platform setup.");By=!1}let eM=(()=>{class s{}return s.__NG_ELEMENT_ID__=wi,s})();function wi(s){return function tM(s,o,l){if(Ou(s)&&!l){const d=Ti(s.index,o);return new eh(d,d)}return 47&s.type?new eh(o[16],o):null}(fn(),_e(),16==(16&s))}class cE{constructor(){}supports(o){return wl(o)}create(o){return new oM(o)}}const sM=(s,o)=>o;class oM{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||sM}forEachItem(o){let l;for(l=this._itHead;null!==l;l=l._next)o(l)}forEachOperation(o){let l=this._itHead,d=this._removalsHead,h=0,p=null;for(;l||d;){const y=!d||l&&l.currentIndex<cm(d,h,p)?l:d,w=cm(y,h,p),E=y.currentIndex;if(y===d)h--,d=d._nextRemoved;else if(l=l._next,null==y.previousIndex)h++;else{p||(p=[]);const A=w-h,T=E-h;if(A!=T){for(let U=0;U<A;U++){const W=U<p.length?p[U]:p[U]=0,ce=W+U;T<=ce&&ce<A&&(p[U]=W+1)}p[y.previousIndex]=T-A}}w!==E&&o(y,w,E)}}forEachPreviousItem(o){let l;for(l=this._previousItHead;null!==l;l=l._nextPrevious)o(l)}forEachAddedItem(o){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)o(l)}forEachMovedItem(o){let l;for(l=this._movesHead;null!==l;l=l._nextMoved)o(l)}forEachRemovedItem(o){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)o(l)}forEachIdentityChange(o){let l;for(l=this._identityChangesHead;null!==l;l=l._nextIdentityChange)o(l)}diff(o){if(null==o&&(o=[]),!wl(o))throw new Re(900,"");return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let h,p,y,l=this._itHead,d=!1;if(Array.isArray(o)){this.length=o.length;for(let w=0;w<this.length;w++)p=o[w],y=this._trackByFn(w,p),null!==l&&Object.is(l.trackById,y)?(d&&(l=this._verifyReinsertion(l,p,y,w)),Object.is(l.item,p)||this._addIdentityChange(l,p)):(l=this._mismatch(l,p,y,w),d=!0),l=l._next}else h=0,function VA(s,o){if(Array.isArray(s))for(let l=0;l<s.length;l++)o(s[l]);else{const l=s[bl()]();let d;for(;!(d=l.next()).done;)o(d.value)}}(o,w=>{y=this._trackByFn(h,w),null!==l&&Object.is(l.trackById,y)?(d&&(l=this._verifyReinsertion(l,w,y,h)),Object.is(l.item,w)||this._addIdentityChange(l,w)):(l=this._mismatch(l,w,y,h),d=!0),l=l._next,h++}),this.length=h;return this._truncate(l),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,l,d,h){let p;return null===o?p=this._itTail:(p=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(o.item,l)||this._addIdentityChange(o,l),this._reinsertAfter(o,p,h)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(d,h))?(Object.is(o.item,l)||this._addIdentityChange(o,l),this._moveAfter(o,p,h)):o=this._addAfter(new aM(l,d),p,h),o}_verifyReinsertion(o,l,d,h){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==p?o=this._reinsertAfter(p,o._prev,h):o.currentIndex!=h&&(o.currentIndex=h,this._addToMoves(o,h)),o}_truncate(o){for(;null!==o;){const l=o._next;this._addToRemovals(this._unlink(o)),o=l}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,l,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const h=o._prevRemoved,p=o._nextRemoved;return null===h?this._removalsHead=p:h._nextRemoved=p,null===p?this._removalsTail=h:p._prevRemoved=h,this._insertAfter(o,l,d),this._addToMoves(o,d),o}_moveAfter(o,l,d){return this._unlink(o),this._insertAfter(o,l,d),this._addToMoves(o,d),o}_addAfter(o,l,d){return this._insertAfter(o,l,d),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,l,d){const h=null===l?this._itHead:l._next;return o._next=h,o._prev=l,null===h?this._itTail=o:h._prev=o,null===l?this._itHead=o:l._next=o,null===this._linkedRecords&&(this._linkedRecords=new dE),this._linkedRecords.put(o),o.currentIndex=d,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const l=o._prev,d=o._next;return null===l?this._itHead=d:l._next=d,null===d?this._itTail=l:d._prev=l,o}_addToMoves(o,l){return o.previousIndex===l||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new dE),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,l){return o.item=l,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class aM{constructor(o,l){this.item=o,this.trackById=l,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class uE{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,l){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===l||l<=d.currentIndex)&&Object.is(d.trackById,o))return d;return null}remove(o){const l=o._prevDup,d=o._nextDup;return null===l?this._head=d:l._nextDup=d,null===d?this._tail=l:d._prevDup=l,null===this._head}}class dE{constructor(){this.map=new Map}put(o){const l=o.trackById;let d=this.map.get(l);d||(d=new uE,this.map.set(l,d)),d.add(o)}get(o,l){const h=this.map.get(o);return h?h.get(o,l):null}remove(o){const l=o.trackById;return this.map.get(l).remove(o)&&this.map.delete(l),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function cm(s,o,l){const d=s.previousIndex;if(null===d)return d;let h=0;return l&&d<l.length&&(h=l[d]),d+o+h}class hE{constructor(){}supports(o){return o instanceof Map||ko(o)}create(){return new fE}}class fE{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let l;for(l=this._mapHead;null!==l;l=l._next)o(l)}forEachPreviousItem(o){let l;for(l=this._previousMapHead;null!==l;l=l._nextPrevious)o(l)}forEachChangedItem(o){let l;for(l=this._changesHead;null!==l;l=l._nextChanged)o(l)}forEachAddedItem(o){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)o(l)}forEachRemovedItem(o){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)o(l)}diff(o){if(o){if(!(o instanceof Map||ko(o)))throw new Re(900,"")}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let l=this._mapHead;if(this._appendAfter=null,this._forEach(o,(d,h)=>{if(l&&l.key===h)this._maybeAddToChanges(l,d),this._appendAfter=l,l=l._next;else{const p=this._getOrCreateRecordForKey(h,d);l=this._insertBeforeOrAppend(l,p)}}),l){l._prev&&(l._prev._next=null),this._removalsHead=l;for(let d=l;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,l){if(o){const d=o._prev;return l._next=o,l._prev=d,o._prev=l,d&&(d._next=l),o===this._mapHead&&(this._mapHead=l),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=l,l._prev=this._appendAfter):this._mapHead=l,this._appendAfter=l,null}_getOrCreateRecordForKey(o,l){if(this._records.has(o)){const h=this._records.get(o);this._maybeAddToChanges(h,l);const p=h._prev,y=h._next;return p&&(p._next=y),y&&(y._prev=p),h._next=null,h._prev=null,h}const d=new zy(o);return this._records.set(o,d),d.currentValue=l,this._addToAdditions(d),d}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,l){Object.is(l,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=l,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,l){o instanceof Map?o.forEach(l):Object.keys(o).forEach(d=>l(o[d],d))}}class zy{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function pE(){return new hh([new cE])}let hh=(()=>{class s{constructor(l){this.factories=l}static create(l,d){if(null!=d){const h=d.factories.slice();l=l.concat(h)}return new s(l)}static extend(l){return{provide:s,useFactory:d=>s.create(l,d||pE()),deps:[[s,new $r,new fs]]}}find(l){const d=this.factories.find(h=>h.supports(l));if(null!=d)return d;throw new Re(901,"")}}return s.\u0275prov=Yt({token:s,providedIn:"root",factory:pE}),s})();function um(){return new dm([new hE])}let dm=(()=>{class s{constructor(l){this.factories=l}static create(l,d){if(d){const h=d.factories.slice();l=l.concat(h)}return new s(l)}static extend(l){return{provide:s,useFactory:d=>s.create(l,d||um()),deps:[[s,new $r,new fs]]}}find(l){const d=this.factories.find(p=>p.supports(l));if(d)return d;throw new Re(901,"")}}return s.\u0275prov=Yt({token:s,providedIn:"root",factory:um}),s})();const cM=eE(null,"core",[]);let qy=(()=>{class s{constructor(l){}}return s.\u0275fac=function(l){return new(l||s)(ci(Ly))},s.\u0275mod=M({type:s}),s.\u0275inj=Zt({}),s})()},3942:(ut,Ce,F)=>{F.d(Ce,{Z:()=>Re});var c=F(2090),B=F(4859),P=F(9681),le=F(1877);class ye{constructor(X,Ee){this._delegate=X,this.firebase=Ee,(0,P._addComponent)(X,new B.wA("app-compat",()=>this,"PUBLIC")),this.container=X.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(X){this._delegate.automaticDataCollectionEnabled=X}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(X=>{this._delegate.checkDestroyed(),X()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,P.deleteApp)(this._delegate)))}_getService(X,Ee=P._DEFAULT_ENTRY_NAME){var $e;this._delegate.checkDestroyed();const Ve=this._delegate.container.getProvider(X);return!Ve.isInitialized()&&"EXPLICIT"===(null===($e=Ve.getComponent())||void 0===$e?void 0:$e.instantiationMode)&&Ve.initialize(),Ve.getImmediate({identifier:Ee})}_removeServiceInstance(X,Ee=P._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(X).clearInstance(Ee)}_addComponent(X){(0,P._addComponent)(this._delegate,X)}_addOrOverwriteComponent(X){(0,P._addOrOverwriteComponent)(this._delegate,X)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const de=new c.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),z=function Ie(){const Se=function he(Se){const X={},Ee={__esModule:!0,initializeApp:function De(Q,Be={}){const Y=P.initializeApp(Q,Be);if((0,c.r3)(X,Y.name))return X[Y.name];const se=new Se(Y,Ee);return X[Y.name]=se,se},app:Ve,registerVersion:P.registerVersion,setLogLevel:P.setLogLevel,onLog:P.onLog,apps:null,SDK_VERSION:P.SDK_VERSION,INTERNAL:{registerComponent:function ue(Q){const Be=Q.name,Y=Be.replace("-compat","");if(P._registerComponent(Q)&&"PUBLIC"===Q.type){const se=(te=Ve())=>{if("function"!=typeof te[Y])throw de.create("invalid-app-argument",{appName:Be});return te[Y]()};void 0!==Q.serviceProps&&(0,c.ZB)(se,Q.serviceProps),Ee[Y]=se,Se.prototype[Y]=function(...te){return this._getService.bind(this,Be).apply(this,Q.multipleInstances?te:[])}}return"PUBLIC"===Q.type?Ee[Y]:null},removeApp:function $e(Q){delete X[Q]},useAsService:function Fe(Q,Be){return"serverAuth"===Be?null:Be},modularAPIs:P}};function Ve(Q){if(!(0,c.r3)(X,Q=Q||P._DEFAULT_ENTRY_NAME))throw de.create("no-app",{appName:Q});return X[Q]}return Ee.default=Ee,Object.defineProperty(Ee,"apps",{get:function ge(){return Object.keys(X).map(Q=>X[Q])}}),Ve.App=Se,Ee}(ye);return Se.INTERNAL=Object.assign(Object.assign({},Se.INTERNAL),{createFirebaseNamespace:Ie,extendNamespace:function X(Ee){(0,c.ZB)(Se,Ee)},createSubscribe:c.ne,ErrorFactory:c.LL,deepExtend:c.ZB}),Se}(),$=new le.Yd("@firebase/app-compat");if((0,c.jU)()&&void 0!==self.firebase){$.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Se=self.firebase.SDK_VERSION;Se&&Se.indexOf("LITE")>=0&&$.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Re=z;!function Ae(Se){(0,P.registerVersion)("@firebase/app-compat","0.1.22",Se)}()},9681:(ut,Ce,F)=>{F.r(Ce),F.d(Ce,{FirebaseError:()=>le.ZR,SDK_VERSION:()=>Vr,_DEFAULT_ENTRY_NAME:()=>Fn,_addComponent:()=>pn,_addOrOverwriteComponent:()=>gr,_apps:()=>st,_clearComponents:()=>yn,_components:()=>_n,_getProvider:()=>zt,_registerComponent:()=>Yt,_removeServiceInstance:()=>Zt,deleteApp:()=>io,getApp:()=>yr,getApps:()=>Di,initializeApp:()=>sr,onLog:()=>Nn,registerVersion:()=>ji,setLogLevel:()=>Xt});var c=F(5861),B=F(4859),P=F(1877),le=F(2090);class ye{constructor(pe){this.container=pe}getPlatformInfoString(){return this.container.getProviders().map(ze=>{if(function ve(Pe){const pe=Pe.getComponent();return"VERSION"===(null==pe?void 0:pe.type)}(ze)){const rt=ze.getImmediate();return`${rt.library}/${rt.version}`}return null}).filter(ze=>ze).join(" ")}}const de="@firebase/app",Ie=new P.Yd("@firebase/app"),Fn="[DEFAULT]",it={[de]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},st=new Map,_n=new Map;function pn(Pe,pe){try{Pe.container.addComponent(pe)}catch(ze){Ie.debug(`Component ${pe.name} failed to register with FirebaseApp ${Pe.name}`,ze)}}function gr(Pe,pe){Pe.container.addOrOverwriteComponent(pe)}function Yt(Pe){const pe=Pe.name;if(_n.has(pe))return Ie.debug(`There were multiple attempts to register component ${pe}.`),!1;_n.set(pe,Pe);for(const ze of st.values())pn(ze,Pe);return!0}function zt(Pe,pe){const ze=Pe.container.getProvider("heartbeat").getImmediate({optional:!0});return ze&&ze.triggerHeartbeat(),Pe.container.getProvider(pe)}function Zt(Pe,pe,ze=Fn){zt(Pe,pe).clearInstance(ze)}function yn(){_n.clear()}const Ei=new le.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class gi{constructor(pe,ze,rt){this._isDeleted=!1,this._options=Object.assign({},pe),this._config=Object.assign({},ze),this._name=ze.name,this._automaticDataCollectionEnabled=ze.automaticDataCollectionEnabled,this._container=rt,this.container.addComponent(new B.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(pe){this.checkDestroyed(),this._automaticDataCollectionEnabled=pe}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(pe){this._isDeleted=pe}checkDestroyed(){if(this.isDeleted)throw Ei.create("app-deleted",{appName:this._name})}}const Vr="9.6.11";function sr(Pe,pe={}){"object"!=typeof pe&&(pe={name:pe});const ze=Object.assign({name:Fn,automaticDataCollectionEnabled:!1},pe),rt=ze.name;if("string"!=typeof rt||!rt)throw Ei.create("bad-app-name",{appName:String(rt)});const kt=st.get(rt);if(kt){if((0,le.vZ)(Pe,kt.options)&&(0,le.vZ)(ze,kt.config))return kt;throw Ei.create("duplicate-app",{appName:rt})}const xt=new B.H0(rt);for(const N of _n.values())xt.addComponent(N);const j=new gi(Pe,ze,xt);return st.set(rt,j),j}function yr(Pe=Fn){const pe=st.get(Pe);if(!pe)throw Ei.create("no-app",{appName:Pe});return pe}function Di(){return Array.from(st.values())}function io(Pe){return at.apply(this,arguments)}function at(){return(at=(0,c.Z)(function*(Pe){const pe=Pe.name;st.has(pe)&&(st.delete(pe),yield Promise.all(Pe.container.getProviders().map(ze=>ze.delete())),Pe.isDeleted=!0)})).apply(this,arguments)}function ji(Pe,pe,ze){var rt;let kt=null!==(rt=it[Pe])&&void 0!==rt?rt:Pe;ze&&(kt+=`-${ze}`);const xt=kt.match(/\s|\//),j=pe.match(/\s|\//);if(xt||j){const N=[`Unable to register library "${kt}" with version "${pe}":`];return xt&&N.push(`library name "${kt}" contains illegal characters (whitespace or "/")`),xt&&j&&N.push("and"),j&&N.push(`version name "${pe}" contains illegal characters (whitespace or "/")`),void Ie.warn(N.join(" "))}Yt(new B.wA(`${kt}-version`,()=>({library:kt,version:pe}),"VERSION"))}function Nn(Pe,pe){if(null!==Pe&&"function"!=typeof Pe)throw Ei.create("invalid-log-argument");(0,P.Am)(Pe,pe)}function Xt(Pe){(0,P.Ub)(Pe)}const Ln="firebase-heartbeat-store";let An=null;function Ii(){return An||(An=(0,le.X3)("firebase-heartbeat-database",1,(Pe,pe)=>{0===pe&&Pe.createObjectStore(Ln)}).catch(Pe=>{throw Ei.create("storage-open",{originalErrorMessage:Pe.message})})),An}function Rt(){return(Rt=(0,c.Z)(function*(Pe){try{return(yield Ii()).transaction(Ln).objectStore(Ln).get(vr(Pe))}catch(pe){throw Ei.create("storage-get",{originalErrorMessage:pe.message})}})).apply(this,arguments)}function ot(Pe,pe){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,c.Z)(function*(Pe,pe){try{const rt=(yield Ii()).transaction(Ln,"readwrite");return yield rt.objectStore(Ln).put(pe,vr(Pe)),rt.complete}catch(ze){throw Ei.create("storage-set",{originalErrorMessage:ze.message})}})).apply(this,arguments)}function vr(Pe){return`${Pe.name}!${Pe.options.appId}`}class Ur{constructor(pe){this.container=pe,this._heartbeatsCache=null;const ze=this.container.getProvider("app").getImmediate();this._storage=new lt(ze),this._heartbeatsCachePromise=this._storage.read().then(rt=>(this._heartbeatsCache=rt,rt))}triggerHeartbeat(){var pe=this;return(0,c.Z)(function*(){const rt=pe.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),kt=Cn();if(null===pe._heartbeatsCache&&(pe._heartbeatsCache=yield pe._heartbeatsCachePromise),pe._heartbeatsCache.lastSentHeartbeatDate!==kt&&!pe._heartbeatsCache.heartbeats.some(xt=>xt.date===kt))return pe._heartbeatsCache.heartbeats.push({date:kt,agent:rt}),pe._heartbeatsCache.heartbeats=pe._heartbeatsCache.heartbeats.filter(xt=>{const j=new Date(xt.date).valueOf();return Date.now()-j<=2592e6}),pe._storage.overwrite(pe._heartbeatsCache)})()}getHeartbeatsHeader(){var pe=this;return(0,c.Z)(function*(){if(null===pe._heartbeatsCache&&(yield pe._heartbeatsCachePromise),null===pe._heartbeatsCache||0===pe._heartbeatsCache.heartbeats.length)return"";const ze=Cn(),{heartbeatsToSend:rt,unsentEntries:kt}=function nn(Pe,pe=1024){const ze=[];let rt=Pe.slice();for(const kt of Pe){const xt=ze.find(j=>j.agent===kt.agent);if(xt){if(xt.dates.push(kt.date),Vn(ze)>pe){xt.dates.pop();break}}else if(ze.push({agent:kt.agent,dates:[kt.date]}),Vn(ze)>pe){ze.pop();break}rt=rt.slice(1)}return{heartbeatsToSend:ze,unsentEntries:rt}}(pe._heartbeatsCache.heartbeats),xt=(0,le.L)(JSON.stringify({version:2,heartbeats:rt}));return pe._heartbeatsCache.lastSentHeartbeatDate=ze,kt.length>0?(pe._heartbeatsCache.heartbeats=kt,yield pe._storage.overwrite(pe._heartbeatsCache)):(pe._heartbeatsCache.heartbeats=[],pe._storage.overwrite(pe._heartbeatsCache)),xt})()}}function Cn(){return(new Date).toISOString().substring(0,10)}class lt{constructor(pe){this.app=pe,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,c.Z)(function*(){return!!(0,le.hl)()&&(0,le.eu)().then(()=>!0).catch(()=>!1)})()}read(){var pe=this;return(0,c.Z)(function*(){return(yield pe._canUseIndexedDBPromise)&&(yield function ro(Pe){return Rt.apply(this,arguments)}(pe.app))||{heartbeats:[]}})()}overwrite(pe){var ze=this;return(0,c.Z)(function*(){var rt;if(yield ze._canUseIndexedDBPromise){const xt=yield ze.read();return ot(ze.app,{lastSentHeartbeatDate:null!==(rt=pe.lastSentHeartbeatDate)&&void 0!==rt?rt:xt.lastSentHeartbeatDate,heartbeats:pe.heartbeats})}})()}add(pe){var ze=this;return(0,c.Z)(function*(){var rt;if(yield ze._canUseIndexedDBPromise){const xt=yield ze.read();return ot(ze.app,{lastSentHeartbeatDate:null!==(rt=pe.lastSentHeartbeatDate)&&void 0!==rt?rt:xt.lastSentHeartbeatDate,heartbeats:[...xt.heartbeats,...pe.heartbeats]})}})()}}function Vn(Pe){return(0,le.L)(JSON.stringify({version:2,heartbeats:Pe})).length}!function Bt(Pe){Yt(new B.wA("platform-logger",pe=>new ye(pe),"PRIVATE")),Yt(new B.wA("heartbeat",pe=>new Ur(pe),"PRIVATE")),ji(de,"0.7.21",Pe),ji(de,"0.7.21","esm2017"),ji("fire-js","")}("")},4859:(ut,Ce,F)=>{F.d(Ce,{H0:()=>he,wA:()=>P});var c=F(5861),B=F(2090);class P{constructor(z,$,K){this.name=z,this.instanceFactory=$,this.type=K,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(z){return this.instantiationMode=z,this}setMultipleInstances(z){return this.multipleInstances=z,this}setServiceProps(z){return this.serviceProps=z,this}setInstanceCreatedCallback(z){return this.onInstanceCreated=z,this}}const le="[DEFAULT]";class ye{constructor(z,$){this.name=z,this.container=$,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(z){const $=this.normalizeInstanceIdentifier(z);if(!this.instancesDeferred.has($)){const K=new B.BH;if(this.instancesDeferred.set($,K),this.isInitialized($)||this.shouldAutoInitialize())try{const je=this.getOrInitializeService({instanceIdentifier:$});je&&K.resolve(je)}catch(je){}}return this.instancesDeferred.get($).promise}getImmediate(z){var $;const K=this.normalizeInstanceIdentifier(null==z?void 0:z.identifier),je=null!==($=null==z?void 0:z.optional)&&void 0!==$&&$;if(!this.isInitialized(K)&&!this.shouldAutoInitialize()){if(je)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:K})}catch(Ae){if(je)return null;throw Ae}}getComponent(){return this.component}setComponent(z){if(z.name!==this.name)throw Error(`Mismatching Component ${z.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=z,this.shouldAutoInitialize()){if(function de(Ie){return"EAGER"===Ie.instantiationMode}(z))try{this.getOrInitializeService({instanceIdentifier:le})}catch($){}for(const[$,K]of this.instancesDeferred.entries()){const je=this.normalizeInstanceIdentifier($);try{const Ae=this.getOrInitializeService({instanceIdentifier:je});K.resolve(Ae)}catch(Ae){}}}}clearInstance(z=le){this.instancesDeferred.delete(z),this.instancesOptions.delete(z),this.instances.delete(z)}delete(){var z=this;return(0,c.Z)(function*(){const $=Array.from(z.instances.values());yield Promise.all([...$.filter(K=>"INTERNAL"in K).map(K=>K.INTERNAL.delete()),...$.filter(K=>"_delete"in K).map(K=>K._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(z=le){return this.instances.has(z)}getOptions(z=le){return this.instancesOptions.get(z)||{}}initialize(z={}){const{options:$={}}=z,K=this.normalizeInstanceIdentifier(z.instanceIdentifier);if(this.isInitialized(K))throw Error(`${this.name}(${K}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const je=this.getOrInitializeService({instanceIdentifier:K,options:$});for(const[Ae,Re]of this.instancesDeferred.entries())K===this.normalizeInstanceIdentifier(Ae)&&Re.resolve(je);return je}onInit(z,$){var K;const je=this.normalizeInstanceIdentifier($),Ae=null!==(K=this.onInitCallbacks.get(je))&&void 0!==K?K:new Set;Ae.add(z),this.onInitCallbacks.set(je,Ae);const Re=this.instances.get(je);return Re&&z(Re,je),()=>{Ae.delete(z)}}invokeOnInitCallbacks(z,$){const K=this.onInitCallbacks.get($);if(K)for(const je of K)try{je(z,$)}catch(Ae){}}getOrInitializeService({instanceIdentifier:z,options:$={}}){let K=this.instances.get(z);if(!K&&this.component&&(K=this.component.instanceFactory(this.container,{instanceIdentifier:(Ie=z,Ie===le?void 0:Ie),options:$}),this.instances.set(z,K),this.instancesOptions.set(z,$),this.invokeOnInitCallbacks(K,z),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,z,K)}catch(je){}var Ie;return K||null}normalizeInstanceIdentifier(z=le){return this.component?this.component.multipleInstances?z:le:z}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class he{constructor(z){this.name=z,this.providers=new Map}addComponent(z){const $=this.getProvider(z.name);if($.isComponentSet())throw new Error(`Component ${z.name} has already been registered with ${this.name}`);$.setComponent(z)}addOrOverwriteComponent(z){this.getProvider(z.name).isComponentSet()&&this.providers.delete(z.name),this.addComponent(z)}getProvider(z){if(this.providers.has(z))return this.providers.get(z);const $=new ye(z,this);return this.providers.set(z,$),$}getProviders(){return Array.from(this.providers.values())}}},1877:(ut,Ce,F)=>{F.d(Ce,{Am:()=>Ie,Ub:()=>he,Yd:()=>de,in:()=>B});const c=[];var B=(()=>{return(z=B||(B={}))[z.DEBUG=0]="DEBUG",z[z.VERBOSE=1]="VERBOSE",z[z.INFO=2]="INFO",z[z.WARN=3]="WARN",z[z.ERROR=4]="ERROR",z[z.SILENT=5]="SILENT",B;var z})();const P={debug:B.DEBUG,verbose:B.VERBOSE,info:B.INFO,warn:B.WARN,error:B.ERROR,silent:B.SILENT},le=B.INFO,ye={[B.DEBUG]:"log",[B.VERBOSE]:"log",[B.INFO]:"info",[B.WARN]:"warn",[B.ERROR]:"error"},ve=(z,$,...K)=>{if($<z.logLevel)return;const je=(new Date).toISOString(),Ae=ye[$];if(!Ae)throw new Error(`Attempted to log a message with an invalid logType (value: ${$})`);console[Ae](`[${je}]  ${z.name}:`,...K)};class de{constructor($){this.name=$,this._logLevel=le,this._logHandler=ve,this._userLogHandler=null,c.push(this)}get logLevel(){return this._logLevel}set logLevel($){if(!($ in B))throw new TypeError(`Invalid value "${$}" assigned to \`logLevel\``);this._logLevel=$}setLogLevel($){this._logLevel="string"==typeof $?P[$]:$}get logHandler(){return this._logHandler}set logHandler($){if("function"!=typeof $)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=$}get userLogHandler(){return this._userLogHandler}set userLogHandler($){this._userLogHandler=$}debug(...$){this._userLogHandler&&this._userLogHandler(this,B.DEBUG,...$),this._logHandler(this,B.DEBUG,...$)}log(...$){this._userLogHandler&&this._userLogHandler(this,B.VERBOSE,...$),this._logHandler(this,B.VERBOSE,...$)}info(...$){this._userLogHandler&&this._userLogHandler(this,B.INFO,...$),this._logHandler(this,B.INFO,...$)}warn(...$){this._userLogHandler&&this._userLogHandler(this,B.WARN,...$),this._logHandler(this,B.WARN,...$)}error(...$){this._userLogHandler&&this._userLogHandler(this,B.ERROR,...$),this._logHandler(this,B.ERROR,...$)}}function he(z){c.forEach($=>{$.setLogLevel(z)})}function Ie(z,$){for(const K of c){let je=null;$&&$.level&&(je=P[$.level]),K.userLogHandler=null===z?null:(Ae,Re,...Se)=>{const X=Se.map(Ee=>{if(null==Ee)return null;if("string"==typeof Ee)return Ee;if("number"==typeof Ee||"boolean"==typeof Ee)return Ee.toString();if(Ee instanceof Error)return Ee.message;try{return JSON.stringify(Ee)}catch($e){return null}}).filter(Ee=>Ee).join(" ");Re>=(null!=je?je:Ae.logLevel)&&z({level:B[Re].toLowerCase(),message:X,args:Se,type:Ae.name})}}}},5861:(ut,Ce,F)=>{function c(P,le,ye,ve,de,he,Ie){try{var z=P[he](Ie),$=z.value}catch(K){return void ye(K)}z.done?le($):Promise.resolve($).then(ve,de)}function B(P){return function(){var le=this,ye=arguments;return new Promise(function(ve,de){var he=P.apply(le,ye);function Ie($){c(he,ve,de,Ie,z,"next",$)}function z($){c(he,ve,de,Ie,z,"throw",$)}Ie(void 0)})}}F.d(Ce,{Z:()=>B})}},ut=>{ut(ut.s=9134)}]);